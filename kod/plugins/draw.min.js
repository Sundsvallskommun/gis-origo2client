var Draw;(()=>{var t={5168:(t,e,n)=>{t.exports=n(8137)},1001:(t,e,n)=>{t.exports=n(2597)},8240:(t,e,n)=>{t.exports=n(5305)},9444:(t,e,n)=>{t.exports=n(5772)},8137:(t,e,n)=>{n(5573),t.exports=n(2057).Array.isArray},2597:(t,e,n)=>{n(1566),t.exports=n(2057).Object.assign},5305:(t,e,n)=>{n(6414);var i=n(2057).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},5772:(t,e,n)=>{n(9209);var i=n(2057).Object;t.exports=function(t){return i.getOwnPropertyNames(t)}},2508:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},403:(t,e,n)=>{var i=n(2730);t.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},2940:(t,e,n)=>{var i=n(9883),r=n(1771),o=n(420);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;c<u;)if((a=l[c++])!=a)return!0}else for(;c<u;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},9424:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},2057:t=>{t=t.exports={version:"2.6.12"},"number"==typeof __e&&(__e=t)},5669:(t,e,n)=>{var i=n(2508);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},9815:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},3660:(t,e,n)=>{t.exports=!n(1103)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},213:(t,e,n)=>{var i=n(2730),r=n(9314).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},8539:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},788:(t,e,n)=>{function i(t,e,n){var c,h,p,f=t&i.F,d=t&i.G,g=t&i.S,y=t&i.P,v=t&i.B,m=t&i.W,_=d?o:o[e]||(o[e]={}),x=_[u],w=d?r:g?r[e]:(r[e]||{})[u];for(c in n=d?e:n)(h=!f&&w&&void 0!==w[c])&&l(_,c)||(p=(h?w:n)[c],_[c]=d&&"function"!=typeof w[c]?n[c]:v&&h?s(p,r):m&&w[c]==p?function(t){function e(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)}return e[u]=t[u],e}(p):y&&"function"==typeof p?s(Function.call,p):p,y&&((_.virtual||(_.virtual={}))[c]=p,t&i.R&&x&&!x[c]&&a(x,c,p)))}var r=n(9314),o=n(2057),s=n(5669),a=n(6925),l=n(1911),u="prototype";i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,t.exports=i},1103:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9314:t=>{t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=t)},1911:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},6925:(t,e,n)=>{var i=n(3273),r=n(209);t.exports=n(3660)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},6971:(t,e,n)=>{t.exports=!n(3660)&&!n(1103)((function(){return 7!=Object.defineProperty(n(213)("div"),"a",{get:function(){return 7}}).a}))},7582:(t,e,n)=>{var i=n(9424);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},5076:(t,e,n)=>{var i=n(9424);t.exports=Array.isArray||function(t){return"Array"==i(t)}},2730:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},3310:t=>{t.exports=!0},4526:(t,e,n)=>{var i=n(3660),r=n(5037),o=n(9568),s=n(4165),a=n(5367),l=n(7582),u=Object.assign;t.exports=!u||n(1103)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i}))?function(t,e){for(var n=a(t),u=arguments.length,c=1,h=o.f,p=s.f;c<u;)for(var f,d=l(arguments[c++]),g=h?r(d).concat(h(d)):r(d),y=g.length,v=0;v<y;)f=g[v++],i&&!p.call(d,f)||(n[f]=d[f]);return n}:u},3273:(t,e,n)=>{var i=n(403),r=n(6971),o=n(6783),s=Object.defineProperty;e.f=n(3660)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},4858:(t,e,n)=>{var i=n(9883),r=n(4283).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!s||"[object Window]"!=o.call(t))return r(i(t));try{return r(t)}catch(t){return s.slice()}}},4283:(t,e,n)=>{var i=n(987),r=n(8539).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9568:(t,e)=>{e.f=Object.getOwnPropertySymbols},987:(t,e,n)=>{var i=n(1911),r=n(9883),o=n(2940)(!1),s=n(4032)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)!i(a,n=e[l++])||~o(u,n)||u.push(n);return u}},5037:(t,e,n)=>{var i=n(987),r=n(8539);t.exports=Object.keys||function(t){return i(t,r)}},4165:(t,e)=>{e.f={}.propertyIsEnumerable},100:(t,e,n)=>{var i=n(788),r=n(2057),o=n(1103);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},209:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4032:(t,e,n)=>{var i=n(1828)("keys"),r=n(9172);t.exports=function(t){return i[t]||(i[t]=r(t))}},1828:(t,e,n)=>{var i=n(2057),r=n(9314),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(3310)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},420:(t,e,n)=>{var i=n(8194),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},8194:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},9883:(t,e,n)=>{var i=n(7582),r=n(9815);t.exports=function(t){return i(r(t))}},1771:(t,e,n)=>{var i=n(8194),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},5367:(t,e,n)=>{var i=n(9815);t.exports=function(t){return Object(i(t))}},6783:(t,e,n)=>{var i=n(2730);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(e||"function"!=typeof(n=t.toString)||i(r=n.call(t)))throw TypeError("Can't convert object to primitive value");return r}},9172:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},5573:(t,e,n)=>{var i=n(788);i(i.S,"Array",{isArray:n(5076)})},1566:(t,e,n)=>{var i=n(788);i(i.S+i.F,"Object",{assign:n(4526)})},6414:(t,e,n)=>{var i=n(788);i(i.S+i.F*!n(3660),"Object",{defineProperty:n(3273).f})},9209:(t,e,n)=>{n(100)("getOwnPropertyNames",(function(){return n(4858).f}))},1376:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},1343:(t,e,n)=>{var i=n(2274)("unscopables"),r=Array.prototype;null==r[i]&&n(1874)(r,i,{}),t.exports=function(t){r[i][t]=!0}},8083:(t,e,n)=>{var i=n(8918)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9944:(t,e,n)=>{var i=n(7375);t.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},6408:(t,e,n)=>{var i=n(8653),r=n(1995),o=n(7212);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;c<u;)if((a=l[c++])!=a)return!0}else for(;c<u;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},8098:(t,e,n)=>{var i=n(8267),r=n(6060),o=n(9366),s=n(1995),a=n(412);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,p=5==t||h,f=e||a;return function(e,a,d){for(var g,y,v=o(e),m=r(v),_=i(a,d,3),x=s(m.length),w=0,C=n?f(e,x):l?f(e,0):void 0;w<x;w++)if((p||w in m)&&(y=_(g=m[w],w,v),t))if(n)C[w]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:C.push(g)}else if(c)return!1;return h?-1:u||c?c:C}}},4135:(t,e,n)=>{var i=n(7375),r=n(8846),o=n(2274)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},412:(t,e,n)=>{var i=n(4135);t.exports=function(t,e){return new(i(t))(e)}},7022:(t,e,n)=>{var i=n(9805),r=n(2274)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),r))?e:o?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},9805:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9547:t=>{t=t.exports={version:"2.6.12"},"number"==typeof __e&&(__e=t)},8267:(t,e,n)=>{var i=n(1376);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},1559:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},1391:(t,e,n)=>{t.exports=!n(8052)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6406:(t,e,n)=>{var i=n(7375),r=n(5457).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},9005:(t,e,n)=>{function i(t,e,n){var c,h,p,f=t&i.F,d=t&i.G,g=t&i.P,y=t&i.B,v=d?r:t&i.S?r[e]||(r[e]={}):(r[e]||{})[u],m=d?o:o[e]||(o[e]={}),_=m[u]||(m[u]={});for(c in n=d?e:n)h=((p=!f&&v&&void 0!==v[c])?v:n)[c],p=y&&p?l(h,r):g&&"function"==typeof h?l(Function.call,h):h,v&&a(v,c,h,t&i.U),m[c]!=h&&s(m,c,p),g&&_[c]!=h&&(_[c]=h)}var r=n(5457),o=n(9547),s=n(1874),a=n(9344),l=n(8267),u="prototype";r.core=o,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,t.exports=i},4088:(t,e,n)=>{var i=n(2274)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},8052:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},5712:(t,e,n)=>{n(4231);var i,r=n(9344),o=n(1874),s=n(8052),a=n(1559),l=n(2274),u=n(115),c=l("species"),h=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=(i=(n=/(?:)/).exec,n.exec=function(){return i.apply(this,arguments)},2===(n="ab".split(n)).length&&"a"===n[0]&&"b"===n[1]);t.exports=function(t,e,n){var i,f,d=l(t),g=!s((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),y=g?!s((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e})):void 0;g&&y&&("replace"!==t||h)&&("split"!==t||p)||(i=/./[d],n=(y=n(a,d,""[t],(function(t,e,n,r,o){return e.exec===u?g&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})))[0],f=y[1],r(String.prototype,t,n),o(RegExp.prototype,d,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},1576:(t,e,n)=>{var i=n(9944);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},8088:(t,e,n)=>{t.exports=n(1629)("native-function-to-string",Function.toString)},5457:t=>{t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=t)},3821:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},1874:(t,e,n)=>{var i=n(9048),r=n(487);t.exports=n(1391)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},5414:(t,e,n)=>{n=n(5457).document,t.exports=n&&n.documentElement},6553:(t,e,n)=>{t.exports=!n(1391)&&!n(8052)((function(){return 7!=Object.defineProperty(n(6406)("div"),"a",{get:function(){return 7}}).a}))},6060:(t,e,n)=>{var i=n(9805);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},8846:(t,e,n)=>{var i=n(9805);t.exports=Array.isArray||function(t){return"Array"==i(t)}},7375:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},786:(t,e,n)=>{var i=n(7375),r=n(9805),o=n(2274)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},409:t=>{t.exports=!1},9048:(t,e,n)=>{var i=n(9944),r=n(6553),o=n(7408),s=Object.defineProperty;e.f=n(1391)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},487:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9344:(t,e,n)=>{var i=n(5457),r=n(1874),o=n(3821),s=n(4197)("src"),a=n(8088),l="toString",u=(""+a).split(l);n(9547).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&!o(n,"name")&&r(n,"name",e),t[e]!==n&&(l&&!o(n,s)&&r(n,s,t[e]?""+t[e]:u.join(String(e))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},8371:(t,e,n)=>{var i=n(7022),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){if("object"!=typeof(n=n.call(t,e)))throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},115:(t,e,n)=>{var i,r,o=n(1576),s=RegExp.prototype.exec,a=String.prototype.replace,l=(n=s,"lastIndex"),u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i[l]||0!==r[l]),c=void 0!==/()??/.exec("")[1];t.exports=n=u||c?function(t){var e,n,i,r,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",o.call(h))),u&&(e=h[l]),i=s.call(h,t),u&&i&&(h[l]=h.global?i.index+i[0].length:e),c&&i&&1<i.length&&a.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}:n},1629:(t,e,n)=>{var i=n(9547),r=n(5457),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(409)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},1706:(t,e,n)=>{var i=n(9944),r=n(1376),o=n(2274)("species");t.exports=function(t,e){return void 0===(t=i(t).constructor)||null==(t=i(t)[o])?e:r(t)}},3116:(t,e,n)=>{var i=n(8052);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},8918:(t,e,n)=>{var i=n(8571),r=n(1559);t.exports=function(t){return function(e,n){e=String(r(e)),n=i(n);var o,s=e.length;return n<0||s<=n?t?"":void 0:(o=e.charCodeAt(n))<55296||56319<o||n+1===s||(s=e.charCodeAt(n+1))<56320||57343<s?t?e.charAt(n):o:t?e.slice(n,n+2):s-56320+(o-55296<<10)+65536}}},4221:(t,e,n)=>{var i=n(786),r=n(1559);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},7212:(t,e,n)=>{var i=n(8571),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},8571:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},8653:(t,e,n)=>{var i=n(6060),r=n(1559);t.exports=function(t){return i(r(t))}},1995:(t,e,n)=>{var i=n(8571),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},9366:(t,e,n)=>{var i=n(1559);t.exports=function(t){return Object(i(t))}},7408:(t,e,n)=>{var i=n(7375);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(e||"function"!=typeof(n=t.toString)||i(r=n.call(t)))throw TypeError("Can't convert object to primitive value");return r}},4197:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},2274:(t,e,n)=>{var i=n(1629)("wks"),r=n(4197),o=n(5457).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},2119:(t,e,n)=>{var i=n(9005),r=n(8098)(1);i(i.P+i.F*!n(3116)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},844:(t,e,n)=>{var i=n(9005),r=n(5414),o=n(9805),s=n(7212),a=n(1995),l=[].slice;i(i.P+i.F*n(8052)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),u=(t=s(e,n),a(t-r)),c=new Array(u),h=0;h<u;h++)c[h]="String"==i?this.charAt(r+h):this[r+h];return c}})},3478:(t,e,n)=>{var i=n(7022),r={};r[n(2274)("toStringTag")]="z",r+""!="[object z]"&&n(9344)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},4231:(t,e,n)=>{var i=n(115);n(9005)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},6726:(t,e,n)=>{n(1391)&&"g"!=/./g.flags&&n(9048).f(RegExp.prototype,"flags",{configurable:!0,get:n(1576)})},8406:(t,e,n)=>{var i=n(9944),r=n(9366),o=n(1995),s=n(8571),a=n(8083),l=n(8371),u=Math.max,c=Math.min,h=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(5712)("replace",2,(function(t,e,n,d){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var g=d(n,t,this,e);if(g.done)return g.value;for(var y,v=i(t),m=String(this),_="function"==typeof e,x=(_||(e=String(e)),v.global),w=(x&&(y=v.unicode,v.lastIndex=0),[]);null!==(E=l(v,m))&&(w.push(E),x);)""===String(E[0])&&(v.lastIndex=a(m,o(v.lastIndex),y));for(var C,S="",b=0,T=0;T<w.length;T++){for(var E=w[T],k=String(E[0]),O=u(c(s(E.index),m.length),0),I=[],D=1;D<E.length;D++)I.push(void 0===(C=E[D])?C:String(C));var P=E.groups,R=_?(R=[k].concat(I,O,m),void 0!==P&&R.push(P),String(e.apply(void 0,R))):function(t,e,i,o,s,a){var l=i+t.length,u=o.length,c=f;return void 0!==s&&(s=r(s),c=p),n.call(a,c,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":a=s[r.slice(1,-1)];break;default:var c,p=+r;if(0==p)return n;if(u<p)return 0!==(c=h(p/10))&&c<=u?void 0===o[c-1]?r.charAt(1):o[c-1]+r.charAt(1):n;a=o[p-1]}return void 0===a?"":a}))}(k,m,O,I,P,e);b<=O&&(S+=m.slice(b,O)+R,b=O+k.length)}return S+m.slice(b)}]}))},9311:(t,e,n)=>{var i=n(786),r=n(9944),o=n(1706),s=n(8083),a=n(1995),l=n(8371),u=n(115),c=n(8052),h=Math.min,p=[].push,f="split",d="length",g="lastIndex",y=4294967295,v=!c((function(){RegExp(y,"y")}));n(5712)("split",2,(function(t,e,n,c){var m="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[d]||2!="ab"[f](/(?:ab)*/)[d]||4!="."[f](/(.?)(.?)/)[d]||1<"."[f](/()()/)[d]||""[f](/.?/)[d]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=void 0===e?y:e>>>0,v=new RegExp(t.source,c+"g");(o=u.call(v,r))&&!(h<(s=v[g])&&(l.push(r.slice(h,o.index)),1<o[d]&&o.index<r[d]&&p.apply(l,o.slice(1)),a=o[0][d],h=s,l[d]>=f));)v[g]===o.index&&v[g]++;return h===r[d]?!a&&v.test("")||l.push(""):l.push(r.slice(h)),l[d]>f?l.slice(0,f):l}:"0"[f](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n;return[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):m.call(String(r),n,i)},function(t,e){if((i=c(m,t,this,e,m!==n)).done)return i.value;var i=r(t),u=String(this),p=(t=o(i,RegExp),i.unicode),f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(v?"y":"g"),d=new t(v?i:"^(?:"+i.source+")",f),g=void 0===e?y:e>>>0;if(0==g)return[];if(0===u.length)return null===l(d,u)?[u]:[];for(var _=0,x=0,w=[];x<u.length;){d.lastIndex=v?x:0;var C,S=l(d,v?u:u.slice(x));if(null===S||(C=h(a(d.lastIndex+(v?0:x)),u.length))===_)x=s(u,x,p);else{if(w.push(u.slice(_,x)),w.length===g)return w;for(var b=1;b<=S.length-1;b++)if(w.push(S[b]),w.length===g)return w;x=_=C}}return w.push(u.slice(_)),w}]}))},3850:(t,e,n)=>{function i(t){n(9344)(RegExp.prototype,a,t,!0)}n(6726);var r=n(9944),o=n(1576),s=n(1391),a="toString",l=/./[a];n(8052)((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?i((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)})):l.name!=a&&i((function(){return l.call(this)}))},3401:(t,e,n)=>{var i=n(9005),r=n(4221),o="includes";i(i.P+i.F*n(4088)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},2323:(t,e,n)=>{var i=n(9005),r=n(6408)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(1343)("includes")},1271:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(t.document)return n(t);throw new Error("jQuery requires a window with a document")}:n(e)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";function o(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function s(t){return null!=t&&t===t.window}var a=[],l=Object.getPrototypeOf,u=a.slice,c=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},h=a.push,p=a.indexOf,f={},d=f.toString,g=f.hasOwnProperty,y=g.toString,v=y.call(Object),m={},_=i.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,o=(n=n||_).createElement("script");if(o.text=t,e)for(i in x)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)};function b(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!o(t)&&!s(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function T(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(n))break;i.push(t)}return i}function E(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}S.fn=S.prototype={jquery:"3.6.0",constructor:S,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){return(t=S.merge(this.constructor(),t)).prevObject=this,t},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length;return t=+t+(t<0?e:0),this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:a.sort,splice:a.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||o(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&s!==n&&(u&&n&&(S.isPlainObject(n)||(i=Array.isArray(n)))?(r=s[e],r=i&&!Array.isArray(r)?[]:i||S.isPlainObject(r)?r:{},i=!1,s[e]=S.extend(u,r,n)):void 0!==n&&(s[e]=n));return s},S.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==d.call(t)||(t=l(t))&&("function"!=typeof(t=g.call(t,"constructor")&&t.constructor)||y.call(t)!==v))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(b(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){return e=e||[],null!=t&&(b(Object(t))?S.merge(e,"string"==typeof t?[t]:t):h.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:p.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(b(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return c(s)},guid:1,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=a[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var k=function(t){function e(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function n(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function i(){g()}var r,o,s,a,l,u,c,h,p,f,d,g,y,v,m,_,x,w,C,S="sizzle"+ +new Date,b=t.document,T=0,E=0,k=lt(),O=lt(),I=lt(),D=lt(),P=function(t,e){return t===e&&(d=!0),0},R={}.hasOwnProperty,A=[],L=A.pop,F=A.push,M=A.push,j=A.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},W="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",G="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+G+"*("+B+")(?:"+G+"*([*^$|!~]?=)"+G+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+G+"*\\]",X=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",H=new RegExp(G+"+","g"),Y=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),z=new RegExp("^"+G+"*,"+G+"*"),U=new RegExp("^"+G+"*([>+~]|"+G+")"+G+"*"),V=new RegExp(G+"|>"),K=new RegExp(X),$=new RegExp("^"+B+"$"),Z={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),bool:new RegExp("^(?:"+W+")$","i"),needsContext:new RegExp("^"+G+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,et=/^[^{]+\{\s*\[native \w/,nt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+G+"?|\\\\([^\\r\\n\\f])","g"),ot=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=mt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(A=j.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(r){M={apply:A.length?function(t,e){F.apply(t,j.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var s,a,l,c,p,f,d=e&&e.ownerDocument,v=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return i;if(!r&&(g(e),e=e||y,m)){if(11!==v&&(c=nt.exec(t)))if(s=c[1]){if(9===v){if(!(f=e.getElementById(s)))return i;if(f.id===s)return i.push(f),i}else if(d&&(f=d.getElementById(s))&&C(e,f)&&f.id===s)return i.push(f),i}else{if(c[2])return M.apply(i,e.getElementsByTagName(t)),i;if((s=c[3])&&o.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(s)),i}if(o.qsa&&!D[t+" "]&&(!_||!_.test(t))&&(1!==v||"object"!==e.nodeName.toLowerCase())){if(f=t,d=e,1===v&&(V.test(t)||U.test(t))){for((d=it.test(t)&&gt(e.parentNode)||e)===e&&o.scope||((l=e.getAttribute("id"))?l=l.replace(ot,n):e.setAttribute("id",l=S)),a=(p=u(t)).length;a--;)p[a]=(l?"#"+l:":scope")+" "+vt(p[a]);f=p.join(",")}try{return M.apply(i,d.querySelectorAll(f)),i}catch(e){D(t,!0)}finally{l===S&&e.removeAttribute("id")}}}return h(t.replace(Y,"$1"),e,i,r)}function lt(){var t=[];return function e(n,i){return t.push(n+" ")>s.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ut(t){return t[S]=!0,t}function ct(t){var e=y.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)s.attrHandle[n[i]]=e}function pt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return ut((function(e){return e=+e,ut((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(r in o=at.support={},l=at.isXML=function(t){var e=t&&t.namespaceURI;return t=t&&(t.ownerDocument||t).documentElement,!J.test(e||t&&t.nodeName||"HTML")},g=at.setDocument=function(t){return(t=t?t.ownerDocument||t:b)!=y&&9===t.nodeType&&t.documentElement&&(v=(y=t).documentElement,m=!l(y),b!=y&&(t=y.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),o.scope=ct((function(t){return v.appendChild(t).appendChild(y.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),o.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),o.getElementsByTagName=ct((function(t){return t.appendChild(y.createComment("")),!t.getElementsByTagName("*").length})),o.getElementsByClassName=et.test(y.getElementsByClassName),o.getById=ct((function(t){return v.appendChild(t).id=S,!y.getElementsByName||!y.getElementsByName(S).length})),o.getById?(s.filter.ID=function(t){var n=t.replace(rt,e);return function(t){return t.getAttribute("id")===n}},s.find.ID=function(t,e){if(void 0!==e.getElementById&&m)return(e=e.getElementById(t))?[e]:[]}):(s.filter.ID=function(t){var n=t.replace(rt,e);return function(t){return(t=void 0!==t.getAttributeNode&&t.getAttributeNode("id"))&&t.value===n}},s.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),s.find.TAG=o.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):o.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},s.find.CLASS=o.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},x=[],_=[],(o.qsa=et.test(y.querySelectorAll))&&(ct((function(t){var e;v.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+G+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+G+"*(?:value|"+W+")"),t.querySelectorAll("[id~="+S+"-]").length||_.push("~="),(e=y.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||_.push("\\["+G+"*name"+G+"*="+G+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||_.push(".#.+[+~]"),t.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=y.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+G+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),v.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")}))),(o.matchesSelector=et.test(w=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&ct((function(t){o.disconnectedMatch=w.call(t,"*"),w.call(t,"[s!='']:x"),x.push("!=",X)})),_=_.length&&new RegExp(_.join("|")),x=x.length&&new RegExp(x.join("|")),t=et.test(v.compareDocumentPosition),C=t||et.test(v.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t;return t===(e=e&&e.parentNode)||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},P=t?function(t,e){if(t===e)return d=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!o.sortDetached&&e.compareDocumentPosition(t)===n?t==y||t.ownerDocument==b&&C(b,t)?-1:e==y||e.ownerDocument==b&&C(b,e)?1:f?N(f,t)-N(f,e):0:4&n?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==y?-1:e==y?1:r?-1:o?1:f?N(f,t)-N(f,e):0;if(r===o)return pt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?pt(s[i],a[i]):s[i]==b?-1:a[i]==b?1:0}),y},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(g(t),o.matchesSelector&&m&&!D[e+" "]&&(!x||!x.test(e))&&(!_||!_.test(e)))try{var n=w.call(t,e);if(n||o.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){D(e,!0)}return 0<at(e,y,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=y&&g(t),C(t,e)},at.attr=function(t,e){var n;return(t.ownerDocument||t)!=y&&g(t),void 0!==(n=(n=s.attrHandle[e.toLowerCase()])&&R.call(s.attrHandle,e.toLowerCase())?n(t,e,!m):void 0)?n:o.attributes||!m?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},at.escape=function(t){return(t+"").replace(ot,n)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,r=0;if(d=!o.detectDuplicates,f=!o.sortStable&&t.slice(0),t.sort(P),d){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return f=null,t},a=at.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=a(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=a(e);return n},(s=at.selectors={cacheLength:50,createPseudo:ut,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,e),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&K.test(n)&&(e=u(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(rt,e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+G+")"+t+"("+G+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){return null==(i=at.attr(i,t))?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&-1<i.indexOf(n):"$="===e?n&&i.slice(-n.length)===n:"~="===e?-1<(" "+i.replace(H," ")+" ").indexOf(n):"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,p,f,d,g=o!=s?"nextSibling":"previousSibling",y=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!l&&!a,_=!1;if(y){if(o){for(;g;){for(p=e;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?y.firstChild:y.lastChild],s&&m){for(_=(f=(u=(c=(h=(p=y)[S]||(p[S]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===T&&u[1])&&u[2],p=f&&y.childNodes[f];p=++f&&p&&p[g]||(_=f=0)||d.pop();)if(1===p.nodeType&&++_&&p===e){c[t]=[T,f,_];break}}else if(!1===(_=m?f=(u=(c=(h=(p=e)[S]||(p[S]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===T&&u[1]:_))for(;(p=++f&&p&&p[g]||(_=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(m&&((c=(h=p[S]||(p[S]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[T,_]),p!==e)););return(_-=r)===i||_%i==0&&0<=_/i}}},PSEUDO:function(t,e){var n,i=s.pseudos[t]||s.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[S]?i(e):1<i.length?(n=[t,t,"",e],s.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=N(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ut((function(t){var e=[],n=[],i=c(t.replace(Y,"$1"));return i[S]?ut((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return 0<at(t,e).length}})),contains:ut((function(t){return t=t.replace(rt,e),function(e){return-1<(e.textContent||a(e)).indexOf(t)}})),lang:ut((function(t){return $.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(rt,e).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===v},focus:function(t){return t===y.activeElement&&(!y.hasFocus||y.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!s.pseudos.empty(t)},header:function(t){return tt.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:dt((function(){return[0]})),last:dt((function(t,e){return[e-1]})),eq:dt((function(t,e,n){return[n<0?n+e:n]})),even:dt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:dt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:dt((function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t})),gt:dt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=s.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[r]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(r);for(r in{submit:!0,reset:!0})s.pseudos[r]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(r);function yt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h=[T,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(c=e[S]||(e[S]={}))[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===T&&u[1]===a)return h[2]=u[2];if((c[o]=h)[2]=t(e,n,l))return!0}return!1}}function _t(t){return 1<t.length?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)!(o=t[a])||n&&!n(o,i,r)||(s.push(o),u&&e.push(a));return s}function wt(t,e,n,i,r,o){return i&&!i[S]&&(i=wt(i)),r&&!r[S]&&(r=wt(r,o)),ut((function(o,s,a,l){var u,c,h,p=[],f=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?g:xt(g,p,t,a,l),v=n?r||(o?t:d||i)?[]:s:y;if(n&&n(y,v,a,l),i)for(u=xt(v,f),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[f[c]]=!(y[f[c]]=h));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(y[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&-1<(u=r?N(o,h):p[c])&&(o[u]=!(s[u]=h))}}else v=xt(v===s?v.splice(d,v.length):v),r?r(null,s,v,l):M.apply(s,v)}))}return yt.prototype=s.filters=s.pseudos,s.setFilters=new yt,u=at.tokenize=function(t,e){var n,i,r,o,a,l,u,c=O[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=s.preFilter;a;){for(o in n&&!(i=z.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Y," ")}),a=a.slice(n.length)),s.filter)!(i=Z[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):O(t,l).slice(0)},c=at.compile=function(t,e){var n,i=[],r=[],o=I[t+" "];if(!o){for(n=(e=e||u(t)).length;n--;)((o=function t(e){for(var n,i,r,o=e.length,a=s.relative[e[0].type],l=a||s.relative[" "],u=a?1:0,c=mt((function(t){return t===n}),l,!0),h=mt((function(t){return-1<N(n,t)}),l,!0),f=[function(t,e,i){return t=!a&&(i||e!==p)||((n=e).nodeType?c:h)(t,e,i),n=null,t}];u<o;u++)if(i=s.relative[e[u].type])f=[mt(_t(f),i)];else{if((i=s.filter[e[u].type].apply(null,e[u].matches))[S]){for(r=++u;r<o&&!s.relative[e[r].type];r++);return wt(1<u&&_t(f),1<u&&vt(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(Y,"$1"),i,u<r&&t(e.slice(u,r)),r<o&&t(e=e.slice(r)),r<o&&vt(e))}f.push(i)}return _t(f)}(e[n]))[S]?i:r).push(o);(o=I(t,function(t,e){function n(n,o,a,l,u){var c,h,f,d=0,v="0",_=n&&[],x=[],w=p,C=n||r&&s.find.TAG("*",u),S=T+=null==w?1:Math.random()||.1,b=C.length;for(u&&(p=o==y||o||u);v!==b&&null!=(c=C[v]);v++){if(r&&c){for(h=0,o||c.ownerDocument==y||(g(c),a=!m);f=t[h++];)if(f(c,o||y,a)){l.push(c);break}u&&(T=S)}i&&((c=!f&&c)&&d--,n&&_.push(c))}if(d+=v,i&&v!==d){for(h=0;f=e[h++];)f(_,x,o,a);if(n){if(0<d)for(;v--;)_[v]||x[v]||(x[v]=L.call(l));x=xt(x)}M.apply(l,x),u&&!n&&0<x.length&&1<d+e.length&&at.uniqueSort(l)}return u&&(T=S,p=w),_}var i=0<e.length,r=0<t.length;return i?ut(n):n}(r,i))).selector=t}return o},h=at.select=function(t,n,i,r){var o,a,l,h,p,f="function"==typeof t&&t,d=!r&&u(t=f.selector||t);if(i=i||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(l=a[0]).type&&9===n.nodeType&&m&&s.relative[a[1].type]){if(!(n=(s.find.ID(l.matches[0].replace(rt,e),n)||[])[0]))return i;f&&(n=n.parentNode),t=t.slice(a.shift().value.length)}for(o=Z.needsContext.test(t)?0:a.length;o--&&(l=a[o],!s.relative[h=l.type]);)if((p=s.find[h])&&(r=p(l.matches[0].replace(rt,e),it.test(a[0].type)&&gt(n.parentNode)||n))){if(a.splice(o,1),t=r.length&&vt(a))break;return M.apply(i,r),i}}return(f||c(t,d))(r,n,!m,i,!n||it.test(t)&&gt(n.parentNode)||n),i},o.sortStable=S.split("").sort(P).join("")===S,o.detectDuplicates=!!d,g(),o.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(y.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),o.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(W,(function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),at}(i),O=(S.find=k,S.expr=k.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=k.uniqueSort,S.text=k.getText,S.isXMLDoc=k.isXML,S.contains=k.contains,S.escapeSelector=k.escape,S.expr.match.needsContext);function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return o(e)?S.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return-1<p.call(e,t)!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<i;e++)if(S.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)S.find(t,r[e],n);return 1<i?S.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&O.test(t)?S(t):t||[],!1).length}});var R,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=((S.fn.init=function(t,e,n){if(!t)return this;if(n=n||R,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):o(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:A.exec(t))||!i[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),D.test(i[1])&&S.isPlainObject(e))for(var i in e)o(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=_.getElementById(i[2]))&&(this[0]=n,this.length=1),this}).prototype=S.fn,R=S(_),/^(?:parents|prev(?:Until|All))/),F={children:!0,contents:!0,next:!0,prev:!0};function M(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&S(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?p.call(S(t),this[0]):p.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return M(t,"nextSibling")},prev:function(t){return M(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return null!=t.contentDocument&&l(t.contentDocument)?t.contentDocument:(I(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,i){var r=S.map(this,e,n);return(i="Until"!==t.slice(-5)?n:i)&&"string"==typeof i&&(r=S.filter(i,r)),1<this.length&&(F[t]||S.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}}));var j=/[^\x20\t\r\n\f]+/g;function N(t){return t}function W(t){throw t}function G(t,e,n,i){var r;try{t&&o(r=t.promise)?r.call(t).done(e).fail(n):t&&o(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){var e,n;function i(){for(l=l||t.once,a=r=!0;c.length;h=-1)for(s=c.shift();++h<u.length;)!1===u[h].apply(s[0],s[1])&&t.stopOnFalse&&(h=u.length,s=!1);t.memory||(s=!1),r=!1,l&&(u=s?[]:"")}t="string"==typeof t?(e=t,n={},S.each(e.match(j)||[],(function(t,e){n[e]=!0})),n):S.extend({},t);var r,s,a,l,u=[],c=[],h=-1,p={add:function(){return u&&(s&&!r&&(h=u.length-1,c.push(s)),function e(n){S.each(n,(function(n,i){o(i)?t.unique&&p.has(i)||u.push(i):i&&i.length&&"string"!==C(i)&&e(i)}))}(arguments),s&&!r&&i()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;-1<(n=S.inArray(e,u,n));)u.splice(n,1),n<=h&&h--})),this},has:function(t){return t?-1<S.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return l=c=[],u=s="",this},disabled:function(){return!u},lock:function(){return l=c=[],s||r||(u=s=""),this},locked:function(){return!!l},fireWith:function(t,e){return l||(e=[t,(e=e||[]).slice?e.slice():e],c.push(e),r||i()),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,i){var r=o(t[i[4]])&&t[i[4]];s[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&o(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,r){var s=0;function a(t,e,n,r){return function(){function l(){var i,l;if(!(t<s)){if((i=n.apply(u,c))===e.promise())throw new TypeError("Thenable self-resolution");o(l=i&&("object"==typeof i||"function"==typeof i)&&i.then)?r?l.call(i,a(s,e,N,r),a(s,e,W,r)):(s++,l.call(i,a(s,e,N,r),a(s,e,W,r),a(s,e,N,e.notifyWith))):(n!==N&&(u=void 0,c=[i]),(r||e.resolveWith)(u,c))}}var u=this,c=arguments,h=r?l:function(){try{l()}catch(i){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(i,h.stackTrace),s<=t+1&&(n!==W&&(u=void 0,c=[i]),e.rejectWith(u,c))}};t?h():(S.Deferred.getStackHook&&(h.stackTrace=S.Deferred.getStackHook()),i.setTimeout(h))}}return S.Deferred((function(i){e[0][3].add(a(0,i,o(r)?r:N,i.notifyWith)),e[1][3].add(a(0,i,o(t)?t:N)),e[2][3].add(a(0,i,o(n)?n:W))})).promise()},promise:function(t){return null!=t?S.extend(t,r):r}},s={};return S.each(e,(function(t,i){var o=i[2],a=i[5];r[i[1]]=o.add,a&&o.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=o.fireWith})),r.promise(s),t&&t.call(s,s),s},when:function(t){function e(t){return function(e){r[t]=this,s[t]=1<arguments.length?u.call(arguments):e,--n||a.resolveWith(r,s)}}var n=arguments.length,i=n,r=Array(i),s=u.call(arguments),a=S.Deferred();if(n<=1&&(G(t,a.done(e(i)).resolve,a.reject,!n),"pending"===a.state()||o(s[i]&&s[i].then)))return a.then();for(;i--;)G(s[i],e(i),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,q=(S.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&B.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){i.setTimeout((function(){throw t}))},S.Deferred());function X(){_.removeEventListener("DOMContentLoaded",X),i.removeEventListener("load",X),S.ready()}function H(t,e,n,i,r,s,a){var l=0,u=t.length,c=null==n;if("object"===C(n))for(l in r=!0,n)H(t,e,l,n[l],!0,s,a);else if(void 0!==i&&(r=!0,o(i)||(a=!0),e=c?a?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(S(t),n)}):e))for(;l<u;l++)e(t[l],n,a?i:i.call(t[l],l,e(t[l],n)));return r?t:c?e.call(t):u?e(t[0],n):s}S.fn.ready=function(t){return q.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||q.resolveWith(_,[S])}}),S.ready.then=q.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?i.setTimeout(S.ready):(_.addEventListener("DOMContentLoaded",X),i.addEventListener("load",X));var Y=/^-ms-/,z=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace(Y,"ms-").replace(z,U)}function K(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function $(){this.expando=S.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[V(e)]=n;else for(i in e)r[V(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(j)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!S.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){return void 0!==(t=t[this.expando])&&!S.isEmptyObject(t)}};var Z=new $,J=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(t){}J.set(t,e,n)}else n=void 0;return n}function nt(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===S.css(t,"display")}S.extend({hasData:function(t){return J.hasData(t)||Z.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0!==t)return"object"==typeof t?this.each((function(){J.set(this,t)})):H(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=J.get(o,t))||void 0!==(n=et(o,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,1<arguments.length,null,!0);if(this.length&&(r=J.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=V(i.slice(5)),et(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var i;if(t)return i=Z.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=Z.access(t,e,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,r=n.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){S.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:S.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Z.get(s[a],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}}),k=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var it=new RegExp("^(?:([+-])=|)("+k+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],ot=_.documentElement,st=function(t){return S.contains(t.ownerDocument,t)},at={composed:!0};function lt(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},l=a(),u=n&&n[3]||(S.cssNumber[e]?"":"px"),c=t.nodeType&&(S.cssNumber[e]||"px"!==u&&+l)&&it.exec(S.css(t,e));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)S.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;S.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}ot.getRootNode&&(st=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var ut={};function ct(t,e){for(var n,i,r,o,s,a=[],l=0,u=t.length;l<u;l++)(i=t[l]).style&&(n=i.style.display,e?("none"===n&&(a[l]=Z.get(i,"display")||null,a[l]||(i.style.display="")),""===i.style.display&&nt(i)&&(a[l]=(s=o=void 0,o=(r=i).ownerDocument,r=r.nodeName,(s=ut[r])||(o=o.body.appendChild(o.createElement(r)),s=S.css(o,"display"),o.parentNode.removeChild(o),ut[r]=s="none"===s?"block":s)))):"none"!==n&&(a[l]="none",Z.set(i,"display",n)));for(l=0;l<u;l++)null!=a[l]&&(t[l].style.display=a[l]);return t}S.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){nt(this)?S(this).show():S(this).hide()}))}});var ht=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,dt=(he=_.createDocumentFragment().appendChild(_.createElement("div")),(ce=_.createElement("input")).setAttribute("type","radio"),ce.setAttribute("checked","checked"),ce.setAttribute("name","t"),he.appendChild(ce),m.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue,he.innerHTML="<option></option>",m.option=!!he.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function gt(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&I(t,e)?S.merge([t],n):n}function yt(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,m.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);var vt=/<|&#?\w+;/;function mt(t,e,n,i,r){for(var o,s,a,l,u,c=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===C(o))S.merge(h,o.nodeType?[o]:o);else if(vt.test(o)){for(s=s||c.appendChild(e.createElement("div")),a=(pt.exec(o)||["",""])[1].toLowerCase(),a=dt[a]||dt._default,s.innerHTML=a[1]+S.htmlPrefilter(o)+a[2],u=a[0];u--;)s=s.lastChild;S.merge(h,s.childNodes),(s=c.firstChild).textContent=""}else h.push(e.createTextNode(o));for(c.textContent="",p=0;o=h[p++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(l=st(o),s=gt(c.appendChild(o),"script"),l&&yt(s),n)for(u=0;o=s[u++];)ft.test(o.type||"")&&n.push(o);return c}var _t=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function wt(){return!1}function Ct(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function St(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)St(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=wt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,r,i,n)}))}function bt(t,e,n){n?(Z.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),Z.set(this,e,o),i=n(this,e),this[e](),o!==(r=Z.get(this,e))||i?Z.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else o.length&&(Z.set(this,e,{value:S.event.trigger(S.extend(o[0],S.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&S.event.add(t,e,xt)}S.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,p,f,d=Z.get(t);if(K(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(ot,r),n.guid||(n.guid=S.guid++),(a=d.events)||(a=d.events=Object.create(null)),(s=d.handle)||(s=d.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(j)||[""]).length;l--;)h=f=(p=_t.exec(e[l])||[])[1],p=(p[2]||"").split(".").sort(),h&&(u=S.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=S.event.special[h]||{},f=S.extend({type:h,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(c=a[h])||((c=a[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(h,s)),u.add&&(u.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,f):c.push(f),S.event.global[h]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,p,f,d,g,y=Z.hasData(t)&&Z.get(t);if(y&&(l=y.events)){for(u=(e=(e||"").match(j)||[""]).length;u--;)if(f=g=(a=_t.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},p=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,d,y.handle)||S.removeEvent(t,f,y.handle),delete l[f])}else for(f in l)S.event.remove(t,f+e[u],n,i,!0);S.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s=new Array(arguments.length),a=S.event.fix(t),l=(t=(Z.get(this,"events")||Object.create(null))[a.type]||[],S.event.special[a.type]||{});for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(o=S.event.handlers.call(this,a,t),e=0;(i=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((S.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<S(r,this).index(u):S.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:o(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){return t=this||t,ht.test(t.type)&&t.click&&I(t,"input")&&bt(t,"click",xt),!1},trigger:function(t){return t=this||t,ht.test(t.type)&&t.click&&I(t,"input")&&bt(t,"click"),!0},_default:function(t){return t=t.target,ht.test(t.type)&&t.click&&I(t,"input")&&Z.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return bt(this,t,Ct),!1},trigger:function(){return bt(this,t),!0},_default:function(){return!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||S.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=wt),this.each((function(){S.event.remove(this,t,n,e)}));for(r in t)this.off(r,e,t[r]);return this}});var Tt=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Dt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Pt(t,e){var n,i,r,o;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.get(t).events))for(r in Z.remove(e,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)S.event.add(e,r,o[r][n]);J.hasData(t)&&(t=J.access(t),t=S.extend({},t),J.set(e,t))}}function Rt(t,e,n,i){e=c(e);var r,s,a,l,u,h,p=0,f=t.length,d=f-1,g=e[0],y=o(g);if(y||1<f&&"string"==typeof g&&!m.checkClone&&Et.test(g))return t.each((function(r){var o=t.eq(r);y&&(e[0]=g.call(this,r,o.html())),Rt(o,e,n,i)}));if(f&&(s=(r=mt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=S.map(gt(r,"script"),It)).length;p<f;p++)u=r,p!==d&&(u=S.clone(u,!0,!0),l&&S.merge(a,gt(u,"script"))),n.call(t[p],u,p);if(l)for(h=a[a.length-1].ownerDocument,S.map(a,Dt),p=0;p<l;p++)u=a[p],ft.test(u.type||"")&&!Z.access(u,"globalEval")&&S.contains(h,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},h):w(u.textContent.replace(kt,""),u,h))}return t}function At(t,e,n){for(var i,r=e?S.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(gt(i)),i.parentNode&&(n&&st(i)&&yt(gt(i,"script")),i.parentNode.removeChild(i));return t}function Lt(t){var e=t.ownerDocument.defaultView;return(e=e&&e.opener?e:i).getComputedStyle(t)}function Ft(t,e,n){var i,r={};for(i in e)r[i]=t.style[i],t.style[i]=e[i];for(i in n=n.call(t),e)t.style[i]=r[i];return n}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a,l,u,c=t.cloneNode(!0),h=st(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=gt(c),i=0,r=(o=gt(t)).length;i<r;i++)a=o[i],"input"===(u=(l=s[i]).nodeName.toLowerCase())&&ht.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||gt(t),s=s||gt(c),i=0,r=o.length;i<r;i++)Pt(o[i],s[i]);else Pt(t,c);return 0<(s=gt(c,"script")).length&&yt(s,!h&&gt(t,"script")),c},cleanData:function(t){for(var e,n,i,r=S.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(t){return At(this,t,!0)},remove:function(t){return At(this,t)},text:function(t){return H(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Rt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)}))},prepend:function(){return Rt(this,arguments,(function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Ot(this,t)).insertBefore(t,e.firstChild)}))},before:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Rt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return H(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!dt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(gt(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,i=[],r=S(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(r[s])[e](n),h.apply(i,n.get());return this.pushStack(i)}}));var Mt,jt,Nt,Wt,Gt,Bt,qt,Xt,Ht=new RegExp("^("+k+")(?!px)[a-z%]+$","i"),Yt=new RegExp(rt.join("|"),"i");function zt(){var t;Xt&&(qt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(qt).appendChild(Xt),t=i.getComputedStyle(Xt),Mt="1%"!==t.top,Bt=12===Ut(t.marginLeft),Xt.style.right="60%",Wt=36===Ut(t.right),jt=36===Ut(t.width),Xt.style.position="absolute",Nt=12===Ut(Xt.offsetWidth/3),ot.removeChild(qt),Xt=null)}function Ut(t){return Math.round(parseFloat(t))}function Vt(t,e,n){var i,r,o=t.style;return(n=n||Lt(t))&&(""!==(r=n.getPropertyValue(e)||n[e])||st(t)||(r=S.style(t,e)),!m.pixelBoxStyles()&&Ht.test(r)&&Yt.test(e)&&(t=o.width,e=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=t,o.minWidth=e,o.maxWidth=i)),void 0!==r?r+"":r}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}qt=_.createElement("div"),(Xt=_.createElement("div")).style&&(Xt.style.backgroundClip="content-box",Xt.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Xt.style.backgroundClip,S.extend(m,{boxSizingReliable:function(){return zt(),jt},pixelBoxStyles:function(){return zt(),Wt},pixelPosition:function(){return zt(),Mt},reliableMarginLeft:function(){return zt(),Bt},scrollboxSize:function(){return zt(),Nt},reliableTrDimensions:function(){var t,e,n;return null==Gt&&(t=_.createElement("table"),e=_.createElement("tr"),n=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",ot.appendChild(t).appendChild(e).appendChild(n),n=i.getComputedStyle(e),Gt=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===e.offsetHeight,ot.removeChild(t)),Gt}}));var $t=["Webkit","Moz","ms"],Zt=_.createElement("div").style,Jt={};function Qt(t){return S.cssProps[t]||Jt[t]||(t in Zt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Zt)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,ne={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function re(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function oe(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(t,n+rt[s],!0,r)),i?("content"===n&&(l-=S.css(t,"padding"+rt[s],!0,r)),"margin"!==n&&(l-=S.css(t,"border"+rt[s]+"Width",!0,r))):(l+=S.css(t,"padding"+rt[s],!0,r),"padding"!==n?l+=S.css(t,"border"+rt[s]+"Width",!0,r):a+=S.css(t,"border"+rt[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function se(t,e,n){var i=Lt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,i),o=r,s=Vt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&I(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===S.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+oe(t,e,n||(r?"border":"content"),o,i,s)+"px"}function ae(t,e,n,i,r){return new ae.prototype.init(t,e,n,i,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e)return""===(e=Vt(t,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=V(e),l=ee.test(e),u=t.style;if(l||(e=Qt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=it.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o=V(e);return ee.test(e)||(e=Qt(o)),"normal"===(r=void 0===(r=(o=S.cssHooks[e]||S.cssHooks[o])&&"get"in o?o.get(t,!0,n):r)?Vt(t,e,i):r)&&e in ie&&(r=ie[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,i){if(n)return!te.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,e,i):Ft(t,ne,(function(){return se(t,e,i)}))},set:function(t,n,i){var r=Lt(t),o=!m.scrollboxSize()&&"absolute"===r.position,s=(o||i)&&"border-box"===S.css(t,"boxSizing",!1,r);return i=i?oe(t,e,i,s,r):0,s&&o&&(i-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-oe(t,e,"border",!1,r)-.5)),i&&(s=it.exec(n))&&"px"!==(s[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),re(0,n,i)}}})),S.cssHooks.marginLeft=Kt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Ft(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(S.cssHooks[t+e].set=re)})),S.fn.extend({css:function(t,e){return H(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Lt(t),r=e.length;s<r;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,1<arguments.length)}}),((S.Tween=ae).prototype={constructor:ae,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return(t&&t.get?t:ae.propHooks._default).get(this)},run:function(t){var e,n=ae.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:ae.propHooks._default).set(this),this}}).init.prototype=ae.prototype,(ae.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=S.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Qt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ae.prototype.init,S.fx.step={};var le,ue,ce,he,pe=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function de(){ue&&(!1===_.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(de):i.setTimeout(de,S.fx.interval),S.fx.tick())}function ge(){return i.setTimeout((function(){le=void 0})),le=Date.now()}function ye(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ve(t,e,n){for(var i,r=(me.tweeners[e]||[]).concat(me.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function me(t,e,n){var i,r,s,a,l,u,c,h=0,p=me.prefilters.length,f=S.Deferred().always((function(){delete d.elem})),d=function(){if(r)return!1;for(var e=le||ge(),n=1-((e=Math.max(0,g.startTime+g.duration-e))/g.duration||0),i=0,o=g.tweens.length;i<o;i++)g.tweens[i].run(n);return f.notifyWith(t,[g,n,e]),n<1&&o?e:(o||f.notifyWith(t,[g,1,0]),f.resolveWith(t,[g]),!1)},g=f.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:le||ge(),duration:n.duration,tweens:[],createTween:function(e,n){return n=S.Tween(t,g.opts,e,n,g.opts.specialEasing[e]||g.opts.easing),g.tweens.push(n),n},stop:function(e){var n=0,i=e?g.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)g.tweens[n].run(1);return e?(f.notifyWith(t,[g,1,0]),f.resolveWith(t,[g,e])):f.rejectWith(t,[g,e]),this}}),y=g.props,v=y,m=g.opts.specialEasing;for(s in v)if(l=m[a=V(s)],u=v[s],Array.isArray(u)&&(l=u[1],u=v[s]=u[0]),s!==a&&(v[a]=u,delete v[s]),(c=S.cssHooks[a])&&"expand"in c)for(s in u=c.expand(u),delete v[a],u)s in v||(v[s]=u[s],m[s]=l);else m[a]=l;for(;h<p;h++)if(i=me.prefilters[h].call(g,t,y,g.opts))return o(i.stop)&&(S._queueHooks(g.elem,g.opts.queue).stop=i.stop.bind(i)),i;return S.map(y,ve,g),o(g.opts.start)&&g.opts.start.call(t,g),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always),S.fx.timer(S.extend(d,{elem:t,anim:g,queue:g.opts.queue})),g}S.Animation=S.extend(me,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=o(t)?(e=t,["*"]):t.match(j)).length;i<r;i++)n=t[i],me.tweeners[n]=me.tweeners[n]||[],me.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c="width"in e||"height"in e,h=this,p={},f=t.style,d=t.nodeType&&nt(t),g=Z.get(t,"fxshow");for(i in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always((function(){h.always((function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],pe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;d=!0}p[i]=g&&g[i]||S.style(t,i)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(i in c&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=Z.get(t,"display")),"none"===(c=S.css(t,"display"))&&(u?c=u:(ct([t],!0),u=t.style.display||u,c=S.css(t,"display"),ct([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===S.css(t,"float")&&(l||(h.done((function(){f.display=u})),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(d=g.hidden):g=Z.access(t,"fxshow",{display:u}),o&&(g.hidden=!d),d&&ct([t],!0),h.done((function(){for(i in d||ct([t]),Z.remove(t,"fxshow"),p)S.style(t,i,p[i])}))),l=ve(d?g[i]:0,i,h),i in g||(g[i]=l.start,d&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?me.prefilters.unshift(t):me.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||o(t)&&t,duration:t,easing:n&&e||e&&!o(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){o(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(nt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){function r(){var e=me(this,S.extend({},t),s);(o||Z.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),s=S.speed(e,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){function i(t){var e=t.stop;delete t.stop,e(n)}return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=S.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&fe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=S.timers,s=i?i.length:0;for(n.finish=!0,S.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ye(e,!0),t,i,r)}})),S.each({slideDown:ye("show"),slideUp:ye("hide"),slideToggle:ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(le=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),le=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ue||(ue=!0,de())},S.fx.stop=function(){ue=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,this.queue(e=e||"fx",(function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}}))},ce=_.createElement("input"),he=_.createElement("select").appendChild(_.createElement("option")),ce.type="checkbox",m.checkOn=""!==ce.value,m.optSelected=he.selected,(ce=_.createElement("input")).value="t",ce.type="radio",m.radioValue="t"===ce.value;var _e,xe=S.expr.attrHandle,we=(S.fn.extend({attr:function(t,e){return H(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(r=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?_e:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))||null!=(i=S.find.attr(t,e))?i:void 0)},attrHooks:{type:{set:function(t,e){var n;if(!m.radioValue&&"radio"===e&&I(t,"input"))return n=t.value,t.setAttribute("type",e),n&&(t.value=n),e}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(j);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),_e={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=xe[e]||S.find.attr;xe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=xe[s],xe[s]=r,r=null!=n(t,e,i)?s:null,xe[s]=o),r}})),/^(?:input|select|textarea|button)$/i),Ce=/^(?:a|area)$/i;function Se(t){return(t.match(j)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function Te(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}function Ee(t){t.stopPropagation()}S.fn.extend({prop:function(t,e){return H(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):we.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){return(t=t.parentNode)&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){(t=t.parentNode)&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,i,r,s,a,l=0;if(o(t))return this.each((function(e){S(this).addClass(t.call(this,e,be(this)))}));if((e=Te(t)).length)for(;n=this[l++];)if(a=be(n),i=1===n.nodeType&&" "+Se(a)+" "){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a!==(a=Se(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,s,a,l=0;if(o(t))return this.each((function(e){S(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=Te(t)).length)for(;n=this[l++];)if(a=be(n),i=1===n.nodeType&&" "+Se(a)+" "){for(s=0;r=e[s++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a!==(a=Se(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"==n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):o(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=S(this),s=Te(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!=n||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&Z.get(this,"__className__")||""))}))},hasClass:function(t){for(var e,n=0,i=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+Se(be(e))+" ").indexOf(i))return!0;return!1}});var ke=/\r/g,Oe=(S.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=o(t),this.each((function(n){1===this.nodeType&&(null==(n=i?t.call(this,n,S(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=S.map(n,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))}))):r?(e=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ke,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:Se(S.text(t))}},select:{get:function(t){for(var e,n=t.options,i=t.selectedIndex,r="select-one"===t.type,o=r?null:[],s=r?i+1:n.length,a=i<0?s:r?i:0;a<s;a++)if(((e=n[a]).selected||a===i)&&!e.disabled&&(!e.parentNode.disabled||!I(e.parentNode,"optgroup"))){if(e=S(e).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,o=S.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in i,/^(?:focusinfocus|focusoutblur)$/),Ie=(S.extend(S.event,{trigger:function(t,e,n,r){var a,l,u,c,h,p,f,d=[n||_],y=g.call(t,"type")?t.type:t,v=g.call(t,"namespace")?t.namespace.split("."):[],m=f=l=n=n||_;if(3!==n.nodeType&&8!==n.nodeType&&!Oe.test(y+S.event.triggered)&&(-1<y.indexOf(".")&&(y=(v=y.split(".")).shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[S.expando]?t:new S.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),p=S.event.special[y]||{},r||!p.trigger||!1!==p.trigger.apply(n,e))){if(!r&&!p.noBubble&&!s(n)){for(u=p.delegateType||y,Oe.test(u+y)||(m=m.parentNode);m;m=m.parentNode)d.push(m),l=m;l===(n.ownerDocument||_)&&d.push(l.defaultView||l.parentWindow||i)}for(a=0;(m=d[a++])&&!t.isPropagationStopped();)f=m,t.type=1<a?u:p.bindType||y,(h=(Z.get(m,"events")||Object.create(null))[t.type]&&Z.get(m,"handle"))&&h.apply(m,e),(h=c&&m[c])&&h.apply&&K(m)&&(t.result=h.apply(m,e),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),e)||!K(n)||c&&o(n[y])&&!s(n)&&((l=n[c])&&(n[c]=null),S.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,Ee),n[y](),t.isPropagationStopped()&&f.removeEventListener(y,Ee),S.event.triggered=void 0,l&&(n[c]=l)),t.result}},simulate:function(t,e,n){n=S.extend(new S.Event,n,{type:t,isSimulated:!0}),S.event.trigger(n,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),m.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){S.event.simulate(e,t.target,S.event.fix(t))}S.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}})),i.location),De={guid:Date.now()},Pe=/\?/,Re=(S.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e},/\[\]$/),Ae=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){function n(t,e){e=o(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var i,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){n(this.name,this.value)}));else for(i in t)!function t(e,n,i,r){if(Array.isArray(n))S.each(n,(function(n,o){i||Re.test(e)?r(e,o):t(e+"["+("object"==typeof o&&null!=o?n:"")+"]",o,i,r)}));else if(i||"object"!==C(n))r(e,n);else for(var o in n)t(e+"["+o+"]",n[o],i,r)}(i,t[i],e,n);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Fe.test(this.nodeName)&&!Le.test(t)&&(this.checked||!ht.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}})):{name:e.name,value:n.replace(Ae,"\r\n")}})).get()}});var Me=/%20/g,je=/#.*$/,Ne=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ge=/^(?:GET|HEAD)$/,Be=/^\/\//,qe={},Xe={},He="*/".concat("*"),Ye=_.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(j)||[];if(o(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ue(t,e,n,i){var r={},o=t===Xe;function s(a){var l;return r[a]=!0,S.each(t[a]||[],(function(t,a){return"string"!=typeof(a=a(e,n,i))||o||r[a]?o?!(l=a):void 0:(e.dataTypes.unshift(a),s(a),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ve(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&S.extend(!0,t,i),t}Ye.href=Ie.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,S.ajaxSettings),e):Ve(S.ajaxSettings,t)},ajaxPrefilter:ze(qe),ajaxTransport:ze(Xe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var n,r,o,s,a,l,u,c,h=S.ajaxSetup({},e=e||{}),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?S(p):S.event,d=S.Deferred(),g=S.Callbacks("once memory"),y=h.statusCode||{},v={},m={},x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=We.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=m[t.toLowerCase()]=m[t.toLowerCase()]||t,v[t]=e),this},overrideMimeType:function(t){return null==l&&(h.mimeType=t),this},statusCode:function(t){if(t)if(l)w.always(t[w.status]);else for(var e in t)y[e]=[y[e],t[e]];return this},abort:function(t){return t=t||x,n&&n.abort(t),C(0,t),this}};if(d.promise(w),h.url=((t||h.url||Ie.href)+"").replace(Be,Ie.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(j)||[""],null==h.crossDomain){t=_.createElement("a");try{t.href=h.url,t.href=t.href,h.crossDomain=Ye.protocol+"//"+Ye.host!=t.protocol+"//"+t.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),Ue(qe,h,e,w),l)return w;for(c in(u=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ge.test(h.type),r=h.url.replace(je,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Me,"+")):(t=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Pe.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ne,"$1"),t=(Pe.test(r)?"&":"?")+"_="+De.guid+++t),h.url=r+t),h.ifModified&&(S.lastModified[r]&&w.setRequestHeader("If-Modified-Since",S.lastModified[r]),S.etag[r]&&w.setRequestHeader("If-None-Match",S.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+He+"; q=0.01":""):h.accepts["*"]),h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(!1===h.beforeSend.call(p,w,h)||l))return w.abort();if(x="abort",g.add(h.complete),w.done(h.success),w.fail(h.error),n=Ue(Xe,h,e,w)){if(w.readyState=1,u&&f.trigger("ajaxSend",[w,h]),l)return w;h.async&&0<h.timeout&&(a=i.setTimeout((function(){w.abort("timeout")}),h.timeout));try{l=!1,n.send(v,C)}catch(t){if(l)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,s,c){var v,m,_,x=e;l||(l=!0,a&&i.clearTimeout(a),n=void 0,o=c||"",w.readyState=0<t?4:0,c=200<=t&&t<300||304===t,s&&(_=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,w,s)),!c&&-1<S.inArray("script",h.dataTypes)&&S.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),_=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(h,_,w,c),c?(h.ifModified&&((s=w.getResponseHeader("Last-Modified"))&&(S.lastModified[r]=s),(s=w.getResponseHeader("etag"))&&(S.etag[r]=s)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=_.state,v=_.data,c=!(m=_.error))):(m=x,!t&&x||(x="error",t<0&&(t=0))),w.status=t,w.statusText=(e||x)+"",c?d.resolveWith(p,[v,x,w]):d.rejectWith(p,[w,x,m]),w.statusCode(y),y=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,h,c?v:m]),g.fireWith(p,[w,x]),u&&(f.trigger("ajaxComplete",[w,h]),--S.active||S.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,i,r){return o(n)&&(r=r||i,i=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:r,data:n,success:i},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){return this[0]&&(o(t)&&(t=t.call(this[0])),t=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return o(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=o(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var Ke={0:200,1223:204},$e=S.ajaxSettings.xhr(),Ze=(m.cors=!!$e&&"withCredentials"in $e,m.ajax=$e=!!$e,S.ajaxTransport((function(t){var e,n;if(m.cors||$e&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ke[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&i.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(e)throw r}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}})),[]),Je=/(=)\?(?=&|$)|\?\?/,Qe=(S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ze.pop()||S.expando+"_"+De.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,n){var r,s,a,l=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(l||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=o(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,l?t[l]=t[l].replace(Je,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||S.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===s?S(i).removeProp(r):i[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ze.push(r)),a&&o(s)&&s(a[0]),a=s=void 0})),"script"})),m.createHTMLDocument=((k=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===k.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(i)):e=_),i=!n&&[],(n=D.exec(t))?[e.createElement(n[1])]:(n=mt([t],e,i),i&&i.length&&S(i).remove(),S.merge([],n.childNodes)));var i},S.fn.load=function(t,e,n){var i,r,s,a=this,l=t.indexOf(" ");return-1<l&&(i=Se(t.slice(l)),t=t.slice(0,l)),o(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<a.length&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){s=arguments,a.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,s||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var i,r,s,a,l=S.css(t,"position"),u=S(t),c={};"static"===l&&(t.style.position="relative"),s=u.offset(),i=S.css(t,"top"),a=S.css(t,"left"),l=("absolute"===l||"fixed"===l)&&-1<(i+a).indexOf("auto")?(r=(l=u.position()).top,l.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(e=o(e)?e.call(t,n,S.extend({},s)):e).top&&(c.top=e.top-s.top+r),null!=e.left&&(c.left=e.left-s.left+l),"using"in e?e.using.call(t,c):u.css(c)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),r.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-S.css(i,"marginTop",!0),left:e.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||ot}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(i){return H(this,(function(t,i,r){var o;if(s(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=Kt(m.pixelPosition,(function(t,n){if(n)return n=Vt(t,e),Ht.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){S.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),l=n||(!0===r||!0===o?"margin":"border");return H(this,(function(e,n,r){var o;return s(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?S.css(e,n,l):S.style(e,n,r,l)}),e,a?r:void 0,a)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return 0<arguments.length?this.on(e,null,t,n):this.trigger(e)}})),/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),tn=(S.proxy=function(t,e){var n,i;if("string"==typeof e&&(i=t[e],e=t,t=i),o(t))return n=u.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(u.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=I,S.isFunction=o,S.isWindow=s,S.camelCase=V,S.type=C,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},void 0!==(n=function(){return S}.apply(e,[]))&&(t.exports=n),i.jQuery),en=i.$;return S.noConflict=function(t){return i.$===S&&(i.$=en),t&&i.jQuery===S&&(i.jQuery=tn),S},void 0===r&&(i.jQuery=i.$=S),S}))},6656:function(t){t.exports=function(){"use strict";function t(t,i,r,o,s){!function t(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*c/a+h)),Math.min(o,Math.floor(i+(a-l)*c/a+h)),s)}var p=n[i],f=r,d=o;for(e(n,r,i),s(n[o],p)>0&&e(n,r,o);f<d;){for(e(n,f,d),f++,d--;s(n[f],p)<0;)f++;for(;s(n[d],p)>0;)d--}0===s(n[r],p)?e(n,r,d):e(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(t,i,r||0,o||t.length-1,s||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(r,t.leaf?i(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?i(s):s;f(t,a)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(f(t,o)){if(e.leaf||p(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf){var c=r(t,s.children,e);if(-1!==c)return s.children.splice(c,1),l.push(s),this._condense(l),this}o||s.leaf||!p(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=d(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=d([])).leaf=!1,r.height=i;var l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));g(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var h=Math.min(c+u-1,n);g(t,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var f=Math.min(p+l-1,h);r.children.push(this._build(t,p,f,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],u=c(l),h=(p=t,f=l,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u);h<o?(o=h,r=u<r?u:r,s=l):h===o&&u<r&&(r=u,s=l)}e=s||e.children[0]}var p,f;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),a(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,a,l,u,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=s(t,0,d,this.toBBox),y=s(t,d,n,this.toBBox),v=(r=g,o=y,a=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),u=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,u-a)*Math.max(0,h-l)),m=c(g)+c(y);v<p?(p=v,i=d,f=m<f?m:f):v===p&&m<f&&(f=m,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=s(t,0,e,r),l=s(t,n-e,n,r),u=h(o)+h(l),c=e;c<n-e;c++){var p=t.children[c];a(o,t.leaf?r(p):p),u+=h(o)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];a(l,t.leaf?r(d):d),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}()}},e={};function n(i){var r=e[i];return void 0!==r||(r=e[i]={exports:{}},t[i].call(r.exports,r,r.exports,n)),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};(()=>{n.d(i,{default:()=>wu});var t=Origo,e=n.n(t),r=(t=n(9444),n.n(t)),o=(t=n(1271),n.n(t)),s=(n(9311),n(3478),n(3850),t=n(5168),n.n(t)),a=(t=n(8240),n.n(t));const l=[{text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"bottom",textAlign:"center",offsetY:-4,fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}},{stroke:{color:[0,153,255,1],width:3}},{fill:{color:[255,255,255,0]}},{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}],u=(t=[0,153,255,1],"Point"),c="LineString",h="Polygon",p="MultiPoint",f="MultiLineString",d="MultiPolygon",g="GeometryCollection",y="Circle";function v(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}v.prototype.preventDefault=function(){this.defaultPrevented=!0},v.prototype.stopPropagation=function(){this.propagationStopped=!0};const m=v,_="propertychange";function x(){this.disposed=!1}function w(t,e){return e<t?1:t<e?-1:0}function C(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function S(t,e){var n=t.length;if(n===e.length){for(var i=0;i<n;i++)if(t[i]!==e[i])return;return 1}}function b(){return!0}function T(){return!1}function E(){}x.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},x.prototype.disposeInternal=function(){},t=x;var k="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function O(t){for(var e in t)delete t[e]}var I,D,P="function"==typeof Object.values?Object.values:function(t){var e,n=[];for(e in t)n.push(t[e]);return n};function R(t){for(var e in t)return!1;return!e}function A(t){var e=D.call(this)||this;return e.eventTarget_=t,e.pendingRemovals_=null,e.dispatching_=null,e.listeners_=null,e}I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var L=A;if("function"!=typeof(t=D=t)&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function F(){this.constructor=L}I(L,t),L.prototype=null===t?Object.create(t):(F.prototype=t.prototype,new F),A.prototype.addEventListener=function(t,e){var n;t&&e&&-1===(n=(n=this.listeners_||(this.listeners_={}))[t]||(n[t]=[])).indexOf(e)&&n.push(e)},A.prototype.dispatchEvent=function(t){var e=(o="string"==typeof t)?t:t.type,n=this.listeners_&&this.listeners_[e];if(n){var i,r=o?new m(t):t,o=(r.target||(r.target=this.eventTarget_||this),this.dispatching_||(this.dispatching_={}));t=this.pendingRemovals_||(this.pendingRemovals_={}),e in o||(o[e]=0,t[e]=0),++o[e];for(var s=0,a=n.length;s<a;++s)if(!1===(i="handleEvent"in n[s]?n[s].handleEvent(r):n[s].call(this,r))||r.propagationStopped){i=!1;break}if(0==--o[e]){var l=t[e];for(delete t[e];l--;)this.removeEventListener(e,E);delete o[e]}return i}},A.prototype.disposeInternal=function(){this.listeners_&&O(this.listeners_)},A.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},A.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:0<Object.keys(this.listeners_).length)},A.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];n&&-1!==(e=n.indexOf(e))&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[e]=E,++this.pendingRemovals_[t]):(n.splice(e,1),0===n.length&&delete this.listeners_[t]))};const M=A,j="change";function N(t,e,n,i,r){var o;return i&&i!==t&&(n=n.bind(i)),r&&(o=n,n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}),i={target:t,type:e,listener:n},t.addEventListener(e,n),i}function W(t,e,n,i){return N(t,e,n,i,!0)}function G(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),O(t))}var B,q;function X(){var t=q.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}function H(){throw new Error("Unimplemented abstract method.")}B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(X,q=M),X.prototype.changed=function(){++this.revision_,this.dispatchEvent(j)},X.prototype.getRevision=function(){return this.revision_},X.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=N(this,t[r],e);return i}return N(this,t,e)},X.prototype.onceInternal=function(t,e){if(Array.isArray(t))for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=W(this,t[r],e);else i=W(this,t,e);return e.ol_key=i},X.prototype.unInternal=function(t,e){var n=e.ol_key;if(n){var i=n;if(Array.isArray(i))for(var r=0,o=i.length;r<o;++r)G(i[r]);else G(i)}else if(Array.isArray(t))for(var s=0,a=t.length;s<a;++s)this.removeEventListener(t[s],e);else this.removeEventListener(t,e)},(t=X).prototype.on,t.prototype.once,t.prototype.un;var Y=0;function z(t){return t.ol_uid||(t.ol_uid=String(++Y))}var U,V,K,$=(U=function(t,e){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Z=($(J,V=m),J);function J(t,e,n){return(t=V.call(this,t)||this).key=e,t.oldValue=n,t}function Q(t){var e=K.call(this)||this;return e.on,e.once,e.un,z(e),e.values_=null,void 0!==t&&e.setProperties(t),e}$(Q,K=t),Q.prototype.get=function(t){return this.values_&&this.values_.hasOwnProperty(t)?this.values_[t]:undefined},Q.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},Q.prototype.getProperties=function(){return this.values_&&k({},this.values_)||{}},Q.prototype.hasProperties=function(){return!!this.values_},Q.prototype.notify=function(t,e){var n="change:".concat(t);this.hasListener(n)&&this.dispatchEvent(new Z(n,t,e)),n=_,this.hasListener(n)&&this.dispatchEvent(new Z(n,t,e))},Q.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},Q.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},Q.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});n?i[t]=e:(n=i[t])!==(i[t]=e)&&this.notify(t,n)},Q.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},Q.prototype.applyProperties=function(t){t.values_&&k(this.values_||(this.values_={}),t.values_)},Q.prototype.unset=function(t,e){var n;this.values_&&t in this.values_&&(n=this.values_[t],delete this.values_[t],R(this.values_)&&(this.values_=null),e||this.notify(t,n))};const tt=Q;var et={};et[($={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"}).RADIANS]=6370997/(2*Math.PI),et[$.DEGREES]=2*Math.PI*6370997/360,et[$.FEET]=.3048,et[$.METERS]=1,et[$.USFEET]=1200/3937;const nt=$;var it,rt,ot=(($="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"").indexOf("firefox"),-1===$.indexOf("safari")||-1!=$.indexOf("chrom")||0<=$.indexOf("version/15.4")||$.match(/cpu (os|iphone os) 15_4 like mac os x/),-1!==$.indexOf("webkit")&&$.indexOf("edge"),$.indexOf("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope),st="undefined"!=typeof Image&&Image.prototype.decode;function at(t){var e=this,n="Assertion failed. See https://openlayers.org/en/v"+"6.14.1".split("-")[0]+"/doc/errors/#"+t+" for details.";return(e=rt.call(this,n)||this).code=t,e.name="AssertionError",e.message=n,e}!function(){try{var t=Object.defineProperty({},"passive",{get:function(){}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(t){}}(),it=function(t,e){return(it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},rt=Error;var lt=at;if("function"!=typeof($=rt)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function ut(){this.constructor=lt}it(lt,$),lt.prototype=null===$?Object.create($):(ut.prototype=$.prototype,new ut);const ct=at;function ht(t,e){if(!t)throw new ct(e)}var pt;function ft(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function dt(t,e,n,i,r,o,s,a){var l=Math.sin(o);return o=Math.cos(o),t[0]=i*o,t[1]=r*l,t[2]=-i*l,t[3]=r*o,t[4]=s*i*o-a*i*l+e,t[5]=s*r*l+a*r*o+n,t}new Array(6);function gt(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function yt(t,e,n){return(e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*e+(n=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*n}function vt(t,e){return _t(t,e[0],e[1])}function mt(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function _t(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function xt(t,e){var n=t[0],i=t[1],r=t[2],o=(t=t[3],e[0]),s=(e=e[1],0);return o<n?s|=16:r<o&&(s|=4),e<i?s|=8:t<e&&(s|=2),0===s?1:s}function wt(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Ct(t){return wt(1/0,1/0,-1/0,-1/0,t)}function St(t,e,n,i,r){return Et(Ct(r),t,e,n,i)}function bt(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Tt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Et(t,e,n,i,r){for(;n<i;n+=r)o=t,s=e[n],a=e[n+1],o[0]=Math.min(o[0],s),o[1]=Math.min(o[1],a),o[2]=Math.max(o[2],s),o[3]=Math.max(o[3],a);var o,s,a;return t}function kt(t,e){var n=e(Ot(t));return n||((n=e(It(t)))||(n=e(At(t)))||!!(n=e(Rt(t))))&&n}function Ot(t){return[t[0],t[1]]}function It(t){return[t[2],t[1]]}function Dt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Pt(t){return t[3]-t[1]}function Rt(t){return[t[0],t[3]]}function At(t){return[t[2],t[3]]}function Lt(t){return t[2]-t[0]}function Ft(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Mt(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}function jt(t,e,n){return Math.min(Math.max(t,e),n)}Mt.prototype.canWrapX=function(){return this.canWrapX_},Mt.prototype.getCode=function(){return this.code_},Mt.prototype.getExtent=function(){return this.extent_},Mt.prototype.getUnits=function(){return this.units_},Mt.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||et[this.units_]},Mt.prototype.getWorldExtent=function(){return this.worldExtent_},Mt.prototype.getAxisOrientation=function(){return this.axisOrientation_},Mt.prototype.isGlobal=function(){return this.global_},Mt.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Mt.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Mt.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Mt.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Mt.prototype.setWorldExtent=function(t){this.worldExtent_=t},Mt.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Mt.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},$=Mt;var Nt="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2};function Wt(t,e,n,i){return(n-=t)*n+(t=i-e)*t}function Gt(t,e,n){return t+n*(e-t)}"log2"in Math&&Math.log2,Bt=function(t,e){return(Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Bt,qt,Xt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ht=6378137,Yt=Math.PI*Ht,zt=[-Yt,-Yt,Yt,Yt],Ut=[-180,-85,180,85],Vt=Ht*Math.log(Math.tan(Math.PI/2));function Kt(t){return qt.call(this,{code:t,units:nt.METERS,extent:zt,global:!0,worldExtent:Ut,getPointResolution:function(t,e){return t/Nt(e[1]/Ht)}})||this}Xt=[new(Xt(Kt,qt=$),Xt=Kt)("EPSG:3857"),new Xt("EPSG:102100"),new Xt("EPSG:102113"),new Xt("EPSG:900913"),new Xt("http://www.opengis.net/def/crs/EPSG/0/3857"),new Xt("http://www.opengis.net/gml/srs/epsg.xml#3857")],$t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var $t,Zt,Jt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Qt=[-180,-90,180,90],te=6378137*Math.PI/180;function ee(t,e){return Zt.call(this,{code:t,units:nt.DEGREES,extent:Qt,axisOrientation:e,global:!0,metersPerUnit:te,worldExtent:Qt})||this}$=[new(Jt(ee,Zt=$),Jt=ee)("CRS:84"),new Jt("EPSG:4326","neu"),new Jt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Jt("urn:ogc:def:crs:OGC:2:84"),new Jt("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Jt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Jt("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var ne={},ie={};function re(t,e,n){t=t.getCode(),e=e.getCode(),t in ie||(ie[t]={}),ie[t][e]=n}var oe=!0;function se(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function ae(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function le(t){var e;e=t.getCode(),re(ne[e]=t,t,se)}function ue(t){return"string"==typeof t?ne[e=t]||ne[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function ce(t){t.forEach(le),t.forEach((function(e){t.forEach((function(t){e!==t&&re(e,t,se)}))}))}function he(t,e){var n;return t=t.getCode(),e=e.getCode(),(n=t in ie&&e in ie[t]?ie[t][e]:n)||ae}function pe(t,e){return he(ue(t),ue(e))}var fe,de,ge,ye=null;function ve(t,e){return oe&&!function(t,e){for(var n=!0,i=t.length-1;0<=i;--i)if(t[i]!=e[i]){n=!1;break}return n}(t,[0,0])&&-180<=t[0]&&t[0]<=180&&-90<=t[1]&&t[1]<=90&&(oe=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function me(t,e){return t}function _e(t,e,n,i,r,o){for(var s=o||[],a=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}function xe(t,e,n,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],p=0,f=e;f<n;f+=i){var d=t[f]-c,g=t[f+1]-h;a[p++]=c+d*l-g*u,a[p++]=h+d*u+g*l;for(var y=f+2;y<f+i;++y)a[p++]=t[y]}return s&&a.length!=p&&(a.length=p),a}function we(t,e,n,i,r,o,s){for(var a=s||[],l=0,u=e;u<n;u+=i){a[l++]=t[u]+r,a[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)a[l++]=t[c]}return s&&a.length!=l&&(a.length=l),a}ce(Xt),ce($),fe=Xt,de=function(t,e,n){var i=t.length,r=1<n?n:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(i));for(var s=0;s<i;s+=r){o[s]=Yt*t[s]/180;var a=Ht*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));Vt<a?a=Vt:a<-Vt&&(a=-Vt),o[s+1]=a}return o},ge=function(t,e,n){var i=t.length,r=1<n?n:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/Yt,o[s+1]=360*Math.atan(Math.exp(t[s+1]/Ht))/Math.PI-90;return o},$.forEach((function(t){fe.forEach((function(e){re(t,e,de),re(e,t,ge)}))})),Ce=function(t,e){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ce,Se,be=[1,0,0,1,0,0];function Te(){var t,e,n,i,r,o=Se.call(this)||this;return o.extent_=[1/0,1/0,-1/0,-1/0],o.extentRevision_=-1,o.simplifiedGeometryMaxMinSquaredTolerance=0,o.simplifiedGeometryRevision=0,o.simplifyTransformedInternal=(r=!(t=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}),function(){var o=Array.prototype.slice.call(arguments);return r&&this===i&&S(o,n)||(r=!0,i=this,n=o,e=t.apply(this,arguments)),e}),o}var Ee,ke,Oe=Te;if("function"!=typeof(Jt=Se=tt)&&null!==Jt)throw new TypeError("Class extends value "+String(Jt)+" is not a constructor or null");function Ie(){this.constructor=Oe}Ce(Oe,Jt),Oe.prototype=null===Jt?Object.create(Jt):(Ie.prototype=Jt.prototype,new Ie),Te.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},Te.prototype.clone=H,Te.prototype.closestPointXY=H,Te.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},Te.prototype.getClosestPoint=function(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e},Te.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},Te.prototype.computeExtent=function(t){return H()},Te.prototype.getExtent=function(t){var e;return this.extentRevision_!=this.getRevision()&&(e=this.computeExtent(this.extent_),(isNaN(e[0])||isNaN(e[1]))&&Ct(e),this.extentRevision_=this.getRevision()),e=this.extent_,t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},Te.prototype.rotate=function(t,e){H()},Te.prototype.scale=function(t,e,n){H()},Te.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},Te.prototype.getSimplifiedGeometry=function(t){return H()},Te.prototype.getType=function(){return H()},Te.prototype.applyTransform=function(t){H()},Te.prototype.intersectsExtent=function(t){return H()},Te.prototype.translate=function(t,e){H()},Te.prototype.transform=function(t,e){var n=ue(t);return t=n.getUnits()==nt.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent();return o=Pt(s)/Pt(o),dt(be,s[0],s[3],o,-o,0,0,0),_e(t,0,t.length,r,be,i),pe(n,e)(t,i,r)}:pe(n,e),this.applyTransform(t),this};const De="XY",Pe="XYM",Re="XYZM";function Ae(){var t=ke.call(this)||this;return t.layout=De,t.stride=2,t.flatCoordinates=null,t}function Le(t){var e;return t==De?e=2:"XYZ"==t||t==Pe?e=3:t==Re&&(e=4),e}Ee=function(t,e){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Fe,Me,je,Ne,We,Ge,Be=Ae;if("function"!=typeof($=ke=Xt=Te)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function qe(){this.constructor=Be}function Xe(t,e,n){for(var i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}function He(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function Ye(t,e,n,i,r){for(var o=r||[],s=0,a=0,l=n.length;a<l;++a){var u=He(t,e,n[a],i);e=o[s++]=u}return o.length=s,o}function ze(t,e,n){var i=Me.call(this)||this;return void 0!==n&&void 0===e?i.setFlatCoordinates(n,t):i.setCenterAndRadius(t,e||0,n),i}Ee(Be,$),Be.prototype=null===$?Object.create($):(qe.prototype=$.prototype,new qe),Ae.prototype.computeExtent=function(t){return St(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},Ae.prototype.getCoordinates=function(){return H()},Ae.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},Ae.prototype.getFlatCoordinates=function(){return this.flatCoordinates},Ae.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},Ae.prototype.getLayout=function(){return this.layout},Ae.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},Ae.prototype.getSimplifiedGeometryInternal=function(t){return this},Ae.prototype.getStride=function(){return this.stride},Ae.prototype.setFlatCoordinates=function(t,e){this.stride=Le(t),this.layout=t,this.flatCoordinates=e},Ae.prototype.setCoordinates=function(t,e){H()},Ae.prototype.setLayout=function(t,e,n){var i;if(t)i=Le(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=De,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=De:3==t?e="XYZ":4==t&&(e=Re),e}(i=e.length)}this.layout=t,this.stride=i},Ae.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},Ae.prototype.rotate=function(t,e){var n,i=this.getFlatCoordinates();i&&(n=this.getStride(),xe(i,0,i.length,n,t,e,i),this.changed())},Ae.prototype.scale=function(t,e,n){var i=e;if(void 0===e&&(i=t),e=(e=n)||Dt(this.getExtent()),n=this.getFlatCoordinates()){for(var r=this.getStride(),o=n,s=n.length,a=r,l=t,u=i,c=(t=n)||[],h=(r=e)[0],p=r[1],f=0,d=0;d<s;d+=a){var g=o[d]-h,y=o[d+1]-p;c[f++]=h+l*g,c[f++]=p+u*y;for(var v=d+2;v<d+a;++v)c[f++]=o[v]}t&&c.length!=f&&(c.length=f),this.changed()}},Ae.prototype.translate=function(t,e){var n,i=this.getFlatCoordinates();i&&(n=this.getStride(),we(i,0,i.length,n,t,e,i),this.changed())},Fe=function(t,e){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(ze,Me=Jt=Ae),ze.prototype.clone=function(){var t=new ze(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},ze.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=(t-=r[0])*t+(e-=r[1])*e;if(o<i){if(0==o)for(var s=0;s<this.stride;++s)n[s]=r[s];else{var a=this.getRadius()/Math.sqrt(o);for(n[0]=r[0]+a*t,n[1]=r[1]+a*e,s=2;s<this.stride;++s)n[s]=r[s]}return n.length=this.stride,o}return i},ze.prototype.containsXY=function(t,e){var n=this.flatCoordinates;return(t-=n[0])*t+(e-=n[1])*e<=this.getRadiusSquared_()},ze.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},ze.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return wt(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},ze.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},ze.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},ze.prototype.getType=function(){return y},ze.prototype.intersectsExtent=function(t){var e;return!!Ft(t,this.getExtent())&&(e=this.getCenter(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||kt(t,this.intersectsCoordinate.bind(this)))},ze.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},ze.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=Xe(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},ze.prototype.getCoordinates=function(){return null},ze.prototype.setCoordinates=function(t,e){},ze.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},ze.prototype.rotate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(xe(n,0,n.length,i,t,e,n)),this.changed()},ze.prototype.translate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(we(n,0,n.length,i,t,e,n)),this.changed()},(Xt=ze).prototype.transform;const Ue=Xt;function Ve(t){var e=Ne.call(this)||this;return e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t&&("function"==typeof t.getSimplifiedGeometry?e.setGeometry(t):e.setProperties(t)),e}je=function(t,e){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ke=Ve;if("function"!=typeof($=Ne=tt)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function $e(){this.constructor=Ke}je(Ke,$),Ke.prototype=null===$?Object.create($):($e.prototype=$.prototype,new $e),Ve.prototype.clone=function(){var t,e=new Ve(this.hasProperties()?this.getProperties():null);return e.setGeometryName(this.getGeometryName()),(t=this.getGeometry())&&e.setGeometry(t.clone()),(t=this.getStyle())&&e.setStyle(t),e},Ve.prototype.getGeometry=function(){return this.get(this.geometryName_)},Ve.prototype.getId=function(){return this.id_},Ve.prototype.getGeometryName=function(){return this.geometryName_},Ve.prototype.getStyle=function(){return this.style_},Ve.prototype.getStyleFunction=function(){return this.styleFunction_},Ve.prototype.handleGeometryChange_=function(){this.changed()},Ve.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(G(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=N(t,j,this.handleGeometryChange_,this)),this.changed()},Ve.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},Ve.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){var e;return"function"==typeof t?t:(e=Array.isArray(t)?t:(ht("function"==typeof t.getZIndex,41),[t]),function(){return e})}(t):void 0,this.changed()},Ve.prototype.setId=function(t){this.id_=t,this.changed()},Ve.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()};const Ze=Ve,Je="active";function Qe(t,e,n,i,r,o,s){var a,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0==c&&0==h)a=e;else{var p=((r-l)*c+(o-u)*h)/(c*c+h*h);if(1<p)a=n;else{if(0<p){for(var f=0;f<i;++f)s[f]=Gt(t[e+f],t[n+f],p);return void(s.length=i)}a=e}}for(f=0;f<i;++f)s[f]=t[a+f];s.length=i}function tn(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],l=t[e+1],u=Wt(o,s,a,l);r<u&&(r=u),o=a,s=l}return r}function en(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=tn(t,e,a,i,r),e=a}return r}function nn(t,e,n,i,r,o,s,a,l,u,c){if(e==n)return u;var h,p;if(0===r){if((p=Wt(s,a,t[e],t[e+1]))<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,p}return u}for(var f=c||[NaN,NaN],d=e+i;d<n;)if(Qe(t,d-i,d,i,s,a,f),(p=Wt(s,a,f[0],f[1]))<u){for(u=p,h=0;h<i;++h)l[h]=f[h];d+=l.length=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(u))/r|0,1);if(o&&(Qe(t,n-i,e,i,s,a,f),(p=Wt(s,a,f[0],f[1]))<u)){for(u=p,h=0;h<i;++h)l[h]=f[h];l.length=i}return u}function rn(t,e,n,i,r,o,s,a,l,u,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];u=nn(t,e,d,i,r,o,s,a,l,u,h),e=d}return u}function on(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}for(var l,u,c,h,p,f,d=new Array(a),g=(d[0]=1,d[a-1]=1,[e,n-i]),y=0;0<g.length;){for(var v=g.pop(),m=g.pop(),_=0,x=t[m],w=t[m+1],C=t[v],S=t[v+1],b=m+i;b<v;b+=i){var T=t[b],E=t[b+1],k=(h=void 0,f=(c=S)-(u=w),0==(p=(k=C)-(l=x))&&0==f||(1<(h=((T-l)*p+(E-u)*f)/(p*p+f*f))?(l=k,u=c):0<h&&(l+=p*h,u+=f*h)),Wt(T,E,l,u));_<k&&(y=b,_=k)}r<_&&(d[(y-e)/i]=1,m+i<y&&g.push(m,y),y+i<v&&g.push(y,v))}for(b=0;b<a;++b)d[b]&&(o[s++]=t[e+b*i],o[s++]=t[e+b*i+1]);return s}function sn(t,e){return e*Math.round(t/e)}function an(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];s=function(t,e,n,i,r,o,s){if(e==n)return s;var a,l=sn(t[e],r),u=sn(t[e+1],r);e+=i,o[s++]=l,o[s++]=u;do{if(a=sn(t[e],r),d=sn(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=d,s}while(a==l&&d==u);for(;e<n;){var c,h,p,f,d,g=sn(t[e],r),y=sn(t[e+1],r);e+=i,g==a&&y==d||((c=a-l)*(f=y-u)==(h=d-u)*(p=g-l)&&(c<0&&p<c||c==p||0<c&&c<p)&&(h<0&&f<h||h==f||0<h&&h<f)||(l=o[s++]=a,u=o[s++]=d),a=g,d=y)}return o[s++]=a,o[s++]=d,s}(t,e,c,i,r,o,s),a.push(s),e=c}return s}function ln(t,e,n,i,r){var o;for(e+=i;e<n;e+=i)if(o=r(t.slice(e-i,e),t.slice(e,e+i)))return o;return!1}function un(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function cn(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];o[s++]=un(t,e,u,i,o[s]),e=u}return o.length=s,o}function hn(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];o[s++]=cn(t,e,u,i,o[s]),e=u[u.length-1]}return o.length=s,o}function pn(t,e,n,i,r,o,s){var a;if(1==(g=(n-e)/i))y=e;else if(2==g)y=e,a=r;else if(0!=g){for(var l=t[e],u=t[e+1],c=0,h=[0],p=e+i;p<n;p+=i){var f=t[p],d=t[p+1];c+=Math.sqrt((f-l)*(f-l)+(d-u)*(d-u)),h.push(c),l=f,u=d}r=function(t,e,n){for(var i,r,o=w,s=0,a=t.length,l=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,l=!r);return l?s:~s}(h,g=r*c);var g,y=r<0?(a=(g-h[-r-2])/(h[-r-1]-h[-r-2]),e+(-r-2)*i):e+r*i}var v=1<s?s:2,m=o||new Array(v);for(p=0;p<v;++p)m[p]=void 0===y?NaN:void 0===a?t[y+p]:Gt(t[y+p],t[y+i+p],a);return m}function fn(t,e,n,i,r,o){if(n==e)return null;if(r<t[e+i-1])return o?((c=t.slice(e,e+i))[i-1]=r,c):null;if(t[n-1]<r)return o?((c=t.slice(n-i,n))[i-1]=r,c):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,a=n/i;s<a;){var l=s+a>>1;r<t[(1+l)*i-1]?a=l:s=1+l}if(r==(o=t[s*i-1]))return t.slice((s-1)*i,(s-1)*i+i);for(var u=(r-o)/(t[(s+1)*i-1]-o),c=[],h=0;h<i-1;++h)c.push(Gt(t[(s-1)*i+h],t[s*i+h],u));return c.push(r),c}function dn(t,e,n,i,r,o){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?o<c&&0<(u-a)*(o-l)-(r-a)*(c-l)&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function gn(t,e,n,i,r,o){if(0===n.length)return!1;if(!dn(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(dn(t,n[s-1],n[s],i,r,o))return!1;return!0}function yn(t,e,n,i,r){var o=Et([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Ft(r,o)&&(!!mt(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||ln(t,e,n,i,(function(t,e){return c=!1,h=xt(n=r,t),p=xt(n,e),1===h||1===p?c=!0:(i=n[0],o=n[1],s=n[2],n=n[3],l=t[0],t=t[1],a=e[0],t=((e=e[1])-t)/(a-l),u=l=void 0,(c=(c=(c=2&p&&!(2&h)?i<=(l=a-(e-n)/t)&&l<=s:c)||!(4&p)||4&h?c:o<=(u=e-(a-s)*t)&&u<=n)||!(8&p)||8&h?c:i<=(l=a-(e-o)/t)&&l<=s)||!(16&p)||16&h||(c=o<=(u=e-(a-i)*t)&&u<=n)),c;var n,i,o,s,a,l,u,c,h,p})))}function vn(t,e,n,i,r){if(!(yn(o=t,e,s=n[0],a=i,l=r)||dn(o,e,s,a,l[0],l[1])||dn(o,e,s,a,l[0],l[3])||dn(o,e,s,a,l[2],l[1])||dn(o,e,s,a,l[2],l[3])))return!1;var o,s,a,l;if(1===n.length)return!0;for(var u=1,c=n.length;u<c;++u)if(function(t,e,n,i,r){return!kt(r,(function(r){return!dn(t,e,n,i,r[0],r[1])}))}(t,n[u-1],n[u],i,r)&&!yn(t,n[u-1],n[u],i,r))return!1;return!0}function mn(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];s+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return s}function _n(t,e){var n=Ge.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?n.setCoordinates(t,e):n.setFlatCoordinates(e,t),n}We=function(t,e){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var xn,wn,Cn=_n;if("function"!=typeof(Xt=Ge=Jt)&&null!==Xt)throw new TypeError("Class extends value "+String(Xt)+" is not a constructor or null");function Sn(){this.constructor=Cn}We(Cn,Xt),Cn.prototype=null===Xt?Object.create(Xt):(Sn.prototype=Xt.prototype,new Sn),_n.prototype.appendCoordinate=function(t){this.flatCoordinates?C(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},_n.prototype.clone=function(){var t=new _n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},_n.prototype.closestPointXY=function(t,e,n,i){return i<yt(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},_n.prototype.forEachSegment=function(t){return ln(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},_n.prototype.getCoordinateAtM=function(t,e){return this.layout!=Pe&&this.layout!=Re?null:fn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},_n.prototype.getCoordinates=function(){return un(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_n.prototype.getCoordinateAt=function(t,e){return pn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},_n.prototype.getLength=function(){return mn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},_n.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},_n.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=on(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new _n(e,De)},_n.prototype.getType=function(){return c},_n.prototype.intersectsExtent=function(t){return yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},_n.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=He(this.flatCoordinates,0,t,this.stride),this.changed()};const bn=_n;xn=function(t,e){return(xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Tn,En,kn,On,In,Dn,Pn,Rn,An,Ln,Fn=jn;if("function"!=typeof($=wn=m)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Mn(){this.constructor=Fn}function jn(t,e,n){return(t=wn.call(this,t)||this).map=e,t.frameState=void 0!==n?n:null,t}function Nn(t,e,n,i,r){return(t=En.call(this,t,e,r)||this).originalEvent=n,t.pixel_=null,t.coordinate_=null,t.dragging=void 0!==i&&i,t}xn(Fn,$),Fn.prototype=null===$?Object.create($):(Mn.prototype=$.prototype,new Mn),Tn=function(t,e){return(Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Wn=Nn;if("function"!=typeof($=En=Xt=jn)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Gn(){this.constructor=Wn}Tn(Wn,$),Wn.prototype=null===$?Object.create($):(Gn.prototype=$.prototype,new Gn),Object.defineProperty(Nn.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(Nn.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),Nn.prototype.preventDefault=function(){En.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},Nn.prototype.stopPropagation=function(){En.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()};const Bn=Nn,qn="pointerdrag",Xn="pointermove",Hn="pointerdown",Yn="pointerup";function zn(t,e,n){var i=On.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,e);else if(void 0!==e&&n)i.setFlatCoordinates(e,t),i.ends_=n;else{for(var r=i.getLayout(),o=t,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout()),C(s,c.getFlatCoordinates()),a.push(s.length)}i.setFlatCoordinates(r,s),i.ends_=a}return i}kn=function(t,e){return(kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Un=zn;if("function"!=typeof(Xt=On=Jt)&&null!==Xt)throw new TypeError("Class extends value "+String(Xt)+" is not a constructor or null");function Vn(){this.constructor=Un}kn(Un,Xt),Un.prototype=null===Xt?Object.create(Xt):(Vn.prototype=Xt.prototype,new Vn),zn.prototype.appendLineString=function(t){this.flatCoordinates?C(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},zn.prototype.clone=function(){var t=new zn(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},zn.prototype.closestPointXY=function(t,e,n,i){return i<yt(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(en(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},zn.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Pe&&this.layout!=Re||0===this.flatCoordinates.length)return null;var i,r=this.flatCoordinates,o=0,s=this.ends_,a=this.stride,l=t;if(t=void 0!==e&&e,void 0!==n&&n)return fn(r,o,s[s.length-1],a,l,t);if(l<r[a-1])return t?((i=r.slice(0,a))[a-1]=l,i):null;if(r[r.length-1]<l)return t?((i=r.slice(r.length-a))[a-1]=l,i):null;for(var u=0,c=s.length;u<c;++u){var h=s[u];if(o!=h){if(l<r[o+a-1])return null;if(l<=r[h-1])return fn(r,o,h,a,l,!1);o=h}}return null},zn.prototype.getCoordinates=function(){return cn(this.flatCoordinates,0,this.ends_,this.stride)},zn.prototype.getEnds=function(){return this.ends_},zn.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new bn(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},zn.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new bn(t.slice(r,a),n);i.push(l),r=a}return i},zn.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];C(t,pn(e,n,a,r,.5)),n=a}return t},zn.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=function(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];s=on(t,e,c,i,r,o,s),a.push(s),e=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new zn(e,De,n)},zn.prototype.getType=function(){return f},zn.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=t,s=0,a=i.length;s<a;++s){if(yn(e,n,i[s],r,o))return!0;n=i[s]}return!1},zn.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]),e=Ye(this.flatCoordinates,0,t,this.stride,this.ends_),this.flatCoordinates.length=0===e.length?0:e[e.length-1],this.changed()};const Kn=zn;function $n(t,e){var n=Dn.call(this)||this;return n.setCoordinates(t,e),n}In=function(t,e){return(In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Zn=$n;if("function"!=typeof($=Dn=Jt)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Jn(){this.constructor=Zn}In(Zn,$),Zn.prototype=null===$?Object.create($):(Jn.prototype=$.prototype,new Jn),$n.prototype.clone=function(){var t=new $n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},$n.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates;if((t=Wt(t,e,r[0],r[1]))<i){for(var o=this.stride,s=0;s<o;++s)n[s]=r[s];return n.length=o,t}return i},$n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},$n.prototype.computeExtent=function(t){return wt(n=(e=this.flatCoordinates)[0],e=e[1],n,e,t);var e,n},$n.prototype.getType=function(){return u},$n.prototype.intersectsExtent=function(t){return _t(t,this.flatCoordinates[0],this.flatCoordinates[1])},$n.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xe(this.flatCoordinates,0,t,this.stride),this.changed()};const Qn=$n;function ti(t,e){var n=Rn.call(this)||this;return e&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}Pn=function(t,e){return(Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var ei=ti;if("function"!=typeof(Xt=Rn=Jt)&&null!==Xt)throw new TypeError("Class extends value "+String(Xt)+" is not a constructor or null");function ni(){this.constructor=ei}Pn(ei,Xt),ei.prototype=null===Xt?Object.create(Xt):(ni.prototype=Xt.prototype,new ni),ti.prototype.appendPoint=function(t){this.flatCoordinates?C(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},ti.prototype.clone=function(){var t=new ti(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},ti.prototype.closestPointXY=function(t,e,n,i){if(i<yt(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var l=Wt(t,e,r[s],r[s+1]);if(l<i){i=l;for(var u=0;u<o;++u)n[u]=r[s+u];n.length=o}}return i},ti.prototype.getCoordinates=function(){return un(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ti.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Qn(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},ti.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new Qn(t.slice(r,r+n),e);i.push(s)}return i},ti.prototype.getType=function(){return p},ti.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(_t(t,e[i],e[i+1]))return!0;return!1},ti.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=He(this.flatCoordinates,0,t,this.stride),this.changed()};const ii=ti;function ri(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=s*a-o*l,o=a,s=l}return r/2}function oi(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=ri(t,e,a,i),e=a}return r}function si(t,e){var n=Ln.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?n.setCoordinates(t,e):n.setFlatCoordinates(e,t),n}An=function(t,e){return(An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var ai=si;if("function"!=typeof($=Ln=Jt)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function li(){this.constructor=ai}An(ai,$),ai.prototype=null===$?Object.create($):(li.prototype=$.prototype,new li),si.prototype.clone=function(){return new si(this.flatCoordinates.slice(),this.layout)},si.prototype.closestPointXY=function(t,e,n,i){return i<yt(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),nn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},si.prototype.getArea=function(){return ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},si.prototype.getCoordinates=function(){return un(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},si.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=on(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new si(e,De)},si.prototype.getType=function(){return"LinearRing"},si.prototype.intersectsExtent=function(t){return!1},si.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=He(this.flatCoordinates,0,t,this.stride),this.changed()};const ui=si;function ci(t,e,n,i,r,o,s){for(var a,l,u,c=r[o+1],h=[],p=0,f=n.length;p<f;++p)for(var d=n[p],g=t[d-i],y=t[d-i+1],v=e;v<d;v+=i)x=t[v],u=t[v+1],(c<=y&&u<=c||y<=c&&c<=u)&&h.push(l=(c-y)/(u-y)*(x-g)+g),g=x,y=u;var m=NaN,_=-1/0;for(h.sort(w),g=h[0],v=1,a=h.length;v<a;++v){var x=h[v],C=Math.abs(x-g);_<C&&gn(t,e,n,i,l=(g+x)/2,c)&&(m=l,_=C),g=x}return isNaN(m)&&(m=r[o]),s?(s.push(m,c,_),s):[m,c,_]}function hi(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-o)*(l+s),o=a,s=l}return 0===r?void 0:0<r}function pi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var l=n[s],u=hi(t,e,l,i);if(0===s){if(o&&u||!o&&!u)return}else if(o&&!u||!o&&u)return;e=l}return 1}function fi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var l=n[s],u=hi(t,e,l,i);if(0===s?o&&u||!o&&!u:o&&!u||!o&&u){g=d=p=h=c=void 0;for(var c=t,h=e,p=l,f=i;h<p-f;){for(var d=0;d<f;++d){var g=c[h+d];c[h+d]=c[p-f+d],c[p-f+d]=g}h+=f,p-=f}}e=l}return e}function di(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=fi(t,e,n[o],i,r);return e}var gi,yi,vi,mi;function _i(t,e,n){var i=yi.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==e&&n?(i.setFlatCoordinates(e,t),i.ends_=n):i.setCoordinates(t,e),i}gi=function(t,e){return(gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}gi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(_i,yi=Jt),_i.prototype.appendLinearRing=function(t){this.flatCoordinates?C(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},_i.prototype.clone=function(){var t=new _i(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},_i.prototype.closestPointXY=function(t,e,n,i){return i<yt(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(en(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),rn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},_i.prototype.containsXY=function(t,e){return gn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},_i.prototype.getArea=function(){return oi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},_i.prototype.getCoordinates=function(t){var e;return void 0!==t?fi(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,cn(e,0,this.ends_,this.stride)},_i.prototype.getEnds=function(){return this.ends_},_i.prototype.getFlatInteriorPoint=function(){var t;return this.flatInteriorPointRevision_!=this.getRevision()&&(t=Dt(this.getExtent()),this.flatInteriorPoint_=ci(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()),this.flatInteriorPoint_},_i.prototype.getInteriorPoint=function(){return new Qn(this.getFlatInteriorPoint(),Pe)},_i.prototype.getLinearRingCount=function(){return this.ends_.length},_i.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new ui(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},_i.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],l=new ui(e.slice(r,a),t);i.push(l),r=a}return i},_i.prototype.getOrientedFlatCoordinates=function(){var t;return this.orientedRevision_!=this.getRevision()&&(pi(t=this.flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=fi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_},_i.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=an(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new _i(e,De,n)},_i.prototype.getType=function(){return h},_i.prototype.intersectsExtent=function(t){return vn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},_i.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]),e=Ye(this.flatCoordinates,0,t,this.stride,this.ends_),this.flatCoordinates.length=0===e.length?0:e[e.length-1],this.changed()};const xi=Xt=_i;function wi(t,e,n){var i=mi.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var r=i.getLayout(),o=t,s=[],a=[],l=0,u=o.length;l<u;++l){for(var c=o[l],h=(0===l&&(r=c.getLayout()),s.length),p=c.getEnds(),f=0,d=p.length;f<d;++f)p[f]+=h;C(s,c.getFlatCoordinates()),a.push(p)}e=r,t=s,n=a}return void 0!==e&&n?(i.setFlatCoordinates(e,t),i.endss_=n):i.setCoordinates(t,e),i}vi=function(t,e){return(vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ci,Si,bi=wi;if("function"!=typeof($=mi=Jt)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Ti(){this.constructor=bi}vi(bi,$),bi.prototype=null===$?Object.create($):(Ti.prototype=$.prototype,new Ti),wi.prototype.appendPolygon=function(t){if(this.flatCoordinates){var e=this.flatCoordinates.length;C(this.flatCoordinates,t.getFlatCoordinates());for(var n,i=0,r=(n=t.getEnds().slice()).length;i<r;++i)n[i]+=e}else this.flatCoordinates=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_.push();this.endss_.push(n),this.changed()},wi.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),n=0;n<t;++n)e[n]=this.endss_[n].slice();var i=new wi(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i},wi.prototype.closestPointXY=function(t,e,n,i){if(i<yt(this.getExtent(),t,e))return i;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=en(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());for(var r=this.getOrientedFlatCoordinates(),o=0,s=this.endss_,a=this.stride,l=this.maxDelta_,u=t,c=e,h=n,p=i,f=(t=void 0)||[NaN,NaN],d=0,g=s.length;d<g;++d){var y=s[d];p=rn(r,o,y,a,l,!0,u,c,h,p,f),o=y[y.length-1]}return p},wi.prototype.containsXY=function(t,e){var n=this.getOrientedFlatCoordinates(),i=0,r=this.endss_,o=this.stride,s=t,a=e;if(0===r.length)return!1;for(var l=0,u=r.length;l<u;++l){var c=r[l];if(gn(n,i,c,o,s,a))return!0;i=c[c.length-1]}return!1},wi.prototype.getArea=function(){for(var t=this.getOrientedFlatCoordinates(),e=0,n=this.endss_,i=this.stride,r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=oi(t,e,a,i),e=a[a.length-1]}return r},wi.prototype.getCoordinates=function(t){var e;return void 0!==t?di(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,hn(e,0,this.endss_,this.stride)},wi.prototype.getEndss=function(){return this.endss_},wi.prototype.getFlatInteriorPoints=function(){var t;return this.flatInteriorPointsRevision_!=this.getRevision()&&(t=function(t,e,n,i){for(var r=[],o=0,s=n.length;o<s;++o){var a=n[o],l=St(t,e,a[0],i);r.push((l[0]+l[2])/2,(l[1]+l[3])/2),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride),this.flatInteriorPoints_=function(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var l=n[s];o=ci(t,e,l,i,r,2*s,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()),this.flatInteriorPoints_},wi.prototype.getInteriorPoints=function(){return new ii(this.getFlatInteriorPoints().slice(),Pe)},wi.prototype.getOrientedFlatCoordinates=function(){var t;return this.orientedRevision_!=this.getRevision()&&(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(!pi(t,e,a,i,void 0))return;a.length&&(e=a[a.length-1])}return 1}(t=this.flatCoordinates,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=di(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_},wi.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=function(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l],h=[];s=an(t,e,c,i,r,o,s,h),a.push(h),e=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new wi(e,De,n)},wi.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;e=0===t?0:(i=this.endss_[t-1])[i.length-1];var e,n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(var r=0,o=n.length;r<o;++r)n[r]-=e;return new xi(this.flatCoordinates.slice(e,i),this.layout,n)},wi.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),l=a[a.length-1];if(0!==r)for(var u=0,c=a.length;u<c;++u)a[u]-=r;var h=new xi(e.slice(r,l),t,a);i.push(h),r=l}return i},wi.prototype.getType=function(){return d},wi.prototype.intersectsExtent=function(t){for(var e=this.getOrientedFlatCoordinates(),n=0,i=this.endss_,r=this.stride,o=t,s=0,a=i.length;s<a;++s){var l=i[s];if(vn(e,n,l,r,o))return!0;n=l[l.length-1]}return!1},wi.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]),e=function(t,e,n,i,r){for(var o=r||[],s=0,a=0,l=n.length;a<l;++a){var u=Ye(t,e,n[a],i,o[s]);e=(o[s++]=u)[u.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_),0===e.length?this.flatCoordinates.length=0:(t=e[e.length-1],this.flatCoordinates.length=0===t.length?0:t[t.length-1]),this.changed()};const Ei=wi;Ci=function(t,e){return(Ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var ki,Oi,Ii=Pi;if("function"!=typeof(Xt=Si=tt)&&null!==Xt)throw new TypeError("Class extends value "+String(Xt)+" is not a constructor or null");function Di(){this.constructor=Ii}function Pi(t){var e=Si.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}function Ri(t){var e=this;return t=t||{},e=Oi.call(this,t)||this,t.handleDownEvent&&(e.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(e.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(e.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(e.handleUpEvent=t.handleUpEvent),t.stopDown&&(e.stopDown=t.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}Ci(Ii,Xt),Ii.prototype=null===Xt?Object.create(Xt):(Di.prototype=Xt.prototype,new Di),Pi.prototype.getActive=function(){return this.get(Je)},Pi.prototype.getMap=function(){return this.map_},Pi.prototype.handleEvent=function(t){return!0},Pi.prototype.setActive=function(t){this.set(Je,t)},Pi.prototype.setMap=function(t){this.map_=t},ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ai,Li,Fi=Ri;if("function"!=typeof($=Oi=Jt=Pi)&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function Mi(){this.constructor=Fi}ki(Fi,$),Fi.prototype=null===$?Object.create($):(Mi.prototype=$.prototype,new Mi),Ri.prototype.getPointerCount=function(){return this.targetPointers.length},Ri.prototype.handleDownEvent=function(t){return!1},Ri.prototype.handleDragEvent=function(t){},Ri.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e,n=!1;return this.updateTrackedPointers_(t),this.handlingDownUpSequence?t.type==qn?(this.handleDragEvent(t),t.originalEvent.preventDefault()):t.type==Yn&&(e=this.handleUpEvent(t),this.handlingDownUpSequence=e&&0<this.targetPointers.length):t.type==Hn?(e=this.handleDownEvent(t),this.handlingDownUpSequence=e,n=this.stopDown(e)):t.type==Xn&&this.handleMoveEvent(t),!n},Ri.prototype.handleMoveEvent=function(t){},Ri.prototype.handleUpEvent=function(t){return!1},Ri.prototype.stopDown=function(t){return t},Ri.prototype.updateTrackedPointers_=function(t){var e,n;!function(t){return(t=t.type)===Hn||t===qn||t===Yn}(t)||(n=(e=t.originalEvent).pointerId.toString(),t.type==Yn?delete this.trackedPointers_[n]:(t.type==Hn||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=P(this.trackedPointers_))},Xt=Ri;const ji="opacity",Ni="visible",Wi="extent",Gi="zIndex",Bi="maxResolution",qi="minResolution",Xi="maxZoom",Hi="minZoom",Yi="source";function zi(t){var e=Li.call(this)||this,n=(e.on,e.once,e.un,e.background_=t.background,k({},t));return"object"==typeof t.properties&&(delete n.properties,k(n,t.properties)),n.opacity=void 0!==t.opacity?t.opacity:1,ht("number"==typeof n.opacity,64),n.visible=void 0===t.visible||t.visible,n.zIndex=t.zIndex,n.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,n.minResolution=void 0!==t.minResolution?t.minResolution:0,n.minZoom=void 0!==t.minZoom?t.minZoom:-1/0,n.maxZoom=void 0!==t.maxZoom?t.maxZoom:1/0,e.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,e.setProperties(n),e.state_=null,e}Ai=function(t,e){return(Ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ui,Vi,Ki=zi;if("function"!=typeof(Jt=Li=tt)&&null!==Jt)throw new TypeError("Class extends value "+String(Jt)+" is not a constructor or null");function $i(){this.constructor=Ki}Ai(Ki,Jt),Ki.prototype=null===Jt?Object.create(Jt):($i.prototype=Jt.prototype,new $i),zi.prototype.getBackground=function(){return this.background_},zi.prototype.getClassName=function(){return this.className_},zi.prototype.getLayerState=function(t){t=this.state_||{layer:this,managed:void 0===t||t};var e=this.getZIndex();return t.opacity=jt(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==e||t.managed?e:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t},zi.prototype.getLayersArray=function(t){return H()},zi.prototype.getLayerStatesArray=function(t){return H()},zi.prototype.getExtent=function(){return this.get(Wi)},zi.prototype.getMaxResolution=function(){return this.get(Bi)},zi.prototype.getMinResolution=function(){return this.get(qi)},zi.prototype.getMinZoom=function(){return this.get(Hi)},zi.prototype.getMaxZoom=function(){return this.get(Xi)},zi.prototype.getOpacity=function(){return this.get(ji)},zi.prototype.getSourceState=function(){return H()},zi.prototype.getVisible=function(){return this.get(Ni)},zi.prototype.getZIndex=function(){return this.get(Gi)},zi.prototype.setBackground=function(t){this.background_=t,this.changed()},zi.prototype.setExtent=function(t){this.set(Wi,t)},zi.prototype.setMaxResolution=function(t){this.set(Bi,t)},zi.prototype.setMinResolution=function(t){this.set(qi,t)},zi.prototype.setMaxZoom=function(t){this.set(Xi,t)},zi.prototype.setMinZoom=function(t){this.set(Hi,t)},zi.prototype.setOpacity=function(t){ht("number"==typeof t,64),this.set(ji,t)},zi.prototype.setVisible=function(t){this.set(Ni,t)},zi.prototype.setZIndex=function(t){this.set(Gi,t)},zi.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),Li.prototype.disposeInternal.call(this)};const Zi="ready";function Ji(t){var e=this,n=(delete(n=k({},t)).source,(e=Vi.call(this,n)||this).on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,e.rendered=!1,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(Yi,e.handleSourcePropertyChange_),t.source||null);return e.setSource(n),e}Ui=function(t,e){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Qi=Ji;if("function"!=typeof(Jt=Vi=$=zi)&&null!==Jt)throw new TypeError("Class extends value "+String(Jt)+" is not a constructor or null");function tr(){this.constructor=Qi}Ui(Qi,Jt),Qi.prototype=null===Jt?Object.create(Jt):(tr.prototype=Jt.prototype,new tr),Ji.prototype.getLayersArray=function(t){return(t=t||[]).push(this),t},Ji.prototype.getLayerStatesArray=function(t){return(t=t||[]).push(this.getLayerState()),t},Ji.prototype.getSource=function(){return this.get(Yi)||null},Ji.prototype.getRenderSource=function(){return this.getSource()},Ji.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},Ji.prototype.handleSourceChange_=function(){this.changed()},Ji.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(G(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=N(t,j,this.handleSourceChange_,this)),this.changed()},Ji.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},Ji.prototype.getData=function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null},Ji.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},Ji.prototype.unrender=function(){this.rendered=!1},Ji.prototype.setMapInternal=function(t){t||this.unrender(),this.set("map",t)},Ji.prototype.getMapInternal=function(){return this.get("map")},Ji.prototype.setMap=function(t){this.mapPrecomposeKey_&&(G(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(G(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=N(t,"precompose",(function(t){t=t.frameState.layerStatesArray;var e=this.getLayerState(!1);ht(!t.some((function(t){return t.layer===e.layer})),67),t.push(e)}),this),this.mapRenderKey_=N(this,j,t.render,t),this.changed())},Ji.prototype.setSource=function(t){this.set(Yi,t)},Ji.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},Ji.prototype.hasRenderer=function(){return!!this.renderer_},Ji.prototype.createRenderer=function(){return null},Ji.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),Vi.prototype.disposeInternal.call(this)},$=Ji;var er=n(6656);function nr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function ir(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=nr(t.scale),this.displacement_=t.displacement}ir.prototype.clone=function(){var t=this.getScale();return new ir({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},ir.prototype.getOpacity=function(){return this.opacity_},ir.prototype.getRotateWithView=function(){return this.rotateWithView_},ir.prototype.getRotation=function(){return this.rotation_},ir.prototype.getScale=function(){return this.scale_},ir.prototype.getScaleArray=function(){return this.scaleArray_},ir.prototype.getDisplacement=function(){return this.displacement_},ir.prototype.getAnchor=function(){return H()},ir.prototype.getImage=function(t){return H()},ir.prototype.getHitDetectionImage=function(){return H()},ir.prototype.getPixelRatio=function(t){return 1},ir.prototype.getImageState=function(){return H()},ir.prototype.getImageSize=function(){return H()},ir.prototype.getOrigin=function(){return H()},ir.prototype.getSize=function(){return H()},ir.prototype.setDisplacement=function(t){this.displacement_=t},ir.prototype.setOpacity=function(t){this.opacity_=t},ir.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ir.prototype.setRotation=function(t){this.rotation_=t},ir.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=nr(t)},ir.prototype.listenImageChange=function(t){H()},ir.prototype.load=function(){H()},ir.prototype.unlistenImageChange=function(t){H()},Jt=ir;var rr=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,or=/^([a-z]*)$|^hsla?\(.*\)$/i;function sr(t){return"string"==typeof t?t:hr(t)}ar={},lr=0;var ar,lr;function ur(t){return Array.isArray(t)?t:function(t){var e;if(ar.hasOwnProperty(t))e=ar[t];else{if(1024<=lr){var n,i=0;for(n in ar)0==(3&i++)&&(delete ar[n],--lr)}e=function(t){var e,n,i,r,o,s;return or.exec(t)&&(t=function(t){var e=document.createElement("div");return e.style.color=t,""!==e.style.color?(document.body.appendChild(e),t=getComputedStyle(e).color,document.body.removeChild(e),t):""}(t)),rr.exec(t)?(o=void 0,o=(s=t.length-1)<=4?1:2,s=4==s||8==s,e=parseInt(t.substr(1+0*o,o),16),n=parseInt(t.substr(+o+1,o),16),i=parseInt(t.substr(1+2*o,o),16),r=s?parseInt(t.substr(1+3*o,o),16):255,1==o&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,s&&(r=(r<<4)+r)),o=[e,n,i,r/255]):0==t.indexOf("rgba(")?cr(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),cr(o)):ht(!1,14),o}(t),ar[t]=e,++lr}return e}(t)}function cr(t){t[0]=jt(t[0]+.5|0,0,255),t[1]=jt(t[1]+.5|0,0,255),t[2]=jt(t[2]+.5|0,0,255),t[3]=jt(t[3],0,1)}function hr(t){var e=t[0],n=(e!=(0|e)&&(e=e+.5|0),t[1]),i=(n!=(0|n)&&(n=n+.5|0),t[2]);return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(t=void 0===t[3]?1:Math.round(100*t[3])/100)+")"}function pr(t){return Array.isArray(t)?hr(t):t}function fr(t,e,n,i){return n=n&&n.length?n.shift():ot?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(n.width=t),e&&(n.height=e),n.getContext("2d",i)}function dr(t){var e=t.match(wr);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=Cr.length;i<r;++i){var o=e[i+1];void 0!==o&&(n[Cr[i]]=o)}return n.families=n.family.split(/,\s?/),n}var gr,yr,vr,mr,_r,xr,wr=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Cr=["style","variant","weight","size","lineHeight","family"],Sr="10px sans-serif",br="#000",Tr="round",Er=[],kr="round",Or="#000",Ir="center",Dr="middle",Pr=[0,0,0,0],Rr=new tt,Ar=((new M).setSize=function(){console.warn("labelCache is deprecated.")},null),Lr={},Fr=(_r=(mr=["monospace","serif"]).length,xr="wmytzilWMYTZIL@#/&?$%10ï",function(t){var e=dr(t);if(e)for(var n=e.families,i=0,r=n.length;i<r;++i){var o=n[i],s=e.style+"\n"+e.weight+"\n"+o;void 0===Rr.get(s)&&(Rr.set(s,100,!0),Mr(e.style,e.weight,o)||(Rr.set(s,0,!0),void 0===yr&&(yr=setInterval(jr,32))))}});function Mr(t,e,n){for(var i=!0,r=0;r<_r;++r){var o=mr[r];vr=Xr(t+" "+e+" 32px "+o,xr),n!=o&&(o=Xr(t+" "+e+" 32px "+n+","+o,xr),i=i&&o!=vr)}return!!i}function jr(){for(var t=!0,e=Rr.getKeys(),n=0,i=e.length;n<i;++n){var r=e[n];Rr.get(r)<100&&(Mr.apply(this,r.split("\n"))?(O(Lr),Ar=null,gr=void 0,Rr.set(r,100)):(Rr.set(r,Rr.get(r)+1,!0),t=!1))}t&&(clearInterval(yr),yr=void 0)}var Nr,Wr,Gr,Br=function(t){var e,n,i=Lr[t];return null==i&&(ot?(e=dr(t),n=qr(t,"Å½g"),i=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)):(Nr||((Nr=document.createElement("div")).innerHTML="M",Nr.style.minHeight="0",Nr.style.maxHeight="none",Nr.style.height="auto",Nr.style.padding="0",Nr.style.border="none",Nr.style.position="absolute",Nr.style.display="block",Nr.style.left="-99999px"),Nr.style.font=t,document.body.appendChild(Nr),i=Nr.offsetHeight,document.body.removeChild(Nr)),Lr[t]=i),i};function qr(t,e){return Ar=Ar||fr(1,1),t!=gr&&(Ar.font=t,gr=Ar.font),Ar.measureText(e)}function Xr(t,e){return qr(t,e).width}function Hr(t,e,n){return e in n?n[e]:(t=Xr(t,e),n[e]=t)}Wr=function(t,e){return(Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Yr,zr,Ur=Kr;if("function"!=typeof(Ia=Gr=Jt)&&null!==Ia)throw new TypeError("Class extends value "+String(Ia)+" is not a constructor or null");function Vr(){this.constructor=Ur}function Kr(t){var e=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(e=Gr.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this).canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=void 0!==t.fill?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=void 0!==t.radius?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=void 0!==t.angle?t.angle:0,e.stroke_=void 0!==t.stroke?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}function $r(t){return t=t||{},zr.call(this,{points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this}Wr(Ur,Ia),Ur.prototype=null===Ia?Object.create(Ia):(Vr.prototype=Ia.prototype,new Vr),Kr.prototype.clone=function(){var t=this.getScale();return(t=new Kr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()})).setOpacity(this.getOpacity()),t},Kr.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},Kr.prototype.getAngle=function(){return this.angle_},Kr.prototype.getFill=function(){return this.fill_},Kr.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},Kr.prototype.getImage=function(t){var e,n,i=this.canvas_[t];return i||(n=fr((e=this.renderOptions_).size*t,e.size*t),this.draw_(e,n,t),i=n.canvas,this.canvas_[t]=i),i},Kr.prototype.getPixelRatio=function(t){return t},Kr.prototype.getImageSize=function(){return this.size_},Kr.prototype.getImageState=function(){return 2},Kr.prototype.getOrigin=function(){return this.origin_},Kr.prototype.getPoints=function(){return this.points_},Kr.prototype.getRadius=function(){return this.radius_},Kr.prototype.getRadius2=function(){return this.radius2_},Kr.prototype.getSize=function(){return this.size_},Kr.prototype.getStroke=function(){return this.stroke_},Kr.prototype.listenImageChange=function(t){},Kr.prototype.load=function(){},Kr.prototype.unlistenImageChange=function(t){},Kr.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var i=this.radius_,r=void 0===this.radius2_?i:this.radius2_,o=(i<r&&(o=i,i=r,r=o),void 0===this.radius2_?this.points_:2*this.points_),s=(o=2*Math.PI/o,r*Math.sin(o)),a=i-Math.sqrt(r*r-s*s),l=Math.sqrt(s*s+a*a);return s=l/s,"miter"===t&&s<=n?s*e:(s=e/2/s,a=e/2*(a/l),l=Math.sqrt((i+s)*(i+s)+a*a)-i,void 0===this.radius2_||"bevel"===t?2*l:(s=i*Math.sin(o),a=r-Math.sqrt(i*i-s*s),(t=Math.sqrt(s*s+a*a)/s)<=n?2*Math.max(l,t*e/2-r-i):2*l))},Kr.prototype.createRenderOptions=function(){var t,e=kr,n=0,i=null,r=0,o=0,s=(this.stroke_&&(t=pr(t=null===(t=this.stroke_.getColor())?Or:t),void 0===(o=this.stroke_.getWidth())&&(o=1),i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=kr),void 0===(n=this.stroke_.getMiterLimit())&&(n=10)),this.calculateLineJoinSize_(e,o,n)),a=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*a+s),lineDash:i,lineDashOffset:r,lineJoin:e,miterLimit:n}},Kr.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},Kr.prototype.draw_=function(t,e,n){e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_&&(n=this.fill_.getColor(),e.fillStyle=pr(n=null===n?br:n),e.fill()),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},Kr.prototype.createHitDetectionCanvas_=function(t){var e,n;this.fill_&&(e=0,null===(n="string"==typeof(n=this.fill_.getColor())?ur(n):n)?e=1:Array.isArray(n)&&(e=4===n.length?n[3]:1),0===e&&(n=fr(t.size,t.size),this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(t,n))),this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},Kr.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{for(var i=void 0===this.radius2_?n:this.radius2_,r=(void 0!==this.radius2_&&(e*=2),this.angle_-Math.PI/2),o=2*Math.PI/e,s=0;s<e;s++){var a=r+s*o,l=s%2==0?n:i;t.lineTo(l*Math.cos(a),l*Math.sin(a))}t.closePath()}},Kr.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=br,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},Yr=function(t,e){return(Yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Zr=$r;if("function"!=typeof(Ia=zr=Ia=Kr)&&null!==Ia)throw new TypeError("Class extends value "+String(Ia)+" is not a constructor or null");function Jr(){this.constructor=Zr}Yr(Zr,Ia),Zr.prototype=null===Ia?Object.create(Ia):(Jr.prototype=Ia.prototype,new Jr),$r.prototype.clone=function(){var t=this.getScale();return(t=new $r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})).setOpacity(this.getOpacity()),t},$r.prototype.setRadius=function(t){this.radius_=t,this.render()};const Qr=$r;function to(t){t=t||{},this.color_=void 0!==t.color?t.color:null}to.prototype.clone=function(){var t=this.getColor();return new to({color:Array.isArray(t)?t.slice():t||void 0})},to.prototype.getColor=function(){return this.color_},to.prototype.setColor=function(t){this.color_=t};const eo=to;function no(t){t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}no.prototype.clone=function(){var t=this.getColor();return new no({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},no.prototype.getColor=function(){return this.color_},no.prototype.getLineCap=function(){return this.lineCap_},no.prototype.getLineDash=function(){return this.lineDash_},no.prototype.getLineDashOffset=function(){return this.lineDashOffset_},no.prototype.getLineJoin=function(){return this.lineJoin_},no.prototype.getMiterLimit=function(){return this.miterLimit_},no.prototype.getWidth=function(){return this.width_},no.prototype.setColor=function(t){this.color_=t},no.prototype.setLineCap=function(t){this.lineCap_=t},no.prototype.setLineDash=function(t){this.lineDash_=t},no.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},no.prototype.setLineJoin=function(t){this.lineJoin_=t},no.prototype.setMiterLimit=function(t){this.miterLimit_=t},no.prototype.setWidth=function(t){this.width_=t};const io=no;oo.prototype.clone=function(){var t=this.getGeometry();return new oo({geometry:t=t&&"object"==typeof t?t.clone():t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},oo.prototype.getRenderer=function(){return this.renderer_},oo.prototype.setRenderer=function(t){this.renderer_=t},oo.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},oo.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},oo.prototype.getGeometry=function(){return this.geometry_},oo.prototype.getGeometryFunction=function(){return this.geometryFunction_},oo.prototype.getFill=function(){return this.fill_},oo.prototype.setFill=function(t){this.fill_=t},oo.prototype.getImage=function(){return this.image_},oo.prototype.setImage=function(t){this.image_=t},oo.prototype.getStroke=function(){return this.stroke_},oo.prototype.setStroke=function(t){this.stroke_=t},oo.prototype.getText=function(){return this.text_},oo.prototype.setText=function(t){this.text_=t},oo.prototype.getZIndex=function(){return this.zIndex_},oo.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=lo,this.geometry_=t},oo.prototype.setZIndex=function(t){this.zIndex_=t};var ro=oo;function oo(t){t=t||{},this.geometry_=null,this.geometryFunction_=lo,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}var so=null;function ao(t,e){var n,i;return so||(n=new eo({color:"rgba(255,255,255,0.4)"}),i=new io({color:"#3399CC",width:1.25}),so=[new ro({image:new Qr({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]),so}function lo(t){return t.getGeometry()}uo=function(t,e){return(uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var uo,co,ho="renderOrder";function po(t){var e=this,n=k({},t=t||{});return delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,(e=co.call(this,n)||this).declutter_=void 0!==t.declutter&&t.declutter,e.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(t.style),e.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,e.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,e}var fo=po;if("function"!=typeof(Ia=co=$)&&null!==Ia)throw new TypeError("Class extends value "+String(Ia)+" is not a constructor or null");function go(){this.constructor=fo}uo(fo,Ia),fo.prototype=null===Ia?Object.create(Ia):(go.prototype=Ia.prototype,new go),po.prototype.getDeclutter=function(){return this.declutter_},po.prototype.getFeatures=function(t){return co.prototype.getFeatures.call(this,t)},po.prototype.getRenderBuffer=function(){return this.renderBuffer_},po.prototype.getRenderOrder=function(){return this.get(ho)},po.prototype.getStyle=function(){return this.style_},po.prototype.getStyleFunction=function(){return this.styleFunction_},po.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},po.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},po.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new er(9)),this.getRenderer().renderDeclutter(t)},po.prototype.setRenderOrder=function(t){this.set(ho,t)},po.prototype.setStyle=function(t){var e;this.style_=void 0!==t?t:ao,this.styleFunction_=null===t?void 0:t="function"==typeof(t=this.style_)?t:(e=Array.isArray(t)?t:(ht("function"==typeof t.getZIndex,41),[t]),function(){return e}),this.changed()},$=po;var yo=[(Ia={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12}).FILL],vo=[Ia.STROKE],mo=[Ia.BEGIN_PATH],_o=[Ia.CLOSE_PATH];const xo=Ia;function wo(){}wo.prototype.drawCustom=function(t,e,n,i){},wo.prototype.drawGeometry=function(t){},wo.prototype.setStyle=function(t){},wo.prototype.drawCircle=function(t,e){},wo.prototype.drawFeature=function(t,e){},wo.prototype.drawGeometryCollection=function(t,e){},wo.prototype.drawLineString=function(t,e){},wo.prototype.drawMultiLineString=function(t,e){},wo.prototype.drawMultiPoint=function(t,e){},wo.prototype.drawMultiPolygon=function(t,e){},wo.prototype.drawPoint=function(t,e){},wo.prototype.drawPolygon=function(t,e){},wo.prototype.drawText=function(t,e){},wo.prototype.setFillStrokeStyle=function(t,e){},wo.prototype.setImageStyle=function(t,e){},wo.prototype.setTextStyle=function(t,e){};var Co,So,bo=(Co=function(t,e){return(Co=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},Eo);if("function"!=typeof(ss=So=Ia=wo)&&null!==ss)throw new TypeError("Class extends value "+String(ss)+" is not a constructor or null");function To(){this.constructor=bo}function Eo(t,e,n,i){var r=So.call(this)||this;return r.tolerance=t,r.maxExtent=e,r.pixelRatio=i,r.maxLineWidth=0,r.resolution=n,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}Co(bo,ss),bo.prototype=null===ss?Object.create(ss):(To.prototype=ss.prototype,new To),Eo.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},Eo.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,o=r.length,s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],vt(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o},Eo.prototype.appendFlatLineCoordinates=function(t,e,n,i,r,o){for(var s,a,l=this.coordinates,u=l.length,c=this.getBufferedMaxExtent(),h=(o&&(e+=i),t[e]),p=t[e+1],f=this.tmpCoordinate_,d=!0,g=e+i;g<n;g+=i)f[0]=t[g],f[1]=t[g+1],(a=xt(c,f))!==s?(d&&(l[u++]=h,l[u++]=p,d=!1),l[u++]=f[0],l[u++]=f[1]):d=1!==a||(l[u++]=f[0],l[u++]=f[1],!1),h=f[0],p=f[1],s=a;return(r&&d||g===e+i)&&(l[u++]=h,l[u++]=p),u},Eo.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatLineCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},Eo.prototype.drawCustom=function(t,e,n,i){this.beginGeometry(t,e);var r,o,s=t.getType(),a=t.getStride(),l=this.coordinates.length;switch(s){case d:for(var g=t.getOrientedFlatCoordinates(),v=[],m=t.getEndss(),_=C=0,x=m.length;_<x;++_){var w=[],C=this.drawCustomCoordinates_(g,C,m[_],a,w);v.push(w)}this.instructions.push([xo.CUSTOM,l,v,t,n,hn]),this.hitDetectionInstructions.push([xo.CUSTOM,l,v,t,i||n,hn]);break;case h:case f:o=[],g=s==h?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),C=this.drawCustomCoordinates_(g,0,t.getEnds(),a,o),this.instructions.push([xo.CUSTOM,l,o,t,n,cn]),this.hitDetectionInstructions.push([xo.CUSTOM,l,o,t,i||n,cn]);break;case c:case y:g=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(g,0,g.length,a,!1,!1),this.instructions.push([xo.CUSTOM,l,r,t,n,un]),this.hitDetectionInstructions.push([xo.CUSTOM,l,r,t,i||n,un]);break;case p:g=t.getFlatCoordinates(),l<(r=this.appendFlatPointCoordinates(g,a))&&(this.instructions.push([xo.CUSTOM,l,r,t,n,un]),this.hitDetectionInstructions.push([xo.CUSTOM,l,r,t,i||n,un]));break;case u:g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),r=this.coordinates.length,this.instructions.push([xo.CUSTOM,l,r,t,n]),this.hitDetectionInstructions.push([xo.CUSTOM,l,r,t,i||n])}this.endGeometry(e)},Eo.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[xo.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[xo.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},Eo.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},Eo.prototype.reverseHitDetectionInstructions=function(){for(var t,e,n=this.hitDetectionInstructions,i=(n.reverse(),n.length),r=-1,o=0;o<i;++o)if((e=(t=n[o])[0])==xo.END_GEOMETRY)r=o;else if(e==xo.BEGIN_GEOMETRY){t[2]=o,u=l=a=s=void 0;for(var s=this.hitDetectionInstructions,a=r,l=o;a<l;){var u=s[a];s[a]=s[l],s[l]=u,++a,--l}r=-1}},Eo.prototype.setFillStrokeStyle=function(t,e){var n=this.state;t?(t=t.getColor(),n.fillStyle=pr(t||br)):n.fillStyle=void 0,e?(t=e.getColor(),n.strokeStyle=pr(t||Or),t=e.getLineCap(),n.lineCap=void 0!==t?t:Tr,t=e.getLineDash(),n.lineDash=t?t.slice():Er,t=e.getLineDashOffset(),n.lineDashOffset=t||0,t=e.getLineJoin(),n.lineJoin=void 0!==t?t:kr,t=e.getWidth(),n.lineWidth=void 0!==t?t:1,t=e.getMiterLimit(),n.miterLimit=void 0!==t?t:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},Eo.prototype.createFill=function(t){t=t.fillStyle;var e=[xo.SET_FILL_STYLE,t];return"string"!=typeof t&&e.push(!0),e},Eo.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},Eo.prototype.createStroke=function(t){return[xo.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},Eo.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},Eo.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;t.currentStrokeStyle==n&&t.currentLineCap==i&&(r==t.currentLineDash||S(t.currentLineDash,r))&&t.currentLineDashOffset==o&&t.currentLineJoin==s&&t.currentLineWidth==a&&t.currentMiterLimit==l||(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},Eo.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null,t=[xo.END_GEOMETRY,t],this.instructions.push(t),this.hitDetectionInstructions.push(t)},Eo.prototype.getBufferedMaxExtent=function(){var t,e;return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(t=this.maxExtent,e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()),0<this.maxLineWidth&&(e=this.resolution*(this.maxLineWidth+1)/2,gt(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_))),this.bufferedMaxExtent_};var ko,Oo,Io=(ko=function(t,e){return(ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},Po);if("function"!=typeof(Lo=Oo=ss=Eo)&&null!==Lo)throw new TypeError("Class extends value "+String(Lo)+" is not a constructor or null");function Do(){this.constructor=Io}function Po(t,e,n,i){return(t=Oo.call(this,t,e,n,i)||this).hitDetectionImage_=null,t.image_=null,t.imagePixelRatio_=void 0,t.anchorX_=void 0,t.anchorY_=void 0,t.height_=void 0,t.opacity_=void 0,t.originX_=void 0,t.originY_=void 0,t.rotateWithView_=void 0,t.rotation_=void 0,t.scale_=void 0,t.width_=void 0,t.declutterImageWithText_=void 0,t}ko(Io,Lo),Io.prototype=null===Lo?Object.create(Lo):(Do.prototype=Lo.prototype,new Do),Po.prototype.drawPoint=function(t,e){var n,i;this.image_&&(this.beginGeometry(t,e),i=t.getFlatCoordinates(),t=t.getStride(),n=this.coordinates.length,i=this.appendFlatPointCoordinates(i,t),this.instructions.push([xo.DRAW_IMAGE,n,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([xo.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e))},Po.prototype.drawMultiPoint=function(t,e){var n,i;this.image_&&(this.beginGeometry(t,e),i=t.getFlatCoordinates(),t=t.getStride(),n=this.coordinates.length,i=this.appendFlatPointCoordinates(i,t),this.instructions.push([xo.DRAW_IMAGE,n,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([xo.DRAW_IMAGE,n,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e))},Po.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,Oo.prototype.finish.call(this)},Po.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0]*this.imagePixelRatio_,this.originY_=s[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e};var Ro,Ao,Lo=Po,Fo=(Ro=function(t,e){return(Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},jo);if("function"!=typeof(Go=Ao=ss)&&null!==Go)throw new TypeError("Class extends value "+String(Go)+" is not a constructor or null");function Mo(){this.constructor=Fo}function jo(t,e,n,i){return Ao.call(this,t,e,n,i)||this}Ro(Fo,Go),Fo.prototype=null===Go?Object.create(Go):(Mo.prototype=Go.prototype,new Mo),jo.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length;return t=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),e=[xo.MOVE_TO_LINE_TO,r,t],this.instructions.push(e),this.hitDetectionInstructions.push(e),n},jo.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;void 0!==i&&void 0!==r&&(this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([xo.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Er,0],mo),i=t.getFlatCoordinates(),r=t.getStride(),this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push(vo),this.endGeometry(e))},jo.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([xo.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],mo);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(s,l,o[u],a);this.hitDetectionInstructions.push(vo),this.endGeometry(e)}},jo.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(vo),this.reverseHitDetectionInstructions(),this.state=null,Ao.prototype.finish.call(this)},jo.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(vo),t.lastStroke=this.coordinates.length),t.lastStroke=0,Ao.prototype.applyStroke.call(this,t),this.instructions.push(mo)};var No,Wo,Go=jo;function Bo(t,e,n,i){return Wo.call(this,t,e,n,i)||this}No=function(t,e){return(No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var qo=Bo;if("function"!=typeof(Tl=Wo=ss)&&null!==Tl)throw new TypeError("Class extends value "+String(Tl)+" is not a constructor or null");function Xo(){this.constructor=qo}No(qo,Tl),qo.prototype=null===Tl?Object.create(Tl):(Xo.prototype=Tl.prototype,new Xo),Bo.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(mo),this.hitDetectionInstructions.push(mo);for(var l=0;l<a;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,u,i,!0,!s);c=[xo.MOVE_TO_LINE_TO,c,h],this.instructions.push(c),this.hitDetectionInstructions.push(c),s&&(this.instructions.push(_o),this.hitDetectionInstructions.push(_o)),e=u}return o&&(this.instructions.push(yo),this.hitDetectionInstructions.push(yo)),s&&(this.instructions.push(vo),this.hitDetectionInstructions.push(vo)),e},Bo.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;void 0===i&&void 0===r||(this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xo.SET_FILL_STYLE,br]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xo.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]),i=t.getFlatCoordinates(),r=t.getStride(),t=this.coordinates.length,this.appendFlatLineCoordinates(i,0,i.length,r,!1,!1),i=[xo.CIRCLE,t],this.instructions.push(mo,i),this.hitDetectionInstructions.push(mo,i),void 0!==n.fillStyle&&(this.instructions.push(yo),this.hitDetectionInstructions.push(yo)),void 0!==n.strokeStyle&&(this.instructions.push(vo),this.hitDetectionInstructions.push(vo)),this.endGeometry(e))},Bo.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;void 0===i&&void 0===r||(this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xo.SET_FILL_STYLE,br]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xo.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]),i=t.getEnds(),r=t.getOrientedFlatCoordinates(),n=t.getStride(),this.drawFlatCoordinatess_(r,0,i,n),this.endGeometry(e))},Bo.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xo.SET_FILL_STYLE,br]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xo.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(s,l,o[u],a);this.endGeometry(e)}},Bo.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=sn(e[n],t);return Wo.prototype.finish.call(this)},Bo.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},Tl=Bo;Ho=function(t,e){return(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ho,Yo,zo={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Uo=Ko;if("function"!=typeof(Ka=Yo=ss)&&null!==Ka)throw new TypeError("Class extends value "+String(Ka)+" is not a constructor or null");function Vo(){this.constructor=Uo}function Ko(t,e,n,i){return(t=Yo.call(this,t,e,n,i)||this).labels_=null,t.text_="",t.textOffsetX_=0,t.textOffsetY_=0,t.textRotateWithView_=void 0,t.textRotation_=0,t.textFillState_=null,t.fillStates={},t.textStrokeState_=null,t.strokeStates={},t.textState_={},t.textStates={},t.textKey_="",t.fillKey_="",t.strokeKey_="",t.declutterImageWithText_=void 0,t}Ho(Uo,Ka),Uo.prototype=null===Ka?Object.create(Ka):(Vo.prototype=Ka.prototype,new Vo),Ko.prototype.finish=function(){var t=Yo.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},Ko.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o=this.coordinates,s=o.length,a=(n=t.getType(),null),l=t.getStride();if("line"!==r.placement||n!=c&&n!=f&&n!=h&&n!=d){var g,v,m,_,x,w,C=r.overflow?null:[];switch(n){case u:case p:a=t.getFlatCoordinates();break;case c:a=t.getFlatMidpoint();break;case y:a=t.getCenter();break;case f:a=t.getFlatMidpoints(),l=2;break;case h:a=t.getFlatInteriorPoint(),r.overflow||C.push(a[2]/this.resolution),l=3;break;case d:var S=t.getFlatInteriorPoints();for(a=[],E=0,k=S.length;E<k;E+=3)r.overflow||C.push(S[E+2]/this.resolution),a.push(S[E],S[E+1]);if(0===a.length)return;l=2}(L=this.appendFlatPointCoordinates(a,l))!==s&&(C&&(L-s)/2!=a.length/l&&(g=s/2,C=C.filter((function(t,e){return(e=o[2*(g+e)]===a[e*l]&&o[2*(g+e)+1]===a[e*l+1])||--g,e}))),this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),(i=r.padding)!=Pr&&(r.scale[0]<0||r.scale[1]<0)&&(w=r.padding[0],v=r.padding[1],m=r.padding[2],_=r.padding[3],r.scale[0]<0&&(v=-v,_=-_),r.scale[1]<0&&(w=-w,m=-m),i=[w,v,m,_]),x=this.pixelRatio,this.instructions.push([xo.DRAW_IMAGE,s,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,i==Pr?Pr:i.map((function(t){return t*x})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]),w=1/x,this.hitDetectionInstructions.push([xo.DRAW_IMAGE,s,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[w,w],NaN,this.declutterImageWithText_,i,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]),this.endGeometry(e))}else if(Ft(this.getBufferedMaxExtent(),t.getExtent())){var b=void 0;if(a=t.getFlatCoordinates(),n==c)b=[a.length];else if(n==f)b=t.getEnds();else if(n==h)b=t.getEnds().slice(0,1);else if(n==d)for(var T=t.getEndss(),E=(b=[],0),k=T.length;E<k;++E)b.push(T[E][0]);this.beginGeometry(t,e);for(var O,I=r.textAlign,D=0,P=void 0,R=0,A=b.length;R<A;++R){for(P=null==I?(D=(O=function(t,e,n,i,r){for(var o,s,a,l,u,c,h,p,f=n,d=n,g=0,y=0,v=n,m=n;m<i;m+=r){var _=e[m],x=e[m+1];void 0!==a&&(h=_-a,p=x-l,s=Math.sqrt(h*h+p*p),void 0!==u&&(y+=o,t<Math.acos((u*h+c*p)/(o*s))&&(g<y&&(g=y,f=v,d=m),y=0,v=m-r)),o=s,u=h,c=p),a=_,l=x}return g<(y+=s)?[v,m]:[f,d]}(r.maxAngle,a,D,b[R],l))[0],O[1]):b[R],E=D;E<P;E+=l)o.push(a[E],a[E+1]);var L=o.length;D=b[R],this.drawChars_(s,L),s=L}this.endGeometry(e)}}},Ko.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;!t||i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}),(i=this.textKey_)in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||Ir,textBaseline:e.textBaseline||Dr,scale:e.scale}),t=this.fillKey_,!n||t in this.fillStates||(this.fillStates[t]={fillStyle:n.fillStyle})},Ko.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_,a=(this.saveTextStates_(),this.pixelRatio),l=zo[i.textBaseline],u=this.textOffsetY_*a,c=this.text_;n=n?n.lineWidth*Math.abs(i.scale[0])/2:0,this.instructions.push([xo.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,a,u,r,n*a,c,o,1]),this.hitDetectionInstructions.push([xo.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,1,u,r,n,c,o,1/a])},Ko.prototype.setTextStyle=function(t,e){var n,i,r,o,s,a,l;t?((s=t.getFill())?((n=this.textFillState_)||(this.textFillState_=n={}),n.fillStyle=pr(s.getColor()||br)):this.textFillState_=n=null,(s=t.getStroke())?((i=this.textStrokeState_)||(this.textStrokeState_=i={}),r=s.getLineDash(),a=s.getLineDashOffset(),l=s.getWidth(),o=s.getMiterLimit(),i.lineCap=s.getLineCap()||Tr,i.lineDash=r?r.slice():Er,i.lineDashOffset=void 0===a?0:a,i.lineJoin=s.getLineJoin()||kr,i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===o?10:o,i.strokeStyle=pr(s.getColor()||Or)):this.textStrokeState_=i=null,r=this.textState_,a=t.getFont()||Sr,Fr(a),l=t.getScaleArray(),r.overflow=t.getOverflow(),r.font=a,r.maxAngle=t.getMaxAngle(),r.placement=t.getPlacement(),r.textAlign=t.getTextAlign(),r.textBaseline=t.getTextBaseline()||Dr,r.backgroundFill=t.getBackgroundFill(),r.backgroundStroke=t.getBackgroundStroke(),r.padding=t.getPadding()||Pr,r.scale=void 0===l?[1,1]:l,o=t.getOffsetX(),s=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),this.text_=t.getText()||"",this.textOffsetX_=void 0===o?0:o,this.textOffsetY_=void 0===s?0:s,this.textRotateWithView_=void 0!==a&&a,this.textRotation_=void 0===l?0:l,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:z(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.textBaseline||"?"),this.fillKey_=n?"string"==typeof n.fillStyle?n.fillStyle:"|"+z(n.fillStyle):""):this.text_="",this.declutterImageWithText_=e};var $o,Zo,Jo={Circle:Tl,Default:ss,Image:Lo,LineString:Go,Polygon:Tl,Text:Ko};function Qo(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}Qo.prototype.finish=function(){var t,e={};for(t in this.buildersByZIndex_){e[t]=e[t]||{};var n,i=this.buildersByZIndex_[t];for(n in i){var r=i[n].finish();e[t][n]=r}}return e},Qo.prototype.getBuilder=function(t,e){t=void 0!==t?t.toString():"0";var n=this.buildersByZIndex_[t];return void 0===(void 0===n&&(this.buildersByZIndex_[t]=n={}),t=n[e])&&(t=new Jo[e](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[e]=t),t};const ts=Qo;$o=function(t,e){return($o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var es=is;if("function"!=typeof(Ka=Zo=t)&&null!==Ka)throw new TypeError("Class extends value "+String(Ka)+" is not a constructor or null");function ns(){this.constructor=es}function is(t){var e=Zo.call(this)||this;return e.ready=!0,e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}$o(es,Ka),es.prototype=null===Ka?Object.create(Ka):(ns.prototype=Ka.prototype,new ns),is.prototype.getFeatures=function(t){return H()},is.prototype.getData=function(t){return null},is.prototype.prepareFrame=function(t){return H()},is.prototype.renderFrame=function(t,e){return H()},is.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},is.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){var o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}.bind(this)},is.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},is.prototype.getDataAtPixel=function(t,e,n){return null},is.prototype.getLayer=function(){return this.layer_},is.prototype.handleFontsChanged=function(){},is.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},is.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(j,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},is.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Zi&&t.changed()},is.prototype.disposeInternal=function(){delete this.layer_,Zo.prototype.disposeInternal.call(this)};var rs,os,ss=is;function as(t,e,n,i){return(t=os.call(this,t)||this).inversePixelTransform=e,t.frameState=n,t.context=i,t}rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var ls=as;if("function"!=typeof(Lo=os=m)&&null!==Lo)throw new TypeError("Class extends value "+String(Lo)+" is not a constructor or null");function us(){this.constructor=ls}rs(ls,Lo),ls.prototype=null===Lo?Object.create(Lo):(us.prototype=Lo.prototype,new us);const cs=as;hs=function(t,e){return(hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var hs,ps,fs=null;function ds(t){return(t=ps.call(this,t)||this).container=null,t.renderedResolution,t.tempTransform=[1,0,0,1,0,0],t.pixelTransform=[1,0,0,1,0,0],t.inversePixelTransform=[1,0,0,1,0,0],t.context=null,t.containerReused=!1,t.pixelContext_=null,t.frameState=null,t}var gs=ds;if("function"!=typeof(Go=ps=ss)&&null!==Go)throw new TypeError("Class extends value "+String(Go)+" is not a constructor or null");function ys(){this.constructor=gs}hs(gs,Go),gs.prototype=null===Go?Object.create(Go):(ys.prototype=Go.prototype,new ys),ds.prototype.getImageData=function(t,e,n){var i,r;fs||((i=document.createElement("canvas")).width=1,i.height=1,fs=i.getContext("2d")),fs.clearRect(0,0,1,1);try{fs.drawImage(t,e,n,1,1,0,0,1,1),r=fs.getImageData(0,0,1,1).data}catch(t){return null}return r},ds.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return(e="function"==typeof e?e(t.viewState.resolution):e)||void 0},ds.prototype.useContainer=function(t,e,n,i){var r,o,s=this.getLayer().getClassName();(r=t&&t.className===s&&""===t.style.opacity&&1===n&&(!i||t.style.backgroundColor&&S(ur(t.style.backgroundColor),ur(i)))&&(o=t.firstElementChild)instanceof HTMLCanvasElement?o.getContext("2d"):r)&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),this.container||((n=document.createElement("div")).className=s,(e=n.style).position="absolute",e.width="100%",e.height="100%",i&&(e.backgroundColor=i),o=(r=fr()).canvas,n.appendChild(o),(e=o.style).position="absolute",e.left="0",e.transformOrigin="top left",this.container=n,this.context=r)},ds.prototype.clipUnrotated=function(t,e,n){var i=Rt(n),r=At(n),o=It(n);n=Ot(n),ft(e.coordinateToPixelTransform,i),ft(e.coordinateToPixelTransform,r),ft(e.coordinateToPixelTransform,o),ft(e.coordinateToPixelTransform,n),ft(e=this.inversePixelTransform,i),ft(e,r),ft(e,o),ft(e,n),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(n[0]),Math.round(n[1])),t.clip()},ds.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();i.hasListener(t)&&(t=new cs(t,this.inversePixelTransform,n,e),i.dispatchEvent(t))},ds.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_("prerender",t,e)},ds.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},ds.prototype.getRenderTransform=function(t,e,n,i,r,o,s){return i/=e,e=-t[0]+s,s=-t[1],dt(this.tempTransform,r/2,o/2,i,-i,-n,e,s)},ds.prototype.getDataAtPixel=function(t,e,n){var i=ft(this.inversePixelTransform,t.slice()),r=this.context;if((s=this.getLayer().getExtent())&&!vt(s,ft(e.pixelToCoordinateTransform,t.slice())))return null;var o,s=Math.round(i[0]);e=Math.round(i[1]),(t=this.pixelContext_)||((i=document.createElement("canvas")).width=1,i.height=1,t=i.getContext("2d"),this.pixelContext_=t),t.clearRect(0,0,1,1);try{t.drawImage(r.canvas,s,e,1,1,0,0,1,1),o=t.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):o}return 0===o[3]?null:o},ds.prototype.disposeInternal=function(){delete this.frameState,ps.prototype.disposeInternal.call(this)},Tl=ds;const vs="Circle",ms="Default",_s="Image",xs="LineString",ws="Polygon",Cs="Text";var Ss=[1/0,1/0,-1/0,-1/0],bs=[],Ts=[],Es=[],ks=[];function Os(t){return t[3].declutterBox}var Is=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Ds(t,e){return"start"!==e&&"end"!==e||Is.test(t)||(e="start"===e?"left":"right"),zo[e]}function Ps(t,e,n){return 0<n&&t.push("\n",""),t.push(e,""),t}function Rs(t,e,n,i){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}Rs.prototype.createLabel=function(t,e,n,i){var r=t+e+n+i;if(this.labels_[r])return this.labels_[r];for(var o,s=i?this.strokeStates[i]:null,a=n?this.fillStates[n]:null,l=this.textStates[e],u=(e=this.pixelRatio,e=[l.scale[0]*e,l.scale[1]*e],Ds((p=Array.isArray(t))?t[0]:t,l.textAlign||Ir)),c=i&&s.lineWidth?s.lineWidth:0,h=p?t:t.split("\n").reduce(Ps,[]),p=function(t,e){for(var n=[],i=[],r=[],o=0,s=0,a=0,l=0,u=0,c=e.length;u<=c;u+=2){var h,p=e[u];"\n"===p||u===c?(o=Math.max(o,s),r.push(s),s=0,a+=l):(p=Xr(h=e[u+1]||t.font,p),n.push(p),s+=p,p=Br(h),i.push(p),l=Math.max(l,p))}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}(l,h),f=(t=p.width,p.height),d=p.widths,g=p.heights,y=p.lineWidths,v=t+c,m=(p=[],t=(v+2)*e[0],f=(f+c)*e[1],t={width:t<0?Math.floor(t):Math.ceil(t),height:f<0?Math.floor(f):Math.ceil(f),contextInstructions:p},1==e[0]&&1==e[1]||p.push("scale",e),i&&(p.push("strokeStyle",s.strokeStyle),p.push("lineWidth",c),p.push("lineCap",s.lineCap),p.push("lineJoin",s.lineJoin),p.push("miterLimit",s.miterLimit),(ot?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(p.push("setLineDash",[s.lineDash]),p.push("lineDashOffset",s.lineDashOffset))),n&&p.push("fillStyle",a.fillStyle),p.push("textBaseline","middle"),p.push("textAlign","center"),.5-u),_=u*v+m*c,x=[],w=[],C=0,S=0,b=0,T=0,E=0,k=h.length;E<k;E+=2){var O,I=h[E];"\n"===I?(S+=C,C=0,_=u*v+m*c,++T):((O=h[E+1]||l.font)!==o&&(i&&x.push("font",O),n&&w.push("font",O),o=O),C=Math.max(C,g[b]),O=[I,_+m*d[b]+u*(d[b]-y[T]),.5*(c+C)+S],_+=d[b],i&&x.push("strokeText",O),n&&w.push("fillText",O),++b)}return Array.prototype.push.apply(p,x),Array.prototype.push.apply(p,w),this.labels_[r]=t},Rs.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},Rs.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,r,o,s,a,l,u,c,h,p,f,d,g){s=n-(s*=h[0]),a=i-(a*=h[1]),t=t<r+l?t-l:r,r=e<o+u?e-u:o,e=f[3]+t*h[0]+f[1],o=f[0]+r*h[1]+f[2];var y,v=s-f[3];return f=a-f[0],!d&&0===c||(bs[0]=v,ks[0]=v,bs[1]=f,Ts[1]=f,Ts[0]=v+e,Es[0]=Ts[0],Es[1]=f+o,ks[1]=Es[1]),0!==c?(ft(y=dt([1,0,0,1,0,0],n,i,1,1,c,-n,-i),bs),ft(y,Ts),ft(y,Es),ft(y,ks),wt(Math.min(bs[0],Ts[0],Es[0],ks[0]),Math.min(bs[1],Ts[1],Es[1],ks[1]),Math.max(bs[0],Ts[0],Es[0],ks[0]),Math.max(bs[1],Ts[1],Es[1],ks[1]),Ss)):wt(Math.min(v,v+e),Math.min(f,f+o),Math.max(v,v+e),Math.max(f,f+o),Ss),p&&(s=Math.round(s),a=Math.round(a)),{drawImageX:s,drawImageY:a,drawImageW:t,drawImageH:r,originX:l,originY:u,declutterBox:{minX:Ss[0],minY:Ss[1],maxX:Ss[2],maxY:Ss[3],value:g},canvasTransform:y,scale:h}},Rs.prototype.replayImageOrLabel_=function(t,e,n,i,r,o,s){var a=i.declutterBox,l=t.canvas,u=s?s[2]*i.scale[0]/2:0;return a.minX-u<=l.width/e&&0<=a.maxX+u&&a.minY-u<=l.height/e&&0<=a.maxY+u&&(!(!o&&!s)&&this.replayTextBackground_(t,bs,Ts,Es,ks,o,s),function(t,e,n,i,r,o,s,a,l,u,c){if(t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions){t.translate(l,u),t.scale(c[0],c[1]);for(var h=t,p=i.contextInstructions,f=0,d=p.length;f<d;f+=2)Array.isArray(p[f+1])?h[p[f]].apply(h,p[f+1]):h[p[f]]=p[f+1]}else c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,l,u,s*c[0],a*c[1]);t.restore()}(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},Rs.prototype.fill_=function(t){var e,n;this.alignFill_&&(e=ft(this.renderedTransform_,[0,0]),n=512*this.pixelRatio,t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)),t.fill(),this.alignFill_&&t.restore()},Rs.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},Rs.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=(e=this.createLabel(t,e,i,n),i=this.strokeStates[n],n=this.pixelRatio,t=Ds(Array.isArray(t)?t[0]:t,r.textAlign||Ir),zo[r.textBaseline||Dr]);return i=i&&i.lineWidth?i.lineWidth:0,{label:e,anchorX:t*(e.width/n-2*r.scale[0])+2*(.5-t)*i,anchorY:o*e.height/n+2*(.5-o)*i}},Rs.prototype.execute_=function(t,e,n,i,r,o,s,a){this.pixelCoordinates_&&S(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=_e(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=n,(u=this.renderedTransform_)[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5]);for(var l,u,c,h,p,f,d,g,y,v,m=0,_=i.length,x=0,w=0,C=0,b=null,T=null,E=this.coordinateCache_,k=this.viewRotation_,O=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,I={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:k},D=this.instructions!=i||this.overlaps?0:200;m<_;){var P=i[m];switch(P[0]){case xo.BEGIN_GEOMETRY:Pt=P[1],v=P[3],Pt.getGeometry()?void 0===s||Ft(s,v.getExtent())?++m:m=P[2]+1:m=P[2];break;case xo.BEGIN_PATH:D<w&&(this.fill_(t),w=0),D<C&&(t.stroke(),C=0),w||C||(t.beginPath(),p=h=NaN),++m;break;case xo.CIRCLE:var R=l[x=P[1]],A=l[x+1],L=l[x+2]-R,F=l[x+3]-A;L=Math.sqrt(L*L+F*F),t.moveTo(R+L,A),t.arc(R,A,L,0,2*Math.PI,!0),++m;break;case xo.CLOSE_PATH:t.closePath(),++m;break;case xo.CUSTOM:x=P[1];var M=P[2];F=P[3],R=P[4],A=6==P.length?P[5]:void 0,I.geometry=F,I.feature=Pt,m in E||(E[m]=[]),L=E[m],A?A(l,x,M,2,L):(L[0]=l[x],L[1]=l[x+1],L.length=2),R(L,I),++m;break;case xo.DRAW_IMAGE:x=P[1],M=P[2],B=P[3],q=P[4],X=P[5];var j,N,W,G,B,q,X,H=P[6],Y=P[7],z=P[8],U=P[9],V=P[10],K=P[11],$=P[12],Z=P[13],J=P[14],Q=void(!B&&19<=P.length&&(j=P[18],N=P[19],W=P[20],G=P[21],B=(lt=this.drawLabelWithPointPlacement_(j,N,W,G)).label,P[3]=B,ut=P[22],q=(lt.anchorX-ut)*this.pixelRatio,P[4]=q,ut=P[23],X=(lt.anchorY-ut)*this.pixelRatio,P[5]=X,H=B.height,P[6]=H,Z=B.width,P[13]=Z)),tt=void(24<P.length&&(Q=P[24])),et=void 0,nt=16<P.length?(tt=P[15],et=P[16],P[17]):(tt=Pr,et=!1);V&&O?K+=k:V||O||(K-=k);for(var it=0;x<M;x+=2)if(!(Q&&Q[it++]<Z/this.pixelRatio)){var rt=[t,e,B,Ot=this.calculateImageOrLabelDimensions_(B.width,B.height,l[x],l[x+1],Z,H,q,X,z,U,K,$,r,tt,et||nt,Pt),Y,et?b:null,nt?T:null],ot=void 0,st=void 0;if(a&&J){var at=M-x;if(!J[at]){J[at]=rt;continue}if(ot=J[at],delete J[at],st=Os(ot),a.collides(st))continue}a&&a.collides(Ot.declutterBox)||(ot&&(a&&a.insert(st),this.replayImageOrLabel_.apply(this,ot)),a&&a.insert(Ot.declutterBox),this.replayImageOrLabel_.apply(this,rt))}++m;break;case xo.DRAW_CHARS:var lt=P[1],ut=P[2],ct=P[3],ht=(V=P[4],G=P[5],P[6]),pt=P[7],ft=P[8],dt=(W=P[9],P[10]),gt=(j=P[11],N=P[12],[P[13],P[13]]),yt=(mt=this.textStates[N]).font,vt=[mt.scale[0]*pt,mt.scale[1]*pt],mt=void 0,_t=(yt in this.widths_?mt=this.widths_[yt]:this.widths_[yt]=mt={},pt=mn(l,lt,ut,2),Math.abs(vt[0])*Hr(yt,j,mt));if(V||_t<=pt){var xt=this.textStates[N].textAlign,wt=function(t,e,n,i,r,o,s,a,l,u,c,h){var p=t[e],f=t[e+1],d=0,g=0,y=0,v=0;function m(){d=p,g=f,p=t[e+=2],f=t[e+1],v+=y,y=Math.sqrt((p-d)*(p-d)+(f-g)*(f-g))}for(;m(),e<n-2&&v+y<o;);for(var _=Gt(d,p,F=0===y?0:(o-v)/y),x=Gt(g,f,F),w=e-2,C=v,S=o+a*l(u,r,c);e<n-2&&v+y<S;)m();var b,T=Gt(d,p,F=0===y?0:(S-v)/y),E=Gt(g,f,F),k=h?(xe(b=[_,x,T,E],0,4,2,h,b,b),b[2]<b[0]):T<_,O=Math.PI,I=[];if(h=w+2===e,y=0,v=C,p=t[e=w],f=t[e+1],h)return m(),N=Math.atan2(f-g,p-d),k&&(N+=0<N?-O:O),I[0]=[M=(T+_)/2,j=(E+x)/2,(S-o)/2,N,r],I;for(var D=0,P=r.length;D<P;){m();var R=Math.atan2(f-g,p-d);if(k&&(R+=0<R?-O:O),void 0!==N){var A=R-N;if(A+=O<A?-2*O:A<-O?2*O:0,Math.abs(A)>s)return null}for(var L,F,M,j,N=R,W=(A=D,0);D<P;++D){var G=a*l(u,r[k?P-D-1:D],c);if(e+2<n&&v+y<o+W+G/2)break;W+=G}D!==A&&(L=k?r.substring(P-A,P-D):r.substring(A,D),M=Gt(d,p,F=0===y?0:(o+W/2-v)/y),j=Gt(g,f,F),I.push([M,j,W/2,R,L]),o+=W)}return I}(l,lt,ut,0,j,(pt-_t)*zo[xt],ht,Math.abs(vt[0]),Hr,yt,mt,O?0:this.viewRotation_);t:if(wt){var Ct=[],St=void 0,bt=void 0,Tt=void 0,Et=void 0,kt=void 0;if(W)for(St=0,bt=wt.length;St<bt;++St){Tt=(kt=wt[St])[4],Et=this.createLabel(Tt,N,"",W),q=kt[2]+(vt[0]<0?-dt:dt),X=ct*Et.height+2*(.5-ct)*dt*vt[1]/vt[0]-ft;var Ot=this.calculateImageOrLabelDimensions_(Et.width,Et.height,kt[0],kt[1],Et.width,Et.height,q,X,0,0,kt[3],gt,!1,Pr,!1,Pt);if(a&&a.collides(Ot.declutterBox))break t;Ct.push([t,e,Et,Ot,1,null,null])}if(G)for(St=0,bt=wt.length;St<bt;++St){if(Tt=(kt=wt[St])[4],Et=this.createLabel(Tt,N,G,""),q=kt[2],X=ct*Et.height-ft,Ot=this.calculateImageOrLabelDimensions_(Et.width,Et.height,kt[0],kt[1],Et.width,Et.height,q,X,0,0,kt[3],gt,!1,Pr,!1,Pt),a&&a.collides(Ot.declutterBox))break t;Ct.push([t,e,Et,Ot,1,null,null])}a&&a.load(Ct.map(Os));for(var It=0,Dt=Ct.length;It<Dt;++It)this.replayImageOrLabel_.apply(this,Ct[It])}}++m;break;case xo.END_GEOMETRY:var Pt;if(void 0!==o&&(pt=o(Pt=P[1],v)))return pt;++m;break;case xo.FILL:D?w++:this.fill_(t),++m;break;case xo.MOVE_TO_LINE_TO:for(x=P[1],M=P[2],g=l[x],d=(y=l[x+1])+.5|0,(f=g+.5|0)===h&&d===p||(t.moveTo(g,y),h=f,p=d),x+=2;x<M;x+=2)f=(g=l[x])+.5|0,d=(y=l[x+1])+.5|0,x!=M-2&&f===h&&d===p||(t.lineTo(g,y),h=f,p=d);++m;break;case xo.SET_FILL_STYLE:this.alignFill_=(b=P)[2],w&&(this.fill_(t),w=0,C&&(t.stroke(),C=0)),t.fillStyle=P[1],++m;break;case xo.SET_STROKE_STYLE:T=P,C&&(t.stroke(),C=0),this.setStrokeStyle_(t,P),++m;break;case xo.STROKE:D?C++:t.stroke(),++m;break;default:++m}}w&&this.fill_(t),C&&t.stroke()},Rs.prototype.execute=function(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)},Rs.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)};const As=Rs;var Ls=[ws,vs,xs,_s,Cs,ms];function Fs(t,e,n,i,r,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}Fs.prototype.clip=function(t,e){e=this.getClipCoords(e),t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.lineTo(e[6],e[7]),t.clip()},Fs.prototype.createExecutors_=function(t){for(var e in t){var n,i=this.executorsByZIndex_[e],r=(void 0===i&&(this.executorsByZIndex_[e]=i={}),t[e]);for(n in r){var o=r[n];i[n]=new As(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},Fs.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},Fs.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o){var s,a,l=2*(i=Math.round(i))+1,u=dt(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=!this.hitDetectionContext_,h=(c&&(this.hitDetectionContext_=fr(l,l)),this.hitDetectionContext_),p=(h.canvas.width!==l||h.canvas.height!==l?(h.canvas.width=l,h.canvas.height=l):c||h.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(Tt(s=[1/0,1/0,-1/0,-1/0],t),gt(s,e*(this.renderBuffer_+i),s)),function(t){if(void 0!==Ns[t])return Ns[t];for(var e=2*t+1,n=t*t,i=new Array(1+n),r=0;r<=t;++r)for(var o=0;o<=t;++o){var s=r*r+o*o;if(n<s)break;var a=i[s];a||(a=[],i[s]=a),a.push(4*((t+r)*e+(t+o))+3),0<r&&a.push(4*((t-r)*e+(t+o))+3),0<o&&(a.push(4*((t+r)*e+(t-o))+3),0<r&&a.push(4*((t-r)*e+(t-o))+3))}for(var l=[],u=(r=0,i.length);r<u;++r)i[r]&&l.push.apply(l,i[r]);return Ns[t]=l}(i));function f(t,e){for(var n=h.getImageData(0,0,l,l).data,s=0,u=p.length;s<u;s++)if(0<n[p[s]]){if(!o||a!==_s&&a!==Cs||-1!==o.indexOf(t)){var c,f=(p[s]-3)/4;if(c=r(t,e,(c=i-f%l)*c+(f=i-(f/l|0))*f))return c}h.clearRect(0,0,l,l);break}}var d,g,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(w),d=y.length-1;0<=d;--d)for(var v=y[d].toString(),m=this.executorsByZIndex_[v],_=Ls.length-1;0<=_;--_)if(void 0!==(g=m[a=Ls[_]])&&(g=g.executeHitDetection(h,u,n,f,s)))return g},Fs.prototype.getClipCoords=function(t){if(!(e=this.maxExtent_))return null;var e,n=e[0],i=e[1],r=e[2];return _e(n=[n,i,n,e=e[3],r,e,r,i],0,8,2,t,n),n},Fs.prototype.isEmpty=function(){return R(this.executorsByZIndex_)},Fs.prototype.execute=function(t,e,n,i,r,o,s){var a,l,u=Object.keys(this.executorsByZIndex_).map(Number),c=(u.sort(w),this.maxExtent_&&(t.save(),this.clip(t,n)),o||Ls);for(s&&u.reverse(),a=0,l=u.length;a<l;++a)for(var h,p=u[a].toString(),f=this.executorsByZIndex_[p],d=0,g=c.length;d<g;++d)void 0!==(h=f[c[d]])&&h.execute(t,e,n,i,r,s);this.maxExtent_&&t.restore()};var Ms,js,Ns={};const Ws=Fs;function Gs(t,e,n,i,r,o,s){var a=js.call(this)||this;return a.context_=t,a.pixelRatio_=e,a.extent_=n,a.transform_=i,a.viewRotation_=r,a.squaredTolerance_=o,a.userTransform_=s,a.contextFillState_=null,a.contextStrokeState_=null,a.contextTextState_=null,a.fillState_=null,a.strokeState_=null,a.image_=null,a.imageAnchorX_=0,a.imageAnchorY_=0,a.imageHeight_=0,a.imageOpacity_=0,a.imageOriginX_=0,a.imageOriginY_=0,a.imageRotateWithView_=!1,a.imageRotation_=0,a.imageScale_=[0,0],a.imageWidth_=0,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=!1,a.textRotation_=0,a.textScale_=[0,0],a.textFillState_=null,a.textStrokeState_=null,a.textState_=null,a.pixelCoordinates_=[],a.tmpLocalTransform_=[1,0,0,1,0,0],a}Ms=function(t,e){return(Ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Bs=Gs;if("function"!=typeof(t=js=Ia)&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function qs(){this.constructor=Bs}Ms(Bs,t),Bs.prototype=null===t?Object.create(t):(qs.prototype=t.prototype,new qs),Gs.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=_e(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=(t=o.globalAlpha,1!=this.imageOpacity_&&(o.globalAlpha=t*this.imageOpacity_),this.imageRotation_);this.imageRotateWithView_&&(a+=this.viewRotation_);for(var l=0,u=r.length;l<u;l+=2){var c,h,p=r[l]-this.imageAnchorX_,f=r[l+1]-this.imageAnchorY_;0!==a||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(dt(s,c=p+this.imageAnchorX_,h=f+this.imageAnchorY_,1,1,a,-c,-h),o.setTransform.apply(o,s),o.translate(c,h),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)):o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=t)}},Gs.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=_e(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a,l=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(a=dt(this.tmpLocalTransform_,l,u,1,1,s,-l,-u),o.setTransform.apply(o,a),o.translate(l,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&o.strokeText(this.text_,l,u),this.textFillState_&&o.fillText(this.text_,l,u))}}},Gs.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=_e(t,e,n,i,this.transform_,this.pixelCoordinates_),a=(o.moveTo(s[0],s[1]),s.length);r&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n},Gs.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},Gs.prototype.drawCircle=function(t){var e,n,i,r;Ft(this.extent_,t.getExtent())&&((this.fillState_||this.strokeState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),e=t,n=this.transform_,i=this.pixelCoordinates_,e=(r=(r=e.getFlatCoordinates())?(e=e.getStride(),_e(r,0,r.length,e,n,i)):null)[2]-r[0],n=r[3]-r[1],i=Math.sqrt(e*e+n*n),(e=this.context_).beginPath(),e.arc(r[0],r[1],i,0,2*Math.PI),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()),""!==this.text_&&this.drawText_(t.getCenter(),0,2,2))},Gs.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},Gs.prototype.setTransform=function(t){this.transform_=t},Gs.prototype.drawGeometry=function(t){switch(t.getType()){case u:this.drawPoint(t);break;case c:this.drawLineString(t);break;case h:this.drawPolygon(t);break;case p:this.drawMultiPoint(t);break;case f:this.drawMultiLineString(t);break;case d:this.drawMultiPolygon(t);break;case g:this.drawGeometryCollection(t);break;case y:this.drawCircle(t)}},Gs.prototype.drawFeature=function(t,e){(t=e.getGeometryFunction()(t))&&Ft(this.extent_,t.getExtent())&&(this.setStyle(e),this.drawGeometry(t))},Gs.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},Gs.prototype.drawPoint=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getFlatCoordinates();t=t.getStride(),this.image_&&this.drawImages_(e,0,e.length,t),""!==this.text_&&this.drawText_(e,0,e.length,t)},Gs.prototype.drawMultiPoint=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getFlatCoordinates();t=t.getStride(),this.image_&&this.drawImages_(e,0,e.length,t),""!==this.text_&&this.drawText_(e,0,e.length,t)},Gs.prototype.drawLineString=function(t){var e,n;this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ft(this.extent_,t.getExtent())&&(this.strokeState_&&(this.setContextStrokeState_(this.strokeState_),e=this.context_,n=t.getFlatCoordinates(),e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()),""!==this.text_&&(n=t.getFlatMidpoint(),this.drawText_(n,0,2,2)))},Gs.prototype.drawMultiLineString=function(t){var e=(t=this.squaredTolerance_?t.simplifyTransformed(this.squaredTolerance_,this.userTransform_):t).getExtent();if(Ft(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_),e=this.context_;var n=t.getFlatCoordinates(),i=0,r=t.getEnds(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s)i=this.moveToLineTo_(n,i,r[s],o,!1);e.stroke()}""!==this.text_&&(e=t.getFlatMidpoints(),this.drawText_(e,0,e.length,2))}},Gs.prototype.drawPolygon=function(t){var e;this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ft(this.extent_,t.getExtent())&&((this.strokeState_||this.fillState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),(e=this.context_).beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()),""!==this.text_&&(e=t.getFlatInteriorPoint(),this.drawText_(e,0,2,2)))},Gs.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Ft(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var l=r[s];i=this.drawRings_(n,i,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}""!==this.text_&&(e=t.getFlatInteriorPoints(),this.drawText_(e,0,e.length,2))}},Gs.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},Gs.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(S(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},Gs.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign||Ir;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},Gs.prototype.setFillStrokeStyle=function(t,e){var n,i,r,o,s,a=this;t?(t=t.getColor(),this.fillState_={fillStyle:pr(t||br)}):this.fillState_=null,e?(t=e.getColor(),n=e.getLineCap(),s=e.getLineDash(),i=e.getLineDashOffset(),r=e.getLineJoin(),o=e.getWidth(),e=e.getMiterLimit(),s=s||Er,this.strokeState_={lineCap:void 0!==n?n:Tr,lineDash:1===this.pixelRatio_?s:s.map((function(t){return t*a.pixelRatio_})),lineDashOffset:(i||0)*this.pixelRatio_,lineJoin:void 0!==r?r:kr,lineWidth:(void 0!==o?o:1)*this.pixelRatio_,miterLimit:void 0!==e?e:10,strokeStyle:pr(t||Or)}):this.strokeState_=null},Gs.prototype.setImageStyle=function(t){var e,n,i;t&&(e=t.getSize())?(n=t.getAnchor(),i=t.getOrigin(),this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_):this.image_=null},Gs.prototype.setTextStyle=function(t){var e,n,i,r,o,s,a,l;t?((s=t.getFill())?(s=s.getColor(),this.textFillState_={fillStyle:pr(s||br)}):this.textFillState_=null,(s=t.getStroke())?(a=s.getColor(),e=s.getLineCap(),n=s.getLineDash(),i=s.getLineDashOffset(),r=s.getLineJoin(),o=s.getWidth(),s=s.getMiterLimit(),this.textStrokeState_={lineCap:void 0!==e?e:Tr,lineDash:n||Er,lineDashOffset:i||0,lineJoin:void 0!==r?r:kr,lineWidth:void 0!==o?o:1,miterLimit:void 0!==s?s:10,strokeStyle:pr(a||Or)}):this.textStrokeState_=null,e=t.getFont(),n=t.getOffsetX(),i=t.getOffsetY(),r=t.getRotateWithView(),o=t.getRotation(),s=t.getScaleArray(),a=t.getText(),l=t.getTextAlign(),t=t.getTextBaseline(),this.textState_={font:void 0!==e?e:Sr,textAlign:void 0!==l?l:Ir,textBaseline:void 0!==t?t:Dr},this.text_=void 0!==a?Array.isArray(a)?a.reduce((function(t,e,n){return t+(n%2?" ":e)}),""):a:"",this.textOffsetX_=void 0!==n?this.pixelRatio_*n:0,this.textOffsetY_=void 0!==i?this.pixelRatio_*i:0,this.textRotateWithView_=void 0!==r&&r,this.textRotation_=void 0!==o?o:0,this.textScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]]):this.text_=""};const Xs=Gs,Hs="fraction",Ys="pixels",zs="bottom-left",Us="bottom-right",Vs="top-left",Ks="top-right";function $s(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}function Zs(t,e,n){return e+":"+t+":"+(n?sr(n):"null")}$s.prototype.clear=function(){this.cache_={},this.cacheSize_=0},$s.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},$s.prototype.expire=function(){if(this.canExpireCache()){var t,e=0;for(t in this.cache_){var n=this.cache_[t];0!=(3&e++)||n.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},$s.prototype.get=function(t,e,n){return(t=Zs(t,e,n))in this.cache_?this.cache_[t]:null},$s.prototype.set=function(t,e,n,i){t=Zs(t,e,n),this.cache_[t]=i,++this.cacheSize_},$s.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Js,Qs,ta,ea,na=new(Ka=$s);function ia(t,e,n,i){var r=Qs.call(this)||this;return r.extent=t,r.pixelRatio_=n,r.resolution=e,r.state=i,r}function ra(t,e,n,i,r,o){return(t=ea.call(this,t,e,n,0)||this).src_=i,t.image_=new Image,null!==r&&(t.image_.crossOrigin=r),t.unlisten_=null,t.state=0,t.imageLoadFunction_=o,t}function oa(t,e,n){var i=!0,r=!1,o=!1,s=[W(t,"load",(function(){o=!0,r||e()}))];return t.src&&st?(r=!0,t.decode().then((function(){i&&e()})).catch((function(t){i&&(o?e:n)()}))):s.push(W(t,"error",n)),function(){i=!1,s.forEach(G)}}Js=function(t,e){return(Js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Js(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(ia,Qs=M),ia.prototype.changed=function(){this.dispatchEvent(j)},ia.prototype.getExtent=function(){return this.extent},ia.prototype.getImage=function(){return H()},ia.prototype.getPixelRatio=function(){return this.pixelRatio_},ia.prototype.getResolution=function(){return this.resolution},ia.prototype.getState=function(){return this.state},ia.prototype.load=function(){H()},ta=function(t,e){return(ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ta(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(ra,ea=Lo=ia),ra.prototype.getImage=function(){return this.image_},ra.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},ra.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Pt(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},ra.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=oa(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},ra.prototype.setImage=function(t){this.image_=t,this.resolution=Pt(this.extent)/this.image_.height},ra.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},sa=function(t,e){return(sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var sa,aa,la,ua,ca=null,ha=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}sa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(pa,aa=M),pa.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){(ca=ca||fr(1,1)).drawImage(this.image_,0,0);try{ca.getImageData(0,0,1,1),this.tainted_=!1}catch(t){ca=null,this.tainted_=!0}}return!0===this.tainted_},pa.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(j)},pa.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},pa.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},pa.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]||this.image_},pa.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},pa.prototype.getImageState=function(){return this.imageState_},pa.prototype.getHitDetectionImage=function(){var t,e,n;return this.hitDetectionImage_||(this.isTainted_()?((n=fr(t=this.size_[0],e=this.size_[1])).fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas):this.hitDetectionImage_=this.image_),this.hitDetectionImage_},pa.prototype.getSize=function(){return this.size_},pa.prototype.getSrc=function(){return this.src_},pa.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=oa(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},pa.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&2===this.imageState_){var e=document.createElement("canvas"),n=((this.canvas_[t]=e).width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t),e.getContext("2d"));if(n.scale(t,t),n.drawImage(this.image_,0,0),(n.globalCompositeOperation="multiply")===n.globalCompositeOperation||this.isTainted_())n.fillStyle=sr(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=(t=n.getImageData(0,0,e.width,e.height)).data,r=this.color_[0]/255,o=this.color_[1]/255,s=this.color_[2]/255,a=this.color_[3],l=0,u=i.length;l<u;l+=4)i[l]*=r,i[l+1]*=o,i[l+2]*=s,i[l+3]*=a;n.putImageData(t,0,0)}}},pa.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},pa);function pa(t,e,n,i,r,o){var s=aa.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=o,s.unlisten_=null,s.imageState_=r,s.size_=n,s.src_=e,s.tainted_,s}function fa(t){var e,n,i,r=this,o=void 0!==(t=t||{}).opacity?t.opacity:1,s=void 0!==t.rotation?t.rotation:0,a=void 0!==t.scale?t.scale:1,l=void 0!==t.rotateWithView&&t.rotateWithView;return(r=ua.call(this,{opacity:o,rotation:s,scale:a,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:l})||this).anchor_=void 0!==t.anchor?t.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:Vs,r.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:Hs,r.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:Hs,r.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,o=void 0!==t.img?t.img:null,ht(!(void 0!==(r.imgSize_=t.imgSize,s=t.src)&&o),4),ht(!o||r.imgSize_,5),ht(void 0!==(s=void 0!==s&&0!==s.length||!o?s:o.src||z(o))&&0<s.length,6),a=void 0!==t.src?0:2,r.color_=void 0!==t.color?ur(t.color):null,r.iconImage_=(l=o,o=s,s=void 0!==r.imgSize_?r.imgSize_:null,e=r.crossOrigin_,n=r.color_,(i=na.get(o,e,n))||(i=new ha(l,o,s,e,a,n),na.set(o,e,n,i)),i),r.offset_=void 0!==t.offset?t.offset:[0,0],r.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:Vs,r.origin_=null,r.size_=void 0!==t.size?t.size:null,r}la=function(t,e){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var da=fa;if("function"!=typeof(ss=ua=Jt)&&null!==ss)throw new TypeError("Class extends value "+String(ss)+" is not a constructor or null");function ga(){this.constructor=da}la(da,ss),da.prototype=null===ss?Object.create(ss):(ga.prototype=ss.prototype,new ga),fa.prototype.clone=function(){var t=this.getScale();return new fa({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})},fa.prototype.getAnchor=function(){if(!(t=this.normalizedAnchor_)){var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Hs||this.anchorYUnits_==Hs){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Hs&&(t[0]*=e[0]),this.anchorYUnits_==Hs&&(t[1]*=e[1])}if(this.anchorOrigin_!=Vs){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Ks&&this.anchorOrigin_!=Us||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=zs&&this.anchorOrigin_!=Us||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}return e=this.getDisplacement(),[t[0]-e[0],t[1]+e[1]]},fa.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},fa.prototype.getColor=function(){return this.color_},fa.prototype.getImage=function(t){return this.iconImage_.getImage(t)},fa.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},fa.prototype.getImageSize=function(){return this.iconImage_.getSize()},fa.prototype.getImageState=function(){return this.iconImage_.getImageState()},fa.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},fa.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Vs){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Ks&&this.offsetOrigin_!=Us||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=zs&&this.offsetOrigin_!=Us||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},fa.prototype.getSrc=function(){return this.iconImage_.getSrc()},fa.prototype.getSize=function(){return this.size_||this.iconImage_.getSize()},fa.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(j,t)},fa.prototype.load=function(){this.iconImage_.load()},fa.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(j,t)};const ya=fa;var va,ma,_a,xa,wa={Point:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;(r=t.getBuilder(n.getZIndex(),_s)).setImageStyle(s,o),r.drawPoint(e,i)}a&&a.getText()&&((s=t.getBuilder(n.getZIndex(),Cs)).setTextStyle(a,o),s.drawText(e,i))},LineString:function(t,e,n,i,r){var o,s=n.getStroke();s&&((o=t.getBuilder(n.getZIndex(),xs)).setFillStrokeStyle(null,s),o.drawLineString(e,i)),(s=n.getText())&&s.getText()&&((o=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(s),o.drawText(e,i))},Polygon:function(t,e,n,i,r){var o,s=n.getFill(),a=n.getStroke();(s||a)&&((o=t.getBuilder(n.getZIndex(),ws)).setFillStrokeStyle(s,a),o.drawPolygon(e,i)),(s=n.getText())&&s.getText()&&((a=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(s),a.drawText(e,i))},MultiPoint:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var l=t.getBuilder(n.getZIndex(),_s);l.setImageStyle(s,o),l.drawMultiPoint(e,i)}a&&a.getText()&&((s=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(a,o),s.drawText(e,i))},MultiLineString:function(t,e,n,i,r){var o,s=n.getStroke();s&&((o=t.getBuilder(n.getZIndex(),xs)).setFillStrokeStyle(null,s),o.drawMultiLineString(e,i)),(s=n.getText())&&s.getText()&&((o=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(s),o.drawText(e,i))},MultiPolygon:function(t,e,n,i,r){var o,s=n.getFill(),a=n.getStroke();(a||s)&&((o=t.getBuilder(n.getZIndex(),ws)).setFillStrokeStyle(s,a),o.drawMultiPolygon(e,i)),(s=n.getText())&&s.getText()&&((a=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(s),a.drawText(e,i))},GeometryCollection:function(t,e,n,i,r){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,wa[a[o].getType()])(t,a[o],n,i,r)},Circle:function(t,e,n,i,r){var o,s=n.getFill(),a=n.getStroke();(s||a)&&((o=t.getBuilder(n.getZIndex(),vs)).setFillStrokeStyle(s,a),o.drawCircle(e,i)),(s=n.getText())&&s.getText()&&((a=(r||t).getBuilder(n.getZIndex(),Cs)).setTextStyle(s),a.drawText(e,i))}};function Ca(t,e){return parseInt(z(t),10)-parseInt(z(e),10)}function Sa(t,e,n,i,r,o,s){var a,l=!1,u=n.getImage();return u&&(2==(a=u.getImageState())||3==a?u.unlistenImageChange(r):(0==a&&u.load(),a=u.getImageState(),u.listenImageChange(r),l=!0)),a=t,u=e,r=i,t=o,e=s,(o=(i=n).getGeometryFunction()(u))&&(o=o.simplifyTransformed(r,t),i.getRenderer()?function t(e,n,i,r){if(n.getType()!=g)e.getBuilder(i.getZIndex(),ms).drawCustom(n,r,i.getRenderer(),i.getHitDetectionRenderer());else for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r)}(a,o,i,u):(0,wa[o.getType()])(a,o,i,u,e)),l}function ba(t){return(t=ma.call(this,t)||this).boundHandleStyleImageChange_=t.handleStyleImageChange_.bind(t),t.animatingOrInteracting_,t.dirty_=!1,t.hitDetectionImageData_=null,t.renderedFeatures_=null,t.renderedRevision_=-1,t.renderedResolution_=NaN,t.renderedExtent_=[1/0,1/0,-1/0,-1/0],t.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],t.renderedRotation_,t.renderedCenter_=null,t.renderedProjection_=null,t.renderedRenderOrder_=null,t.replayGroup_=null,t.replayGroupChanged=!0,t.declutterExecutorGroup=null,t.clipping=!0,t}va=function(t,e){return(va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ta=ba;if("function"!=typeof(Go=ma=Tl)&&null!==Go)throw new TypeError("Class extends value "+String(Go)+" is not a constructor or null");function Ea(){this.constructor=Ta}va(Ta,Go),Ta.prototype=null===Go?Object.create(Go):(Ea.prototype=Go.prototype,new Ea),ba.prototype.renderWorlds=function(t,e,n){var i,r=e.extent,o=(u=e.viewState).center,s=u.resolution,a=u.projection,l=u.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,p=!((i=e.viewHints)[0]||i[1]),f=this.context,d=Math.round(e.size[0]*h),g=Math.round(e.size[1]*h),y=(i=c.getWrapX()&&a.canWrapX())?Lt(u):null,v=i?Math.ceil((r[2]-u[2])/y)+1:1,m=i?Math.floor((r[0]-u[0])/y):0;do{var _=this.getRenderTransform(o,s,l,h,d,g,m*y)}while(t.execute(f,1,_,l,p,void 0,n),++m<v)},ba.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},ba.prototype.renderFrame=function(t,e){var n,i=t.pixelRatio,r=t.layerStatesArray[t.layerIndex],o=(function(t,e,n,i,r,o,s){t[0]=e,t[1]=0,t[2]=0,t[3]=r,t[4]=0,t[5]=0}(this.pixelTransform,1/i,0,0,1/i),function(t,e){var n=e[0]*e[3]-e[1]*e[2],i=(ht(0!=n,32),e[0]),r=e[1],o=e[2],s=e[3],a=e[4];e=e[5],t[0]=s/n,t[1]=-r/n,t[2]=-o/n,t[3]=i/n,t[4]=(o*e-s*a)/n,t[5]=-(i*e-r*a)/n}(this.inversePixelTransform,this.pixelTransform),function(t){if(t="matrix("+t.join(", ")+")",ot)return t;var e=pt=pt||document.createElement("div");return e.style.transform=t,e.style.transform}(this.pixelTransform)),s=(this.useContainer(e,o,r.opacity,this.getBackground(t)),e=this.context).canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;return a&&!a.isEmpty()||l&&!l.isEmpty()?(l=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i),o=(s.width!=l||s.height!=i?(s.width=l,s.height=i,s.style.transform!==o&&(s.style.transform=o)):this.containerReused||e.clearRect(0,0,l,i),this.preRender(e,t),s=t.viewState).projection,l=!1,i=!0,r.extent&&this.clipping&&(l=(i=Ft(o=n=r.extent,t.extent))&&!mt(o,t.extent))&&this.clipUnrotated(e,t,o),i&&this.renderWorlds(a,t),l&&e.restore(),this.postRender(e,t),(o=1===(n=r.opacity)?"":String(Math.round(100*n)/100))!==(i=this.container).style.opacity&&(i.style.opacity=o),this.renderedRotation_!==s.rotation&&(this.renderedRotation_=s.rotation,this.hitDetectionImageData_=null),this.container):null},ba.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height],i=(ft(this.pixelTransform,n),this.renderedCenter_),r=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.wrappedRenderedExtent_,l=this.getLayer(),c=[],h=.5*n[0],p=.5*n[1],f=(c.push(this.getRenderTransform(i,r,o,.5,h,p,0).slice()),l.getSource()),d=s.getExtent();if(f.getWrapX()&&s.canWrapX()&&!mt(d,a)){for(var g=a[0],y=Lt(d),v=0;g<d[0];)c.push(this.getRenderTransform(i,r,o,.5,h,p,y*--v).slice()),g+=y;for(v=0,g=a[2];g>d[2];)c.push(this.getRenderTransform(i,r,o,.5,h,p,y*++v).slice()),g-=y}this.hitDetectionImageData_=function(t,e,n,i,r,o,s){(t=fr(.5*t[0],.5*t[1])).imageSmoothingEnabled=!1;for(var a=t.canvas,l=new Xs(t,.5,r,null,s),c=n.length,h=Math.floor(16777215/c),p={},f=1;f<=c;++f){var d=n[f-1],g=d.getStyleFunction()||i;if(i){var y=g(d,o);if(y){Array.isArray(y)||(y=[y]);for(var v="#"+("000000"+(f*h).toString(16)).slice(-6),m=0,_=y.length;m<_;++m){var x=y[m],C=x.getGeometryFunction()(d);if(C&&Ft(r,C.getExtent())){var S,b=x.clone();if((S=b.getFill())&&S.setColor(v),(S=b.getStroke())&&(S.setColor(v),S.setLineDash(null)),b.setText(void 0),(S=x.getImage())&&0!==S.getOpacity()){if(!(x=S.getImageSize()))continue;var T=fr(x[0],x[1],void 0,{alpha:!1}),E=T.canvas;T.fillStyle=v,T.fillRect(0,0,E.width,E.height),b.setImage(new ya({img:E,imgSize:x,anchor:S.getAnchor(),anchorXUnits:Ys,anchorYUnits:Ys,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}(k=p[T=b.getZIndex()||0])||((p[T]=k={}).Polygon=[],k.Circle=[],k.LineString=[],k[u]=[]),k[C.getType().replace("Multi","")].push(C,b)}}}}}for(var k,O,I=Object.keys(p).map(Number).sort(w),D=(f=0,I.length);f<D;++f)for(O in k=p[I[f]]){var P=k[O];for(m=0,_=P.length;m<_;m+=2){l.setStyle(P[m+1]);for(var R=0,A=e.length;R<A;++R)l.setTransform(e[R]),l.drawGeometry(P[m])}}return t.getImageData(0,0,a.width,a.height)}(n,c,this.renderedFeatures_,l.getStyleFunction(),a,r,o)}e((f=t,s=this.renderedFeatures_,l=[],(n=this.hitDetectionImageData_)&&(a=Math.floor(.5*Math.round(f[0])),f=Math.floor(.5*Math.round(f[1])),a=4*(jt(a,0,n.width-1)+jt(f,0,n.height-1)*n.width),f=n.data[a],e=n.data[1+a],n=n.data[2+a]+256*(e+256*f),a=Math.floor(16777215/s.length),n&&n%a==0&&l.push(s[n/a-1])),l))}.bind(this))},ba.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o,s,a,l,u,c,h,p=this;if(this.replayGroup_)return o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),l={},u=function(t,e,n){var o=z(t),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,a,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(t,a,e);r.push(l[o]={feature:t,layer:a,geometry:e,distanceSq:n,callback:i})}},h=[this.replayGroup_],this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((function(i){return c=i.forEachFeatureAtCoordinate(t,o,s,n,u,i===p.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),c},ba.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},ba.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},ba.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[0],r=t.viewHints[1],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1,o=t.extent;var a,l=(i=t.viewState).projection,u=i.resolution,c=(s=t.pixelRatio,r=e.getRevision(),e.getRenderBuffer()),h=e.getRenderOrder(),p=(void 0===h&&(h=Ca),i=i.center.slice(),c=(o=gt(o,c*u)).slice(),[o.slice()]),f=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!mt(f,t.extent)&&(t=Lt(f),k=Math.max(Lt(o)/2,t),o[0]=f[0]-k,o[2]=f[2]+k,function(t,e){var n;e.canWrapX()&&(n=Lt(e.getExtent()),(e=function(t,e,n){var i=e.getExtent(),r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(e=n||Lt(i),r=Math.floor((t[0]-i[0])/e)),r}(t,e,n))&&(t[0]-=e*n))}(i,l),k=p[0],a=(w=l).getExtent(),T=Dt(k),w.canWrapX()&&(T[0]<a[0]||T[0]>=a[2])&&(w=Lt(a),T=Math.floor((T[0]-a[0])/w)*w,k[0]-=T,k[2]-=T),(a=k)[0]<f[0]&&a[2]<f[2]?p.push([a[0]+t,a[1],a[2]+t,a[3]]):a[0]>f[0]&&a[2]>f[2]&&p.push([a[0]-t,a[1],a[2]-t,a[3]])),!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==r&&this.renderedRenderOrder_==h&&mt(this.wrappedRenderedExtent_,o))return S(this.renderedExtent_,c)||(this.hitDetectionImageData_=null,this.renderedExtent_=c),this.renderedCenter_=i,!(this.replayGroupChanged=!1);this.replayGroup_=null,this.dirty_=!1;var d,g,y=new ts(.5*u/s,o,u,s),v=(this.getLayer().getDeclutter()&&(d=new ts(.5*u/s,o,u,s)),ye);if(v){for(var m=0,_=p.length;m<_;++m){var x=me(p[m]);n.loadFeatures(x,function(t,e){return t}(u),v)}g=he(v,l)}else for(m=0,_=p.length;m<_;++m)n.loadFeatures(p[m],u,l);var w,C=(w=.5*(w=u)/s)*w,b=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();(n=i?i(t,u):n)&&(i=this.renderFeature(t,C,n,y,g,d),this.dirty_=this.dirty_||i)}.bind(this),T=me(o),E=n.getFeaturesInExtent(T);for(h&&E.sort(h),m=0,_=E.length;m<_;++m)b(E[m]);this.renderedFeatures_=E;var k=y.finish();return f=new Ws(o,u,s,n.getOverlaps(),k,e.getRenderBuffer()),d&&(this.declutterExecutorGroup=new Ws(o,u,s,n.getOverlaps(),d.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=r,this.renderedRenderOrder_=h,this.renderedExtent_=c,this.wrappedRenderedExtent_=o,this.renderedCenter_=i,this.renderedProjection_=l,this.replayGroup_=f,this.hitDetectionImageData_=null,this.replayGroupChanged=!0},ba.prototype.renderFeature=function(t,e,n,i,r,o){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,l=n.length;a<l;++a)s=Sa(i,t,n[a],e,this.boundHandleStyleImageChange_,r,o)||s;else s=Sa(i,t,n,e,this.boundHandleStyleImageChange_,r,o);return s};const ka=ba;function Oa(t){return xa.call(this,t)||this}_a=function(t,e){return(_a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ia,Da=Oa;if("function"!=typeof(Ia=xa=$)&&null!==Ia)throw new TypeError("Class extends value "+String(Ia)+" is not a constructor or null");function Pa(){this.constructor=Da}_a(Da,Ia),Da.prototype=null===Ia?Object.create(Ia):(Pa.prototype=Ia.prototype,new Pa),Oa.prototype.createRenderer=function(){return new ka(this)};const Ra=Oa,Aa="add",La="remove";Fa=function(t,e){return(Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},t=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var Fa,Ma,ja,Na,Wa,Ga="length",Ba=(t(qa,Ma=m),qa);function qa(t,e,n){return(t=Ma.call(this,t)||this).element=e,t.index=n,t}function Xa(t,e){var n=ja.call(this)||this;if(n.on,n.once,n.un,n.unique_=!!(e||{}).unique,n.array_=t||[],n.unique_)for(var i=0,r=n.array_.length;i<r;++i)n.assertUnique_(n.array_[i],i);return n.updateLength_(),n}t(Xa,ja=tt),Xa.prototype.clear=function(){for(;0<this.getLength();)this.pop()},Xa.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},Xa.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},Xa.prototype.getArray=function(){return this.array_},Xa.prototype.item=function(t){return this.array_[t]},Xa.prototype.getLength=function(){return this.get(Ga)},Xa.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ba(Aa,e,t))},Xa.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Xa.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},Xa.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},Xa.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ba(La,e,t)),e},Xa.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ba(La,i,t)),this.dispatchEvent(new Ba(Aa,e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},Xa.prototype.updateLength_=function(){this.set(Ga,this.array_.length)},Xa.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new ct(58)};const Ha=Xa;function Ya(t){this.rbush_=new er(t),this.items_={}}Ya.prototype.insert=function(t,e){t={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e},this.rbush_.insert(t),this.items_[z(e)]=t},Ya.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i];o={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s},n[i]=o,this.items_[z(s)]=o}this.rbush_.load(n)},Ya.prototype.remove=function(t){t=z(t);var e=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(e)},Ya.prototype.update=function(t,e){var n=this.items_[z(e)];bt([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},Ya.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},Ya.prototype.getInExtent=function(t){return t={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},this.rbush_.search(t).map((function(t){return t.value}))},Ya.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},Ya.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},Ya.prototype.forEach_=function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n},Ya.prototype.isEmpty=function(){return R(this.items_)},Ya.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Ya.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return wt(e.minX,e.minY,e.maxX,e.maxY,t)},Ya.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};const za=Ya;function Ua(t){var e=Wa.call(this)||this,n=(e.projection=ue(t.projection),e.attributions_=Va(t.attributions),e.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,e.loading=!1,e.state_=void 0!==t.state?t.state:Zi,e.wrapX_=void 0!==t.wrapX&&t.wrapX,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null,e);return e.viewPromise_=new Promise((function(t,e){n.viewResolver=t,n.viewRejector=e})),e}function Va(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}Na=function(t,e){return(Na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var Ka,$a=Ua;if("function"!=typeof(Ka=Wa=tt)&&null!==Ka)throw new TypeError("Class extends value "+String(Ka)+" is not a constructor or null");function Za(){this.constructor=$a}Na($a,Ka),$a.prototype=null===Ka?Object.create(Ka):(Za.prototype=Ka.prototype,new Za),Ua.prototype.getAttributions=function(){return this.attributions_},Ua.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},Ua.prototype.getProjection=function(){return this.projection},Ua.prototype.getResolutions=function(){return H()},Ua.prototype.getView=function(){return this.viewPromise_},Ua.prototype.getState=function(){return this.state_},Ua.prototype.getWrapX=function(){return this.wrapX_},Ua.prototype.getInterpolate=function(){return this.interpolate_},Ua.prototype.refresh=function(){this.changed()},Ua.prototype.setAttributions=function(t){this.attributions_=Va(t),this.changed()},Ua.prototype.setState=function(t){this.state_=t,this.changed()},Lo=Ua;const Ja="addfeature",Qa="removefeature";function tl(t,e){return[[-1/0,-1/0,1/0,1/0]]}const el="arraybuffer";function nl(t,e){return function(n,i,r,o,s){var a,l,u,c,h,p,f,d=this;a=t,l=e,u=n,n=i,c=r,h=function(t,e){d.addFeatures(t),void 0!==o&&o(t)},p=s||E,(f=new XMLHttpRequest).open("GET","function"==typeof a?a(u,n,c):a,!0),l.getType()==el&&(f.responseType="arraybuffer"),f.withCredentials=!1,f.onload=function(t){var e,n;!f.status||200<=f.status&&f.status<300?(n=void 0,"json"==(e=l.getType())||"text"==e?n=f.responseText:"xml"==e?n=(n=f.responseXML)||(new DOMParser).parseFromString(f.responseText,"application/xml"):e==el&&(n=f.response),n?h(l.readFeatures(n,{extent:u,featureProjection:c}),l.readProjection(n)):p()):p()},f.onerror=p,f.send()}}il=function(t,e){return(il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},Jt=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}il(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var il,rl,ol,sl=(Jt(al,rl=m),al);function al(t,e,n){return(t=rl.call(this,t)||this).feature=e,t.features=n,t}function ll(t){var e,n,i=this,r=(t=t||{},(i=ol.call(this,{attributions:t.attributions,interpolate:!0,projection:void 0,state:Zi,wrapX:void 0===t.wrapX||t.wrapX})||this).on,i.once,i.un,i.loader_=E,i.format_=t.format,i.overlaps_=void 0===t.overlaps||t.overlaps,i.url_=t.url,void 0!==t.loader?i.loader_=t.loader:void 0!==i.url_&&(ht(i.format_,7),i.loader_=nl(i.url_,i.format_)),i.strategy_=void 0!==t.strategy?t.strategy:tl,void 0===t.useSpatialIndex||t.useSpatialIndex);return i.featuresRtree_=r?new za:null,i.loadedExtentsRtree_=new za,i.loadingExtentsCount_=0,i.nullGeometryFeatures_={},i.idIndex_={},i.uidIndex_={},i.featureChangeKeys_={},i.featuresCollection_=null,Array.isArray(t.features)?n=t.features:t.features&&(n=(e=t.features).getArray()),r||void 0!==e||(e=new Ha(n)),void 0!==n&&i.addFeaturesInternal(n),void 0!==e&&i.bindFeaturesCollection_(e),i}Jt(ll,ol=Lo),ll.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},ll.prototype.addFeatureInternal=function(t){var e,n=z(t);this.addToIndex_(n,t)?(this.setupChangeEvents_(n,t),(e=t.getGeometry())?(e=e.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.nullGeometryFeatures_[n]=t,this.dispatchEvent(new sl(Ja,t))):this.featuresCollection_&&this.featuresCollection_.remove(t)},ll.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[N(e,j,this.handleFeatureChange_,this),N(e,_,this.handleFeatureChange_,this)]},ll.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(ht(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},ll.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},ll.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=z(l=t[r]);this.addToIndex_(s,l)&&n.push(l)}r=0;for(var a=n.length;r<a;r++){s=z(l=n[r]);var l,u=(this.setupChangeEvents_(s,l),l.getGeometry());u?(u=u.getExtent(),e.push(u),i.push(l)):this.nullGeometryFeatures_[s]=l}if(this.featuresRtree_&&this.featuresRtree_.load(e,i),this.hasListener(Ja)){r=0;for(var c=n.length;r<c;r++)this.dispatchEvent(new sl(Ja,n[r]))}},ll.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Ja,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(Qa,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(Aa,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(La,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},ll.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(G);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n;for(n in t=function(t){this.removeFeatureInternal(t)}.bind(this),this.featuresRtree_.forEach(t),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={},t=new sl("clear"),this.dispatchEvent(t),this.changed()},ll.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},ll.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){if(n.getGeometry().intersectsCoordinate(t))return e(n)}))},ll.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},ll.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)&&(n=e(n)))return n}))},ll.prototype.getFeaturesCollection=function(){return this.featuresCollection_},ll.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),R(this.nullGeometryFeatures_)||C(t,P(this.nullGeometryFeatures_))),t},ll.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},ll.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},ll.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||b;return this.featuresRtree_.forEachInExtent(a,(function(t){var e,u;l(t)&&(u=t.getGeometry(),e=s,(s=u.closestPointXY(n,i,o,s))<e&&(r=t,u=Math.sqrt(s),a[0]=n-u,a[1]=i-u,a[2]=n+u,a[3]=i+u))})),r},ll.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},ll.prototype.getFeatureById=function(t){return void 0!==(t=this.idIndex_[t.toString()])?t:null},ll.prototype.getFeatureByUid=function(t){return void 0!==(t=this.uidIndex_[t])?t:null},ll.prototype.getFormat=function(){return this.format_},ll.prototype.getOverlaps=function(){return this.overlaps_},ll.prototype.getUrl=function(){return this.url_},ll.prototype.handleFeatureChange_=function(t){var e,n=z(t=t.target);void 0!==((e=t.getGeometry())?(e=e.getExtent(),n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)):n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t),e=t.getId())?(e=e.toString(),this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)):(this.removeFromIdIndex_(t),this.uidIndex_[n]=t),this.changed(),this.dispatchEvent(new sl("changefeature",t))},ll.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:z(t)in this.uidIndex_},ll.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&R(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},ll.prototype.loadFeatures=function(t,e,n){for(var i=this.loadedExtentsRtree_,r=this.strategy_(t,e,n),o=this,s=0,a=r.length;s<a;++s)!function(t){var s=r[t];i.forEachInExtent(s,(function(t){return mt(t.extent,s)}))||(++o.loadingExtentsCount_,o.dispatchEvent(new sl("featuresloadstart")),o.loader_.call(o,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new sl("featuresloadend",void 0,t))}.bind(o),function(){--this.loadingExtentsCount_,this.dispatchEvent(new sl("featuresloaderror"))}.bind(o)),i.insert(s,{extent:s.slice()}))}(s);this.loading=!(this.loader_.length<4)&&0<this.loadingExtentsCount_},ll.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),ol.prototype.refresh.call(this)},ll.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(bt(n.extent,t))return e=n,!0})),e&&n.remove(e)},ll.prototype.removeFeature=function(t){var e;t&&((e=z(t))in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed())},ll.prototype.removeFeatureInternal=function(t){var e=z(t),n=this.featureChangeKeys_[e];if(n)return n.forEach(G),delete this.featureChangeKeys_[e],void 0!==(n=t.getId())&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new sl(Qa,t)),t},ll.prototype.removeFromIdIndex_=function(t){var e,n=!1;for(e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e],n=!0;break}return n},ll.prototype.setLoader=function(t){this.loader_=t},ll.prototype.setUrl=function(t){ht(this.format_,7),this.url_=t,this.setLoader(nl(t,this.format_))};const ul=ll;function cl(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function hl(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}var pl,fl,dl,gl=b,yl=(pl=function(t,e){return(pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},ss=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},"Point"),vl="LineString",ml="Polygon",_l="Circle",xl="drawstart",wl=(ss(Cl,fl=m),Cl);function Cl(t,e){return(t=fl.call(this,t)||this).feature=e,t}function Sl(t){var e,n,i,r,o=this;return(r=t).stopDown||(r.stopDown=T),(o=dl.call(this,r)||this).on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=t.source||null,o.features_=t.features||null,o.snapTolerance_=t.snapTolerance||12,o.type_=t.type,o.mode_=function(t){switch(t){case u:case p:return yl;case c:case f:return vl;case h:case d:return ml;case y:return _l;default:throw new Error("Invalid type: "+t)}}(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints||(o.mode_===ml?3:2),o.maxPoints_=o.mode_===_l?2:t.maxPoints||1/0,o.finishCondition_=t.finishCondition||b,(r=t.geometryFunction)||(r=(e=o.mode_)===_l?function(t,e,n){var i;return e=e||new Ue([NaN,NaN]),t=function(t,e){var n=t[0]-e[0];return n*n+(t=t[1]-e[1])*t}(i=ve(t[0]),ve(t[t.length-1])),e.setCenterAndRadius(i,Math.sqrt(t)),(i=ye)&&e.transform(n,i),e}:(e===yl?n=Qn:e===vl?n=bn:e===ml&&(n=xi),function(t,i,r){return i?e===ml?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new n(t),i})),o.geometryFunction_=r,o.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new Ra({source:new ul({useSpatialIndex:!1,wrapX:t.wrapX||!1}),style:t.style||(i=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new ro({fill:new eo({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new ro({stroke:new io({color:e,width:5})}),new ro({stroke:new io({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t[u]=[new ro({image:new Qr({radius:6,fill:new eo({color:n}),stroke:new io({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t[u],t.GeometryCollection=t.Polygon.concat(t.LineString,t[u]),t}(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition||cl,o.freehandCondition_,t.freehand?o.freehandCondition_=gl:o.freehandCondition_=t.freehandCondition||hl,o.addChangeListener(Je,o.updateState_),o}ss(Sl,dl=Xt),Sl.prototype.setMap=function(t){dl.prototype.setMap.call(this,t),this.updateState_()},Sl.prototype.getOverlay=function(){return this.overlay_},Sl.prototype.handleEvent=function(t){"contextmenu"===t.originalEvent.type&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==yl&&this.freehandCondition_(t);var e=t.type===Xn,n=!0;return!this.freehand_&&this.lastDragTime_&&t.type===qn&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&t.type===qn&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===Hn?n=!1:e&&this.getPointerCount()<2?(n=t.type===Xn)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===qn&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):"dblclick"===t.type&&(n=!1),dl.prototype.handleEvent.call(this,t)&&n},Sl.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Bn(Xn,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},Sl.prototype.handleUpEvent=function(t){var e,n=!0;return 0===this.getPointerCount()&&(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_?((e=!this.finishCoordinate_)&&this.startDrawing_(t.coordinate),!e&&this.freehand_?this.finishDrawing():this.freehand_||e&&this.mode_!==yl||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),n=!1):this.freehand_&&this.abortDrawing()),!n&&this.stopClick_&&t.preventDefault(),n},Sl.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0];if(n=i*i+(e=e[1]-n[1])*e,this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},Sl.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_],r=this.mode_;if(r===yl?e=!0:r===_l?e=2===this.sketchCoords_.length:r===vl?n=this.sketchCoords_.length>this.minPoints_:r===ml&&(n=(r=this.sketchCoords_)[0].length>this.minPoints_,i=[r[0][0],r[0][r[0].length-2]]),n)for(var o=this.getMap(),s=0,a=i.length;s<a;s++){var l=i[s],u=o.getPixelFromCoordinate(l),c=t[0]-u[0],h=(u=t[1]-u[1],this.freehand_?1:this.snapTolerance_);if(e=Math.sqrt(c*c+u*u)<=h){this.finishCoordinate_=l;break}}}return e},Sl.prototype.createOrUpdateSketchPoint_=function(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new Ze(new Qn(t)),this.updateSketchFeatures_())},Sl.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Ze),t=t.getLinearRing(0);var e=this.sketchLine_.getGeometry();e?(e.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),e.changed()):(e=new bn(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(e))},Sl.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===yl?this.sketchCoords_=t.slice():this.mode_===ml?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Ze(new bn(this.sketchLineCoords_))),t=this.geometryFunction_(this.sketchCoords_,void 0,e),this.sketchFeature_=new Ze,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(t),this.updateSketchFeatures_(),this.dispatchEvent(new wl(xl,this.sketchFeature_))},Sl.prototype.modifyDrawing_=function(t){var e,n,i=this.getMap(),r=this.sketchFeature_.getGeometry(),o=i.getView().getProjection();this.mode_===yl?n=this.sketchCoords_:this.mode_===ml?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(i.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),r.getType()===h&&this.mode_!==ml?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},Sl.prototype.addToDrawing_=function(t){var e,n,i=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o=this.mode_;o===vl||o===_l?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,i,r)):o===ml&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,i,r)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},Sl.prototype.removeLastPoint=function(){var t,e,n,i,r;this.sketchFeature_&&(t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),(i=this.mode_)===vl||i===_l?((n=this.sketchCoords_).splice(-2,1),2<=n.length&&(this.finishCoordinate_=n[n.length-2].slice(),r=this.finishCoordinate_.slice(),n[n.length-1]=r,this.createOrUpdateSketchPoint_(r)),this.geometryFunction_(n,t,e),t.getType()===h&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)):i===ml&&((n=this.sketchCoords_[0]).splice(-2,1),i=this.sketchLine_.getGeometry(),2<=n.length&&(r=n[n.length-2].slice(),n[n.length-1]=r,this.createOrUpdateSketchPoint_(r)),i.setCoordinates(n),this.geometryFunction_(this.sketchCoords_,t,e)),1===n.length&&this.abortDrawing(),this.updateSketchFeatures_())},Sl.prototype.finishDrawing=function(){var t,e,n,i=this.abortDrawing_();i&&(t=this.sketchCoords_,e=i.getGeometry(),n=this.getMap().getView().getProjection(),this.mode_===vl?(t.pop(),this.geometryFunction_(t,e,n)):this.mode_===ml&&(t[0].pop(),this.geometryFunction_(t,e,n),t=e.getCoordinates()),this.type_===p?i.setGeometry(new ii([t])):this.type_===f?i.setGeometry(new Kn([t])):this.type_===d&&i.setGeometry(new Ei([t])),this.dispatchEvent(new wl("drawend",i)),this.features_&&this.features_.push(i),this.source_&&this.source_.addFeature(i))},Sl.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},Sl.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new wl("drawabort",t))},Sl.prototype.appendCoordinates=function(t){var e,n=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(t[0]),n===vl||n===_l)e=this.sketchCoords_;else{if(n!==ml)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&e.shift(),e.pop();for(var r=0;r<t.length;r++)this.addToDrawing_(t[r]);n=t[t.length-1],this.addToDrawing_(n),this.modifyDrawing_(n)},Sl.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates(),t=this.sketchCoords_[this.sketchCoords_.length-1],this.finishCoordinate_=t.slice(),this.sketchCoords_.push(t.slice()),this.sketchPoint_=new Ze(new Qn(t)),this.updateSketchFeatures_(),this.dispatchEvent(new wl(xl,this.sketchFeature_))},Sl.prototype.updateSketchFeatures_=function(){var t=[],e=(this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_),this.overlay_.getSource());e.clear(!0),e.addFeatures(t)},Sl.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)};var bl,Tl=n(1001),El=n.n(Tl);n(8406),n(3401),n(2323);var kl,Ol,Il,Dl,Pl,Rl,Al,Ll,Fl={},Ml={fillColor:"rgb(0,153,255)",fillOpacity:.75,strokeColor:"rgb(0,153,255)",strokeOpacity:1,strokeWidth:2,strokeType:"line",pointSize:10,pointType:"circle",textSize:20,textString:"Text",textFont:'"Helvetica Neue", Helvetica, Arial, sans-serif'};function jl(t,e){var n=1<arguments.length&&void 0!==e?e:1,i=t.replace(/[^\d,.]/g,"").split(",");return i[3]=n,i}function Nl(t){Fl.fillColor=t,Fl.fillColorArr=jl(Fl.fillColor,Fl.fillOpacity)}function Wl(t){Fl.strokeColor=t,Fl.strokeColorArr=jl(Fl.strokeColor,Fl.strokeOpacity)}function Gl(t,n){var i=El()(Fl,n),r=(n=t.getGeometry().getType(),t.get(bl)&&(n="TextPoint"),[]),o="dash"===i.strokeType?[3*i.strokeWidth,3*i.strokeWidth]:"dash-point"===i.strokeType?[3*i.strokeWidth,3*i.strokeWidth,.1,3*i.strokeWidth]:"point"===i.strokeType&&[.1,3*i.strokeWidth],s=new(e().ol.style.Stroke)({color:i.strokeColorArr,width:i.strokeWidth,lineDash:o}),a=new(e().ol.style.Fill)({color:i.fillColorArr}),l="".concat(i.textSize,"px ").concat(i.textFont);switch(n){case"LineString":case"MultiLineString":r[0]=new(e().ol.style.Style)({stroke:s});break;case"Polygon":case"MultiPolygon":r[0]=new(e().ol.style.Style)({fill:a,stroke:s});break;case"Point":case"MultiPoint":default:r[0]=function(t,n,i,r){var o;switch(t){case"square":o=new(e().ol.style.Style)({image:new(e().ol.style.RegularShape)({fill:i,stroke:r,points:4,radius:n,angle:Math.PI/4})});break;case"triangle":o=new(e().ol.style.Style)({image:new(e().ol.style.RegularShape)({fill:i,stroke:r,points:3,radius:n,rotation:0,angle:0})});break;case"star":o=new(e().ol.style.Style)({image:new(e().ol.style.RegularShape)({fill:i,stroke:r,points:5,radius:n,radius2:n/2.5,angle:0})});break;case"cross":o=new(e().ol.style.Style)({image:new(e().ol.style.RegularShape)({fill:i,stroke:r,points:4,radius:n,radius2:0,angle:0})});break;case"x":o=new(e().ol.style.Style)({image:new(e().ol.style.RegularShape)({fill:i,stroke:r,points:4,radius:n,radius2:0,angle:Math.PI/4})});break;default:o=new(e().ol.style.Style)({image:new(e().ol.style.Circle)({fill:i,stroke:r,radius:n})})}return o}(i.pointType,i.pointSize,a,s);break;case"TextPoint":r[0]=new(e().ol.style.Style)({text:new(e().ol.style.Text)({text:i.textString||"Text",font:l,fill:a})}),t.set(bl,i.textString||"Text")}return r}function Bl(){eu.getSelection().forEach((function(t){var e=t.getStyle();e[0]=Gl(t)[0],t.set("style",El()({},Fl)),t.setStyle(e)}))}function ql(t){function n(){i.classList.toggle("hidden")}var i,r,o,s,a,l=0<arguments.length&&void 0!==t?t:{},u=void 0===(a=l.title)?"Anpassa stil":a,c=void 0===(a=l.cls)?"control overflow-hidden hidden":a,h=l.target,p=void 0===(a=l.closeIcon)?"#ic_close_24px":a,f=void 0===(a=l.style)?"":a,d=void 0===(a=l.palette)?["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)"]:a;return bl=l.annotation||"annonation",Fl=El()(Ml,l.swDefaults),d.forEach((function(t,e){var n=jl(d[e]);d[e]="rgb(".concat(n[0],",").concat(n[1],",").concat(n[2],")")})),e().ui.Component({closeWindow:n,onInit:function(){var t=[];s=e().ui.Element({cls:"flex row justify-start margin-y-small margin-left text-weight-bold",style:"width: 100%;",innerHTML:"".concat(u)}),t.push(s),s=e().ui.Button({cls:"small round margin-top-small margin-right-small margin-bottom-auto margin-right icon-smaller grey-lightest no-shrink",icon:p,validStates:["initial","hidden"],click:function(){n()}}),t.push(s),r=e().ui.Element({cls:"flex justify-end grey-lightest",components:t}),o=e().ui.Element({cls:"o-draw-stylewindow-content overflow-auto",innerHTML:"".concat(function(t,e){var n=t,i='<div id="o-draw-style-fill" class="padding border-bottom"><div class="text-large text-align-center">Fyllning</div><div id="o-draw-style-fillColor"><ul>';n.includes(e.fillColor)||n.push(e.fillColor),n.includes(e.strokeColor)||n.push(e.strokeColor);for(var r=0;r<n.length;r+=1){var o=n[r]===e.fillColor?" checked=true":"";i+='<li>\n    <input type="radio" id="fillColorRadio'.concat(r,'" name="fillColorRadio" value="').concat(n[r],'"').concat(o,' />\n    <label for="fillColorRadio').concat(r,'"><span style="background:').concat(n[r],'"></span></label>\n    </li>')}i+='</ul></div><div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-fillOpacitySlider" type="range" min="0.05" max="1" value="'.concat(e.fillOpacity,'" step="0.05">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">5%</span>\n    <span class="text-smaller">Opacitet</span>\n    <span class="text-smaller float-right">100%</span>\n  </div>\n  </div></div>');for(var s='<div id="o-draw-style-stroke" class="padding border-bottom"><div class="text-large text-align-center">Kantlinje</div><div id="o-draw-style-strokeColor"><ul>',a=0;a<n.length;a+=1){var l=n[a]===e.strokeColor?" checked=true":"";s+='<li>\n    <input type="radio" id="strokeColorRadio'.concat(a,'" name="strokeColorRadio" value="').concat(n[a],'"').concat(l,' />\n    <label for="strokeColorRadio').concat(a,'"><span style="background:').concat(n[a],'"></span></label>\n    </li>')}return s+='</ul></div><div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-strokeOpacitySlider" type="range" min="0.05" max="1" value="'.concat(e.strokeOpacity,'" step="0.05">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">5%</span>\n    <span class="text-smaller">Opacitet</span>\n    <span class="text-smaller float-right">100%</span>\n  </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-strokeWidthSlider" type="range" min="1" max="10" value="').concat(e.strokeWidth,'" step="1">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">1px</span>\n    <span class="text-smaller">Linjebredd</span>\n    <span class="text-smaller float-right">10px</span>\n  </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <select id="o-draw-style-strokeType" class="small no-margin width-full">\n      <option value="line"').concat("line"===e.strokeType?" selected":"",'>Heldragen linje</option>\n      <option value="dash"').concat("dash"===e.strokeType?" selected":"",'>Streckad linje</option>\n      <option value="point"').concat("point"===e.strokeType?" selected":"",'>Punktad linje</option>\n      <option value="dash-point"').concat("dash-point"===e.strokeType?" selected":"",">Streck-punkt-linje</option>\n    </select>\n  </div></div>"),t='<div id="o-draw-style-point" class="padding border-bottom"><div class="text-large text-align-center">Punkt</div><div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-pointSizeSlider" type="range" min="1" max="50" value="'.concat(e.pointSize,'" step="1">\n    <div class="text-align-center">\n      <span class="text-smaller float-left">1px</span>\n      <span class="text-smaller">Punktstorlek</span>\n      <span class="text-smaller float-right">50px</span>\n    </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <select id="o-draw-style-pointType" class="small no-margin width-full">\n      <option value="circle"').concat("circle"===e.pointType?" selected":"",'>Cirkel</option>\n      <option value="x"').concat("x"===e.pointType?" selected":"",'>Kryss</option>\n      <option value="cross"').concat("cross"===e.pointType?" selected":"",'>Kors</option>\n      <option value="star"').concat("star"===e.pointType?" selected":"",'>StjÃ¤rna</option>\n      <option value="triangle"').concat("triangle"===e.pointType?" selected":"",'>Triangel</option>\n      <option value="square"').concat("square"===e.pointType?" selected":"",">Kvadrat</option>\n    </select>\n  </div></div>"),'<div id="o-draw-style-text" class="padding border-bottom"><div class="text-large text-align-center">Text</div><div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-textSizeSlider" type="range" min="8" max="128" value="'.concat(e.textSize,'" step="1">\n    <div class="text-align-center">\n      <span class="text-smaller float-left">8px</span>\n      <span class="text-smaller">Textstorlek</span>\n      <span class="text-smaller float-right">128px</span>\n    </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-textString" class="small no-margin width-full" type="text" value="').concat(e.textString,'">\n  </div></div>')+t+i+s}(d,Fl))}),this.addComponent(r),this.addComponent(o),this.on("render",this.onRender),document.getElementById(h).appendChild(e().ui.dom.html(this.render())),this.dispatch("render"),t=document.getElementById("o-draw-style-fillColor");for(var i=document.getElementById("o-draw-style-strokeColor"),a=t.querySelectorAll("span"),l=0;l<a.length;l+=1)a[l].addEventListener("click",(function(){Nl(this.style.backgroundColor),Bl()}));a=i.querySelectorAll("span");for(var c=0;c<a.length;c+=1)a[c].addEventListener("click",(function(){Wl(this.style.backgroundColor),Bl()}));document.getElementById("o-draw-style-fillOpacitySlider").addEventListener("input",(function(){Fl.fillOpacity=this.value,Nl(Fl.fillColor),Bl()})),document.getElementById("o-draw-style-strokeOpacitySlider").addEventListener("input",(function(){Fl.strokeOpacity=this.value,Wl(Fl.strokeColor),Bl()})),document.getElementById("o-draw-style-strokeWidthSlider").addEventListener("input",(function(){Fl.strokeWidth=this.value,Bl()})),document.getElementById("o-draw-style-strokeType").addEventListener("change",(function(){Fl.strokeType=this.value,Bl()})),document.getElementById("o-draw-style-pointType").addEventListener("change",(function(){Fl.pointType=this.value,Bl()})),document.getElementById("o-draw-style-pointSizeSlider").addEventListener("input",(function(){Fl.pointSize=this.value,Bl()})),document.getElementById("o-draw-style-textString").addEventListener("input",(function(){Fl.textString=this.value,Bl()})),document.getElementById("o-draw-style-textSizeSlider").addEventListener("input",(function(){Fl.textSize=this.value,Bl()}))},onRender:function(){i=document.getElementById("o-draw-stylewindow")},render:function(){var t=""!==f?'style="'.concat(f,'"'):"";return'<div id="o-draw-stylewindow" class="'.concat(c,' flex">\n                  <div class="absolute flex column no-margin width-full height-full" ').concat(t,">\n                    ").concat(r.render(),"\n                    ").concat(o.render(),"\n                  </div>\n                </div>")}})}Ml.fillColorArr=jl(Ml.fillColor,Ml.fillOpacity),Ml.strokeColorArr=jl(Ml.strokeColor,Ml.strokeOpacity);var Xl=new(e().ol.style.Style)({image:new(e().ol.style.Circle)({radius:6,fill:new(e().ol.style.Fill)({color:[200,100,100,.8]})}),geometry:function(t){var n,i,r=t.getGeometry().getType();return"Polygon"===r?(n=t.getGeometry().getCoordinates()[0],i=new(e().ol.geom.MultiPoint)(n)):"LineString"===r?(n=t.getGeometry().getCoordinates(),i=new(e().ol.geom.MultiPoint)(n)):"Point"===r&&(n=t.getGeometry().getCoordinates(),i=new(e().ol.geom.Point)(n)),i}});function Hl(t){var n;"Point"!==t.feature.getGeometry().getType()&&(t=t.feature.getGeometry().getType(),n=[],"Point"!==t&&(kl.getInteractions().forEach((function(t){t instanceof e().ol.interaction.DoubleClickZoom&&n.push(t)})),0<n.length&&kl.removeInteraction(n[0])))}function Yl(t,e){return t.length===e.length&&!t.some((function(t){return e.indexOf(t)<0}))&&!e.some((function(e){return t.indexOf(e)<0}))}function zl(t){"draw"===t?(Pl.getFeatures().clear(),Rl.setActive(!0),Pl.setActive(!1)):(Dl=void 0,kl.removeInteraction(Il),Rl.setActive(!0),Pl.setActive(!0))}function Ul(t){var n;"Text"===Dl?((n=t.feature).set(Al,"Text"),zl(),Dl=void 0,nu.emitChangeDraw("Text",!1),document.getElementById("o-draw-stylewindow").classList.remove("hidden")):(zl(),Dl=void 0,nu.emitChangeDraw(t.feature.getGeometry().getType(),!1)),setTimeout((function(){var t;t=[],kl.getInteractions().forEach((function(n){n instanceof e().ol.interaction.DoubleClickZoom&&t.push(n)})),t.length<1&&kl.addInteraction(new(e().ol.interaction.DoubleClickZoom))}),100),Ol&&(n=Gl(t.feature),t.feature.setStyle(n))}function Vl(t){if(t.target){var e=(t=t.target.item(0)).getStyle()||Ll.createStyleRule(l[1]);switch(e.push(Xl),t.setStyle(e),t=(e=t).getGeometry().getType(),Fl=El()(Fl,e.get("style")),t=e.get(bl)?"TextPoint":t){case"LineString":case"MultiLineString":document.getElementById("o-draw-style-fill").classList.add("hidden"),document.getElementById("o-draw-style-point").classList.add("hidden"),document.getElementById("o-draw-style-text").classList.add("hidden");break;case"Polygon":case"MultiPolygon":document.getElementById("o-draw-style-point").classList.add("hidden"),document.getElementById("o-draw-style-text").classList.add("hidden");break;case"Point":case"MultiPoint":document.getElementById("o-draw-style-text").classList.add("hidden");break;case"TextPoint":document.getElementById("o-draw-style-stroke").classList.add("hidden"),document.getElementById("o-draw-style-point").classList.add("hidden")}document.getElementById("o-draw-style-pointSizeSlider").value=Fl.pointSize,document.getElementById("o-draw-style-pointType").value=Fl.pointType,document.getElementById("o-draw-style-textSizeSlider").value=Fl.textSize,document.getElementById("o-draw-style-textString").value=Fl.textString,Fl.strokeColor=Fl.strokeColor.replace(/ /g,""),(e=document.getElementById("o-draw-style-strokeColor").querySelector('input[value = "'.concat(Fl.strokeColor,'"]')))?e.checked=!0:(t=document.querySelector('input[name = "strokeColorRadio"]:checked'))&&(t.checked=!1),document.getElementById("o-draw-style-strokeWidthSlider").value=Fl.strokeWidth,document.getElementById("o-draw-style-strokeOpacitySlider").value=Fl.strokeOpacity,document.getElementById("o-draw-style-strokeType").value=Fl.strokeType,e=document.getElementById("o-draw-style-fillColor"),Fl.fillColor=Fl.fillColor.replace(/ /g,""),(t=e.querySelector('input[value = "'.concat(Fl.fillColor,'"]')))?t.checked=!0:(e=document.querySelector('input[name = "fillColorRadio"]:checked'))&&(e.checked=!1),document.getElementById("o-draw-style-fillOpacitySlider").value=Fl.fillOpacity}}function Kl(t){document.getElementById("o-draw-style-fill").classList.remove("hidden"),document.getElementById("o-draw-style-stroke").classList.remove("hidden"),document.getElementById("o-draw-style-point").classList.remove("hidden"),document.getElementById("o-draw-style-text").classList.remove("hidden");var e=t.element.getStyle();e[e.length-1]===Xl&&(e.pop(),t.element.setStyle(e))}function $l(t){zl(),Dl=void 0,nu.emitChangeDraw(t,!1)}function Zl(t){Dl=void 0,nu.emitToggleDraw(t.tool,{drawType:t.drawType})}function Jl(){return void 0!==Rl&&void 0!==Pl}function Ql(t){var n,i;t.stopPropagation(),"delete"===t.tool?(i=Pl.getFeatures()).getLength()&&(n=Ol.getSource(),i.forEach((function(t){n.removeFeature(t)})),Pl.getFeatures().clear()):"cancel"===t.tool?($l(t.tool),Jl()&&(kl.removeInteraction(Rl),kl.removeInteraction(Pl),kl.removeInteraction(Il),Il=Pl=Rl=void 0)):t.tool===Dl?$l(t.tool):"Polygon"!==t.tool&&"LineString"!==t.tool&&"Point"!==t.tool&&"Text"!==t.tool||(Dl&&$l(t.tool),zl("draw"),function(t,n){var i=t;i={source:Ol.getSource(),type:i="Text"===(Dl=t)?"Point":i},n&&o().extend(i,function(t){var e={box:{type:"Circle",geometryFunction:function(t,e,n){return t=function(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)Tt(e,t[n]);return e}([t[0],t[t.length-1]].map((function(t){return ve(t)}))),t=[[Ot(t),It(t),At(t),Rt(t),Ot(t)]],e?e.setCoordinates(t):e=new xi(t),(t=ye)&&e.transform(n,t),e}},freehand:{freehand:!0}};return Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}(n)),kl.removeInteraction(Il),Il=new(e().ol.interaction.Draw)(i),kl.addInteraction(Il),nu.emitChangeDraw(t,!0),Il.on("drawend",Ul,this),Il.on("drawstart",Hl,this)}(t.tool,t.drawType))}function tu(t){"draw"!==t.detail.interaction||Jl()||(void 0===Ol&&(Ol=new(e().ol.layer.Vector)({group:"none",name:"drawplugin",visible:!0,zIndex:7,source:new(e().ol.source.Vector)}),kl.addLayer(Ol)),Pl=new(e().ol.interaction.Select)({layers:[Ol],style:null,hitTolerance:5}),Rl=new(e().ol.interaction.Modify)({features:Pl.getFeatures(),style:null}),kl.addInteraction(Pl),kl.addInteraction(Rl),Pl.getFeatures().on("add",Vl,this),Pl.getFeatures().on("remove",Kl,this),zl())}const eu={init:function(t){void 0===Function.prototype.name&&void 0!==a()&&a()(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&1<t.length?t[1].trim():""}}),t=t||{},Ll=e().Style,kl=t.viewer.getMap(),Al=t.annotation||"annonation",Dl=void 0,o()(document).on("toggleDraw",Ql),o()(document).on("editorDrawTypes",Zl),o()(document).on("enableInteraction",tu)},getSelection:function(){return Pl.getFeatures()},getState:function(){var t,n;if(Ol)return n=Ol.getSource(),t=new(e().ol.format.GeoJSON),(n=n.getFeatures()).forEach((function(t){var e,n,i;t.getProperties().style||(n={},null!=(e=t.getStyle())[0].getFill()&&(n.fillColorArr=e[0].getFill().getColor(),n.fillColor="rgb(".concat(n.fillColorArr[0],",").concat(n.fillColorArr[1],",").concat(n.fillColorArr[2],")"),n.fillOpacity=n.fillColorArr[3]),null!=e[0].getStroke()&&(n.strokeColorArr=e[0].getStroke().getColor(),n.strokeColor="rgb(".concat(n.strokeColorArr[0],",").concat(n.strokeColorArr[1],",").concat(n.strokeColorArr[2],")"),n.strokeOpacity=n.strokeColorArr[3],n.strokeWidth=e[0].getStroke().getWidth(),void 0!==e[0].getStroke().getWidth()&&(n.strokeWidth=e[0].getStroke().getWidth()),s()(e[0].getStroke().getLineDash())?Yl(e[0].getStroke().getLineDash(),[3*n.strokeWidth,3*n.strokeWidth])?n.strokeType="dash":Yl(e[0].getStroke().getLineDash(),[3*n.strokeWidth,3*n.strokeWidth,.1,3*n.strokeWidth])?n.strokeType="dash-point":Yl(e[0].getStroke().getLineDash(),[.1,3*n.strokeWidth])&&(n.strokeType="point"):n.strokeType="line"),null!=e[0].getImage()&&(n.pointSize=e[0].getImage().getRadius(),0===e[0].getImage().getRadius2()&&e[0].getImage().getAngle()===Math.PI/4&&4===e[0].getImage().getPoints()?n.pointType="x":0===e[0].getImage().getRadius2()&&0===e[0].getImage().getAngle()&&4===e[0].getImage().getPoints()?n.pointType="cross":e[0].getImage().getRadius2()===e[0].getImage().getRadius()/2.5&&0===e[0].getImage().getAngle()&&5===e[0].getImage().getPoints()?n.pointType="star":0===e[0].getImage().getRotation()&&0===e[0].getImage().getAngle()&&3===e[0].getImage().getPoints()?n.pointType="triangle":e[0].getImage().getAngle()===Math.PI/4&&4===e[0].getImage().getPoints()?n.pointType="square":n.pointType="circle",null!=e[0].getImage().getFill()&&(n.fillColorArr=e[0].getImage().getFill().getColor(),n.fillColor="rgb(".concat(n.fillColorArr[0],",").concat(n.fillColorArr[1],",").concat(n.fillColorArr[2],")"),n.fillOpacity=n.fillColorArr[3]),null!=e[0].getImage().getStroke()&&(n.strokeColorArr=e[0].getImage().getStroke().getColor(),n.strokeColor="rgb(".concat(n.strokeColorArr[0],",").concat(n.strokeColorArr[1],",").concat(n.strokeColorArr[2],")"),n.strokeOpacity=n.strokeColorArr[3],n.strokeWidth=e[0].getImage().getStroke().getWidth(),void 0!==e[0].getImage().getStroke().getWidth()&&(n.strokeWidth=e[0].getImage().getStroke().getWidth()),s()(e[0].getImage().getStroke().getLineDash())?Yl(e[0].getImage().getStroke().getLineDash(),[3*n.strokeWidth,3*n.strokeWidth])?n.strokeType="dash":Yl(e[0].getImage().getStroke().getLineDash(),[3*n.strokeWidth,3*n.strokeWidth,.1,3*n.strokeWidth])?n.strokeType="dash-point":Yl(e[0].getImage().getStroke().getLineDash(),[.1,3*n.strokeWidth])&&(n.strokeType="point"):n.strokeType="line")),null!=e[0].getText()&&(i=e[0].getText().getFont().split(" "),n.textSize=i[0].replaceAll("px",""),i.shift(),n.textFont=i.join(" "),n.textString=e[0].getText().getText(),null!=e[0].getText().getFill()&&(n.fillColorArr=e[0].getText().getFill().getColor(),n.fillColor="rgb(".concat(n.fillColorArr[0],",").concat(n.fillColorArr[1],",").concat(n.fillColorArr[2],")"),n.fillOpacity=n.fillColorArr[3])),t.set("style",n))})),{features:t.writeFeatures(n)}},getFeatures:function(){if(Ol)return Ol.getFeatureStore().getFeatures()},restoreState:function(t){var n;t.features&&0<t.features.length&&(void 0===Ol&&(Ol=new(e().ol.layer.Vector)({group:"none",name:"drawplugin",visible:!0,zIndex:7,source:new(e().ol.source.Vector)}),kl.addLayer(Ol)),(n=Ol.getSource()).addFeatures(t.features),n.getFeatures().forEach((function(t){var e;t.get(Al)&&t.set(Al,t.get(Al)),t.get("style")?(e=Gl(t,t.get("style")),t.setStyle(e)):(e=Gl(t),t.setStyle(e))})))},getActiveTool:function(){return Dl},isActive:Jl},nu={emitToggleDraw:function(t,e){e=e||{},t={type:"toggleDraw",tool:t},o().extend(t,e),o().event.trigger(t)},emitChangeDraw:function(t,e){o().event.trigger({type:"changeDraw",tool:t,active:e})},emitEnableDrawInteraction:function(){o()(".o-map").first().trigger({type:"enableInteraction",detail:{interaction:"draw"}})},emitDisableDrawInteraction:function(){eu.getSelection().clear(),o()(".o-map").first().trigger({type:"enableInteraction",detail:{interaction:"featureInfo"}})},emitChangeEditorDrawType:function(t,e){o().event.trigger({type:"editorDrawTypes",tool:t,drawType:e})}};n(2119),n(844);var iu=e().Utils.default.createElement;var ru,ou,su,au,lu,uu,cu,hu,pu,fu="o-control-active";function du(t){!0===t?(pu.dispatch("toggleClickInteraction",{name:"featureinfo",active:!1}),o()("#o-draw-toolbar").removeClass("o-hidden")):(pu.dispatch("toggleClickInteraction",{name:"featureinfo",active:!0}),o()("#o-draw-toolbar").addClass("o-hidden"))}function gu(t){var e=document.getElementById("o-draw-toolbar");"draw"===t.detail.interaction?du(!0):eu.isActive()&&!e.classList.contains("o-hidden")&&"featureInfo"!==t.detail.interaction?(document.getElementById("o-draw-stylewindow").classList.add("hidden"),e.classList.add("o-hidden"),eu.getSelection().clear(),nu.emitToggleDraw("cancel")):eu.isActive()&&!e.classList.contains("o-hidden")&&(document.getElementById("o-draw-stylewindow").classList.add("hidden"),eu.getSelection().clear(),nu.emitToggleDraw("cancel"),du(!1))}function yu(t,e){!1===e?t.removeClass(fu):t.addClass(fu)}function vu(t){r()(hu).forEach((function(e){e===t.tool?yu(hu[e],t.active):yu(hu[e],!1)}))}const mu=function(){return eu.getState()},_u=function(t){t&&t.controls&&t.controls.draw&&eu.restoreState(t.controls.draw)},xu=function(t){var n=(t=t||{}).options.drawTools;pu=t.viewer,eu.init(t),o()("#".concat("o-tools-bottom")).append('<div id="o-draw-toolbar" class="o-draw-toolbar o-toolbar o-toolbar-horizontal o-padding-horizontal-8 o-rounded-top o-hidden">\n    <button title="Punkt" id="o-draw-point" class="icon-smaller medium round light box-shadow" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_place_24px"></use>\n      </svg>\n    </button>\n    <div class="o-popover-container">\n      <button title="Polygon" id="o-draw-polygon" class="icon-smaller medium round light box-shadow" type="button" name="button">\n        <svg class="icon">\n          <use xlink:href="#o_polygon_24px"></use>\n        </svg>\n      </button>\n    </div>\n    <div class="o-popover-container">\n      <button title="Linje" id="o-draw-polyline" class="icon-smaller medium round light box-shadow" type="button" name="button">\n        <svg class="icon">\n          <use xlink:href="#ic_timeline_24px"></use>\n        </svg>\n      </button>\n    </div>\n    <button title="Text" id="o-draw-text" class="icon-smaller medium round light box-shadow" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_title_24px"></use>\n      </svg>\n    </button>\n    <button title="Stil" id="o-draw-style" class="icon-smaller medium round light box-shadow" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_palette_24px"></use>\n      </svg>\n    </button>\n    <button title="Ta bort" id="o-draw-delete" class="icon-smaller medium round light box-shadow" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_delete_24px"></use>\n      </svg>\n    </button>\n    <button title="StÃ¤ng" id="o-draw-close" class="icon-smaller medium round light box-shadow" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_close_24px"></use>\n      </svg>\n    </button>\n  </div>'),ru=o()("#o-draw-polygon"),ou=o()("#o-draw-polyline"),su=o()("#o-draw-point"),au=o()("#o-draw-text"),lu=o()("#o-draw-style"),uu=o()("#o-draw-delete"),cu=o()("#o-draw-close"),hu={Point:su,Linje:ou,Polygon:ru,Text:au},function(t,n){var i,r,s,a={Polygon:"Polygon",Point:"Punkt",LineString:"Linje",box:"Rektangel",freehand:"FrihandslÃ¤ge"},l=n.getMap(),u=!1,c="o-active",h="draw-toolbar-dropdown";function p(){u&&f(i[0],!1)}function f(t,n){var r;n?1<i.length&&(u=!0,o()("#".concat(h,"-").concat(t," > ul")).remove(),r={target:h,selectOptions:i.map((function(t){var e={};return e.name=a[t],e.value=t,e})),activeTool:i[0]},e().dropdown("".concat(r.target,"-").concat(r.activeTool),r.selectOptions,{dataAttribute:"shape",active:r.activeTool}),o()("#".concat(r.target,"-").concat(r.activeTool)).on("changeDropdown",(function(t){t.stopImmediatePropagation(t),nu.emitChangeEditorDrawType(r.activeTool,t.detail.dataAttribute),p()})),o()("#".concat(h,"-").concat(t)).addClass(c),l.once("click",p)):(u=!1,o()("[id^=".concat(h,"-]")).removeClass(c),l.un("click",p))}for(s in t)t.hasOwnProperty(s)&&(r=iu("div","",{id:"".concat(h,"-").concat(s),cls:"o-popover"}),o()("button[title=".concat(a[s],"]")).after(r),f(s,!1));o()(document).on("changeDraw",(function(e){var n;!0===e.active?(n=e.tool,t[n]?(i=t[n]?t[n].slice(0):[]).unshift(n):i=[n],f(e.tool,!0)):!1===e.active&&f(e.tool,!1),e.stopPropagation()}))}(n,pu),pu.on("toggleClickInteraction",(function(t){gu({detail:t})})),o()(document).on("enableInteraction",gu),o()(document).on("changeDraw",vu),uu.on("click",(function(t){nu.emitToggleDraw("delete"),uu.blur(),t.preventDefault()})),ru.on("click",(function(t){nu.emitToggleDraw("Polygon",!0),ru.blur(),t.preventDefault()})),ou.on("click",(function(t){nu.emitToggleDraw("LineString"),ou.blur(),t.preventDefault()})),su.on("click",(function(t){nu.emitToggleDraw("Point"),su.blur(),t.preventDefault()})),au.on("click",(function(t){nu.emitToggleDraw("Text"),au.blur(),t.preventDefault()})),lu.on("click",(function(t){document.getElementById("o-draw-stylewindow").classList.toggle("hidden"),lu.blur(),t.preventDefault()})),cu.on("click",(function(t){document.getElementById("o-draw-stylewindow").classList.add("hidden"),nu.emitDisableDrawInteraction(),cu.blur(),t.stopPropagation(),t.preventDefault(),document.dispatchEvent(new CustomEvent("toggleInteraction",{bubbles:!0,detail:{interaction:"featureInfo"}}))})),t.isActive&&(du(!0),nu.emitEnableDrawInteraction())},wu=function(){var t,n,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=r.buttonText,s=void 0===o?"Rita":o,a=r.palette;return e().ui.Component({name:"draw",getState:function(){return mu()},getFeatures:function(){return eu.getFeatures()},getFeaturesAsGeojson:function(){return eu.getState()},onAdd:function(e){t=e.target,n=t.getControlByName("mapmenu"),i=n.MenuItem({click:function(){document.dispatchEvent(new CustomEvent("toggleInteraction",{bubbles:!0,detail:{interaction:"draw"}})),nu.emitEnableDrawInteraction(),n.close()},icon:"#fa-pencil",title:s}),xu({viewer:t,options:r}),e=ql({target:t.getMain().getId(),palette:a}),_u(t.getUrlParams()),this.addComponent(e),this.addComponent(i),this.render()},render:function(){n.appendMenuItem(i),this.dispatch("render")}})}})(),Draw=i.default})();