var Draw=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=45)}([function(t,e){t.exports=Origo},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";function o(t){return null!=t&&t===t.window}var s=[],a=Object.getPrototypeOf,l=s.slice,u=s.flat?function(t){return s.flat.call(t)}:function(t){return s.concat.apply([],t)},c=s.push,h=s.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,y=g.call(Object),v={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=n.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,o=(n=n||_).createElement("script");if(o.text=t,e)for(i in x)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var C="3.5.1",b=function(t,e){return new b.fn.init(t,e)};function T(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!m(t)&&!o(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}b.fn=b.prototype={jquery:C,constructor:b,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},b.extend=b.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||m(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(b.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||b.isPlainObject(n)?n:{},r=!1,s[e]=b.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},b.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=a(t))&&("function"!=typeof(n=d.call(e,"constructor")&&e.constructor)||g.call(n)!==y))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){w(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(T(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?b.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(T(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u(s)},guid:1,support:v}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=s[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var E=function(t){function e(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))}function n(){d()}var i,r,o,s,a,l,u,c,h,f,p,d,g,y,v,m,_,x,w,S="sizzle"+ +new Date,C=t.document,b=0,T=0,E=lt(),k=lt(),O=lt(),I=lt(),D=function(t,e){return t===e&&(p=!0),0},P={}.hasOwnProperty,R=[],L=R.pop,A=R.push,F=R.push,M=R.slice,j=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="[\\x20\\t\\r\\n\\f]",G="(?:\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+W+"*("+G+")(?:"+W+"*([*^$|!~]?=)"+W+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+W+"*\\]",q=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",X=new RegExp(W+"+","g"),H=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),z=new RegExp("^"+W+"*,"+W+"*"),Y=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),U=new RegExp(W+"|>"),V=new RegExp(q),K=new RegExp("^"+G+"$"),$={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,it=new RegExp("\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\([^\\r\\n\\f])","g"),rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=xt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{F.apply(R=M.call(C.childNodes),C.childNodes),R[C.childNodes.length].nodeType}catch(i){F={apply:R.length?function(t,e){A.apply(t,M.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,n,i){var o,s,a,u,h,f,p,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return n;if(!i&&(d(e),e=e||g,v)){if(11!==_&&(h=et.exec(t)))if(o=h[1]){if(9===_){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(y&&(a=y.getElementById(o))&&w(e,a)&&a.id===o)return n.push(a),n}else{if(h[2])return F.apply(n,e.getElementsByTagName(t)),n;if((o=h[3])&&r.getElementsByClassName&&e.getElementsByClassName)return F.apply(n,e.getElementsByClassName(o)),n}if(r.qsa&&!I[t+" "]&&(!m||!m.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(p=t,y=e,1===_&&(U.test(t)||Y.test(t))){for((y=nt.test(t)&&vt(e.parentNode)||e)===e&&r.scope||((u=e.getAttribute("id"))?u=u.replace(rt,ot):e.setAttribute("id",u=S)),s=(f=l(t)).length;s--;)f[s]=(u?"#"+u:":scope")+" "+_t(f[s]);p=f.join(",")}try{return F.apply(n,y.querySelectorAll(p)),n}catch(e){I(t,!0)}finally{u===S&&e.removeAttribute("id")}}}return c(t.replace(H,"$1"),e,n,i)}function lt(){var t=[];return function e(n,i){return t.push(n+" ")>o.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ut(t){return t[S]=!0,t}function ct(t){var e=g.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)o.attrHandle[n[i]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function yt(t){return ut((function(e){return e=+e,ut((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(i in r=at.support={},a=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!Z.test(e||n&&n.nodeName||"HTML")},d=at.setDocument=function(t){var i,s,l=t?t.ownerDocument||t:C;return l!=g&&9===l.nodeType&&l.documentElement&&(y=(g=l).documentElement,v=!a(g),C!=g&&(s=g.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",n,!1):s.attachEvent&&s.attachEvent("onunload",n)),r.scope=ct((function(t){return y.appendChild(t).appendChild(g.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),r.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),r.getElementsByTagName=ct((function(t){return t.appendChild(g.createComment("")),!t.getElementsByTagName("*").length})),r.getElementsByClassName=tt.test(g.getElementsByClassName),r.getById=ct((function(t){return y.appendChild(t).id=S,!g.getElementsByName||!g.getElementsByName(S).length})),r.getById?(o.filter.ID=function(t){var n=t.replace(it,e);return function(t){return t.getAttribute("id")===n}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(o.filter.ID=function(t){var n=t.replace(it,e);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},o.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),o.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},o.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},_=[],m=[],(r.qsa=tt.test(g.querySelectorAll))&&(ct((function(t){var e;y.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+W+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+W+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+S+"-]").length||m.push("~="),(e=g.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+W+"*name"+W+"*="+W+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=g.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+W+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),y.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=tt.test(x=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.oMatchesSelector||y.msMatchesSelector))&&ct((function(t){r.disconnectedMatch=x.call(t,"*"),x.call(t,"[s!='']:x"),_.push("!=",q)})),m=m.length&&new RegExp(m.join("|")),_=_.length&&new RegExp(_.join("|")),i=tt.test(y.compareDocumentPosition),w=i||tt.test(y.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=i?function(t,e){if(t===e)return p=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===n?t==g||t.ownerDocument==C&&w(C,t)?-1:e==g||e.ownerDocument==C&&w(C,e)?1:f?j(f,t)-j(f,e):0:4&n?-1:1)}:function(t,e){if(t===e)return p=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t==g?-1:e==g?1:r?-1:o?1:f?j(f,t)-j(f,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]==C?-1:a[i]==C?1:0}),g},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(d(t),r.matchesSelector&&v&&!I[e+" "]&&(!_||!_.test(e))&&(!m||!m.test(e)))try{var n=x.call(t,e);if(n||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){I(e,!0)}return 0<at(e,g,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=g&&d(t),w(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=g&&d(t);var n=o.attrHandle[e.toLowerCase()],i=n&&P.call(o.attrHandle,e.toLowerCase())?n(t,e,!v):void 0;return void 0!==i?i:r.attributes||!v?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(rt,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,o=0;if(p=!r.detectDuplicates,f=!r.sortStable&&t.slice(0),t.sort(D),p){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return f=null,t},s=at.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=s(e);return n},(o=at.selectors={cacheLength:50,createPseudo:ut,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,e),t[3]=(t[3]||t[4]||t[5]||"").replace(it,e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=l(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(it,e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===n}},CLASS:function(t){var e=E[t+" "];return e||(e=new RegExp("(^|"+W+")"+t+"("+W+"|$)"))&&E(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&-1<r.indexOf(n):"$="===e?n&&r.slice(-n.length)===n:"~="===e?-1<(" "+r.replace(X," ")+" ").indexOf(n):"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,g=o!=s?"nextSibling":"previousSibling",y=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!l&&!a,_=!1;if(y){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?y.firstChild:y.lastChild],s&&m){for(_=(p=(u=(c=(h=(f=y)[S]||(f[S]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1])&&u[2],f=p&&y.childNodes[p];f=++p&&f&&f[g]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[b,p,_];break}}else if(m&&(_=p=(u=(c=(h=(f=e)[S]||(f[S]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===b&&u[1]),!1===_)for(;(f=++p&&f&&f[g]||(_=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(m&&((c=(h=f[S]||(f[S]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[b,_]),f!==e)););return(_-=r)===i||_%i==0&&0<=_/i}}},PSEUDO:function(t,e){var n,i=o.pseudos[t]||o.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return i[S]?i(e):1<i.length?(n=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=j(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:ut((function(t){var e=[],n=[],i=u(t.replace(H,"$1"));return i[S]?ut((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return 0<at(t,e).length}})),contains:ut((function(t){return t=t.replace(it,e),function(e){return-1<(e.textContent||s(e)).indexOf(t)}})),lang:ut((function(t){return K.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(it,e).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===y},focus:function(t){return t===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:yt((function(){return[0]})),last:yt((function(t,e){return[e-1]})),eq:yt((function(t,e,n){return[n<0?n+e:n]})),even:yt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:yt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:yt((function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t})),gt:yt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[i]=pt(i);for(i in{submit:!0,reset:!0})o.pseudos[i]=dt(i);function mt(){}function _t(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function xt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[b,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[S]||(e[S]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===b&&u[1]===a)return f[2]=u[2];if((c[o]=f)[2]=t(e,n,l))return!0}return!1}}function wt(t){return 1<t.length?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function St(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function Ct(t,e,n,i,r,o){return i&&!i[S]&&(i=Ct(i)),r&&!r[S]&&(r=Ct(r,o)),ut((function(o,s,a,l){var u,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),y=!t||!o&&e?g:St(g,f,t,a,l),v=n?r||(o?t:d||i)?[]:s:y;if(n&&n(y,v,a,l),i)for(u=St(v,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(y[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(y[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&-1<(u=r?j(o,h):f[c])&&(o[u]=!(s[u]=h))}}else v=St(v===s?v.splice(d,v.length):v),r?r(null,s,v,l):F.apply(s,v)}))}function bt(t){for(var e,n,i,r=t.length,s=o.relative[t[0].type],a=s||o.relative[" "],l=s?1:0,u=xt((function(t){return t===e}),a,!0),c=xt((function(t){return-1<j(e,t)}),a,!0),f=[function(t,n,i){var r=!s&&(i||n!==h)||((e=n).nodeType?u:c)(t,n,i);return e=null,r}];l<r;l++)if(n=o.relative[t[l].type])f=[xt(wt(f),n)];else{if((n=o.filter[t[l].type].apply(null,t[l].matches))[S]){for(i=++l;i<r&&!o.relative[t[i].type];i++);return Ct(1<l&&wt(f),1<l&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(H,"$1"),n,l<i&&bt(t.slice(l,i)),i<r&&bt(t=t.slice(i)),i<r&&_t(t))}f.push(n)}return wt(f)}return mt.prototype=o.filters=o.pseudos,o.setFilters=new mt,l=at.tokenize=function(t,e){var n,i,r,s,a,l,u,c=k[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=o.preFilter;a;){for(s in n&&!(i=z.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=Y.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(H," ")}),a=a.slice(n.length)),o.filter)!(i=$[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,l).slice(0)},u=at.compile=function(t,e){var n,i=[],r=[],s=O[t+" "];if(!s){for(n=(e=e||l(t)).length;n--;)(s=bt(e[n]))[S]?i.push(s):r.push(s);(s=O(t,function(t,e){function n(n,s,a,l,u){var c,f,p,y=0,m="0",_=n&&[],x=[],w=h,S=n||r&&o.find.TAG("*",u),C=b+=null==w?1:Math.random()||.1,T=S.length;for(u&&(h=s==g||s||u);m!==T&&null!=(c=S[m]);m++){if(r&&c){for(f=0,s||c.ownerDocument==g||(d(c),a=!v);p=t[f++];)if(p(c,s||g,a)){l.push(c);break}u&&(b=C)}i&&((c=!p&&c)&&y--,n&&_.push(c))}if(y+=m,i&&m!==y){for(f=0;p=e[f++];)p(_,x,s,a);if(n){if(0<y)for(;m--;)_[m]||x[m]||(x[m]=L.call(l));x=St(x)}F.apply(l,x),u&&!n&&0<x.length&&1<y+e.length&&at.uniqueSort(l)}return u&&(b=C,h=w),_}var i=0<e.length,r=0<t.length;return i?ut(n):n}(r,i))).selector=t}return s},c=at.select=function(t,n,i,r){var s,a,c,h,f,p="function"==typeof t&&t,d=!r&&l(t=p.selector||t);if(i=i||[],1===d.length){if(2<(a=d[0]=d[0].slice(0)).length&&"ID"===(c=a[0]).type&&9===n.nodeType&&v&&o.relative[a[1].type]){if(!(n=(o.find.ID(c.matches[0].replace(it,e),n)||[])[0]))return i;p&&(n=n.parentNode),t=t.slice(a.shift().value.length)}for(s=$.needsContext.test(t)?0:a.length;s--&&(c=a[s],!o.relative[h=c.type]);)if((f=o.find[h])&&(r=f(c.matches[0].replace(it,e),nt.test(a[0].type)&&vt(n.parentNode)||n))){if(a.splice(s,1),!(t=r.length&&_t(a)))return F.apply(i,r),i;break}}return(p||u(t,d))(r,n,!v,i,!n||nt.test(t)&&vt(n.parentNode)||n),i},r.sortStable=S.split("").sort(D).join("")===S,r.detectDuplicates=!!p,d(),r.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(g.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),r.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(N,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(n);function k(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&b(t).is(n))break;i.push(t)}return i}function O(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}b.find=E,b.expr=E.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=E.uniqueSort,b.text=E.getText,b.isXMLDoc=E.isXML,b.contains=E.contains,b.escapeSelector=E.escape;var I=b.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(t,e,n){return m(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?b.grep(t,(function(t){return-1<h.call(e,t)!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,r[e],n);return 1<i?b.uniqueSort(n):n},filter:function(t){return this.pushStack(R(this,t||[],!1))},not:function(t){return this.pushStack(R(this,t||[],!0))},is:function(t){return!!R(this,"string"==typeof t&&I.test(t)?b(t):t||[],!1).length}});var L,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:A.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:_,!0)),P.test(i[1])&&b.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=_.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=b.fn,L=b(_);var F=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&b(t);if(!I.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&b.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?b.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(b(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(D(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var r=b.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=b.filter(i,r)),1<this.length&&(M[t]||b.uniqueSort(r),F.test(t)&&r.reverse()),this.pushStack(r)}}));var N=/[^\x20\t\r\n\f]+/g;function W(t){return t}function G(t){throw t}function B(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){var e,n;function i(){for(a=a||t.once,s=r=!0;u.length;c=-1)for(o=u.shift();++c<l.length;)!1===l[c].apply(o[0],o[1])&&t.stopOnFalse&&(c=l.length,o=!1);t.memory||(o=!1),r=!1,a&&(l=o?[]:"")}t="string"==typeof t?(e=t,n={},b.each(e.match(N)||[],(function(t,e){n[e]=!0})),n):b.extend({},t);var r,o,s,a,l=[],u=[],c=-1,h={add:function(){return l&&(o&&!r&&(c=l.length-1,u.push(o)),function e(n){b.each(n,(function(n,i){m(i)?t.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==S(i)&&e(i)}))}(arguments),o&&!r&&i()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;-1<(n=b.inArray(e,l,n));)l.splice(n,1),n<=c&&c--})),this},has:function(t){return t?-1<b.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=u=[],l=o="",this},disabled:function(){return!l},lock:function(){return a=u=[],o||r||(l=o=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),r||i()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},b.extend({Deferred:function(t){var e=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(n){b.each(e,(function(e,i){var r=m(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){function a(){var n,a;if(!(t<o)){if((n=i.apply(l,u))===e.promise())throw new TypeError("Thenable self-resolution");a=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(a)?r?a.call(n,s(o,e,W,r),s(o,e,G,r)):(o++,a.call(n,s(o,e,W,r),s(o,e,G,r),s(o,e,W,e.notifyWith))):(i!==W&&(l=void 0,u=[n]),(r||e.resolveWith)(l,u))}}var l=this,u=arguments,c=r?a:function(){try{a()}catch(n){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(n,c.stackTrace),o<=t+1&&(i!==G&&(l=void 0,u=[n]),e.rejectWith(l,u))}};t?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),n.setTimeout(c))}}return b.Deferred((function(n){e[0][3].add(s(0,n,m(r)?r:W,n.notifyWith)),e[1][3].add(s(0,n,m(t)?t:W)),e[2][3].add(s(0,n,m(i)?i:G))})).promise()},promise:function(t){return null!=t?b.extend(t,r):r}},o={};return b.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){function e(t){return function(e){r[t]=this,o[t]=1<arguments.length?l.call(arguments):e,--n||s.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=l.call(arguments),s=b.Deferred();if(n<=1&&(B(t,s.done(e(i)).resolve,s.reject,!n),"pending"===s.state()||m(o[i]&&o[i].then)))return s.then();for(;i--;)B(o[i],e(i),s.reject);return s.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},b.readyException=function(t){n.setTimeout((function(){throw t}))};var X=b.Deferred();function H(){_.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),b.ready()}b.fn.ready=function(t){return X.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0)!==t&&0<--b.readyWait||X.resolveWith(_,[b])}}),b.ready.then=X.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?n.setTimeout(b.ready):(_.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var z=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===S(n))for(a in r=!0,n)z(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,m(i)||(s=!0),u&&(e=s?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(b(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Y=/^-ms-/,U=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function K(t){return t.replace(Y,"ms-").replace(U,V)}function $(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Z(){this.expando=b.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(N)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!b.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var J=new Z,Q=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i,r;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:tt.test(r)?JSON.parse(r):r)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0!==t)return"object"==typeof t?this.each((function(){Q.set(this,t)})):z(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))||void 0!==(n=nt(o,t))?n:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,1<arguments.length,null,!0);if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=b.queue(t,e),i=n.length,r=n.shift(),o=b._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){b.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:b.Callbacks("once memory").add((function(){J.remove(t,[e+"queue",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=b.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=J.get(s[a],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=_.documentElement,at=function(t){return b.contains(t.ownerDocument,t)},lt={composed:!0};st.getRootNode&&(at=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===b.css(t,"display")};function ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return b.css(t,e,"")},l=a(),u=n&&n[3]||(b.cssNumber[e]?"":"px"),c=t.nodeType&&(b.cssNumber[e]||"px"!==u&&+l)&&rt.exec(b.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)b.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,b.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ht={};function ft(t,e){for(var n,i,r,o,s,a,l,u=[],c=0,h=t.length;c<h;c++)(i=t[c]).style&&(n=i.style.display,e?("none"===n&&(u[c]=J.get(i,"display")||null,u[c]||(i.style.display="")),""===i.style.display&&ut(i)&&(u[c]=(l=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(l=ht[a])||(o=s.body.appendChild(s.createElement(a)),l=b.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),ht[a]=l)))):"none"!==n&&(u[c]="none",J.set(i,"display",n)));for(c=0;c<h;c++)null!=u[c]&&(t[c].style.display=u[c]);return t}b.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?b(this).show():b(this).hide()}))}});var pt,dt,gt=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;pt=_.createDocumentFragment().appendChild(_.createElement("div")),(dt=_.createElement("input")).setAttribute("type","radio"),dt.setAttribute("checked","checked"),dt.setAttribute("name","t"),pt.appendChild(dt),v.checkClone=pt.cloneNode(!0).cloneNode(!0).lastChild.checked,pt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!pt.cloneNode(!0).lastChild.defaultValue,pt.innerHTML="<option></option>",v.option=!!pt.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?b.merge([t],n):n}function xt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,v.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var wt=/<|&#?\w+;/;function St(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===S(o))b.merge(f,o.nodeType?[o]:o);else if(wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(yt.exec(o)||["",""])[1].toLowerCase(),l=mt[a]||mt._default,s.innerHTML=l[1]+b.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;b.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&-1<b.inArray(o,i))r&&r.push(o);else if(u=at(o),s=_t(h.appendChild(o),"script"),u&&xt(s),n)for(c=0;o=s[c++];)vt.test(o.type||"")&&n.push(o);return h}var Ct=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function kt(){return!1}function Ot(t,e){return t===function(){try{return _.activeElement}catch(t){}}()==("focus"===e)}function It(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)It(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return b().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),t.each((function(){b.event.add(this,e,r,i,n)}))}function Dt(t,e,n){n?(J.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=l.call(arguments),J.set(this,e,o),i=n(this,e),this[e](),o!==(r=J.get(this,e))||i?J.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(J.set(this,e,{value:b.event.trigger(b.extend(o[0],b.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===J.get(t,e)&&b.event.add(t,e,Et)}b.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,y=J.get(t);if($(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&b.find.matchesSelector(st,r),n.guid||(n.guid=b.guid++),(l=y.events)||(l=y.events=Object.create(null)),(s=y.handle)||(s=y.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)p=g=(a=Tt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=b.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},c=b.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),b.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,y=J.hasData(t)&&J.get(t);if(y&&(l=y.events)){for(u=(e=(e||"").match(N)||[""]).length;u--;)if(p=g=(a=Tt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=b.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,y.handle)||b.removeEvent(t,p,y.handle),delete l[p])}else for(p in l)b.event.remove(t,p+e[u],n,i,!0);b.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),l=b.event.fix(t),u=(J.get(this,"events")||Object.create(null))[l.type]||[],c=b.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(s=b.event.handlers.call(this,l,u),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<b(r,this).index(u):b.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Dt(e,"click",Et),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&D(e,"input")&&Dt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&D(e,"input")&&J.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},(function(t,e){b.event.special[t]={setup:function(){return Dt(this,t,Ot),!1},trigger:function(){return Dt(this,t),!0},delegateType:e}})),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||b.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return It(this,t,e,n,i)},one:function(t,e,n,i){return It(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each((function(){b.event.remove(this,t,n,e)}));for(r in t)this.off(r,e,t[r]);return this}});var Pt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(J.hasData(t)&&(a=J.get(t).events))for(r in J.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)b.event.add(e,r,a[r][n]);Q.hasData(t)&&(o=Q.access(t),s=b.extend({},o),Q.set(e,s))}}function Nt(t,e,n,i){e=u(e);var r,o,s,a,l,c,h=0,f=t.length,p=f-1,d=e[0],g=m(d);if(g||1<f&&"string"==typeof d&&!v.checkClone&&Rt.test(d))return t.each((function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Nt(o,e,n,i)}));if(f&&(o=(r=St(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=b.map(_t(r,"script"),Ft)).length;h<f;h++)l=r,h!==p&&(l=b.clone(l,!0,!0),a&&b.merge(s,_t(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,b.map(s,Mt),h=0;h<a;h++)l=s[h],vt.test(l.type||"")&&!J.access(l,"globalEval")&&b.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?b._evalUrl&&!l.noModule&&b._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):w(l.textContent.replace(Lt,""),l,c))}return t}function Wt(t,e,n){for(var i,r=e?b.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||b.cleanData(_t(i)),i.parentNode&&(n&&at(i)&&xt(_t(i,"script")),i.parentNode.removeChild(i));return t}function Gt(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a,l,u,c=t.cloneNode(!0),h=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(s=_t(c),i=0,r=(o=_t(t)).length;i<r;i++)a=o[i],"input"===(u=(l=s[i]).nodeName.toLowerCase())&&gt.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||_t(t),s=s||_t(c),i=0,r=o.length;i<r;i++)jt(o[i],s[i]);else jt(t,c);return 0<(s=_t(c,"script")).length&&xt(s,!h&&_t(t,"script")),c},cleanData:function(t){for(var e,n,i,r=b.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Wt(this,t,!0)},remove:function(t){return Wt(this,t)},text:function(t){return z(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Nt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)}))},prepend:function(){return Nt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Nt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return z(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!mt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(_t(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],r=b(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),b(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Bt,qt,Xt,Ht,zt,Yt,Ut,Vt,Kt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),$t=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Zt=new RegExp(ot.join("|"),"i");function Jt(){if(Vt){Ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(Ut).appendChild(Vt);var t=n.getComputedStyle(Vt);Bt="1%"!==t.top,Yt=12===Qt(t.marginLeft),Vt.style.right="60%",Ht=36===Qt(t.right),qt=36===Qt(t.width),Vt.style.position="absolute",Xt=12===Qt(Vt.offsetWidth/3),st.removeChild(Ut),Vt=null}}function Qt(t){return Math.round(parseFloat(t))}function te(t,e,n){var i,r,o,s,a=t.style;return(n=n||$t(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=b.style(t,e)),!v.pixelBoxStyles()&&Kt.test(s)&&Zt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function ee(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ut=_.createElement("div"),(Vt=_.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Vt.style.backgroundClip,b.extend(v,{boxSizingReliable:function(){return Jt(),qt},pixelBoxStyles:function(){return Jt(),Ht},pixelPosition:function(){return Jt(),Bt},reliableMarginLeft:function(){return Jt(),Yt},scrollboxSize:function(){return Jt(),Xt},reliableTrDimensions:function(){var t,e,i,r;return null==zt&&(t=_.createElement("table"),e=_.createElement("tr"),i=_.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",st.appendChild(t).appendChild(e).appendChild(i),r=n.getComputedStyle(e),zt=3<parseInt(r.height),st.removeChild(t)),zt}}));var ne=["Webkit","Moz","ms"],ie=_.createElement("div").style,re={};function oe(t){return b.cssProps[t]||re[t]||(t in ie?t:re[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ne.length;n--;)if((t=ne[n]+e)in ie)return t}(t)||t)}var se=/^(none|table(?!-c[ea]).+)/,ae=/^--/,le={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"};function ce(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function he(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=b.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=b.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=b.css(t,"border"+ot[s]+"Width",!0,r))):(l+=b.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=b.css(t,"border"+ot[s]+"Width",!0,r):a+=b.css(t,"border"+ot[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function fe(t,e,n){var i=$t(t),r=(!v.boxSizingReliable()||n)&&"border-box"===b.css(t,"boxSizing",!1,i),o=r,s=te(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Kt.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&D(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===b.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===b.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+he(t,e,n||(r?"border":"content"),o,i,s)+"px"}function pe(t,e,n,i,r){return new pe.prototype.init(t,e,n,i,r)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=te(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=K(e),l=ae.test(e),u=t.style;if(l||(e=oe(a)),s=b.cssHooks[e]||b.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(b.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=K(e);return ae.test(e)||(e=oe(a)),(s=b.cssHooks[e]||b.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=te(t,e,i)),"normal"===r&&e in ue&&(r=ue[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),b.each(["height","width"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!se.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?fe(t,e,i):Gt(t,le,(function(){return fe(t,e,i)}))},set:function(t,n,i){var r,o=$t(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===b.css(t,"boxSizing",!1,o),l=i?he(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-he(t,e,"border",!1,o)-.5)),l&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=b.css(t,e)),ce(0,n,l)}}})),b.cssHooks.marginLeft=ee(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(te(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),b.each({margin:"",padding:"",border:"Width"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(b.cssHooks[t+e].set=ce)})),b.fn.extend({css:function(t,e){return z(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=$t(t),r=e.length;s<r;s++)o[e[s]]=b.css(t,e[s],!1,i);return o}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,1<arguments.length)}}),((b.Tween=pe).prototype={constructor:pe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var t=pe.propHooks[this.prop];return t&&t.get?t.get(this):pe.propHooks._default.get(this)},run:function(t){var e,n=pe.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):pe.propHooks._default.set(this),this}}).init.prototype=pe.prototype,(pe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[oe(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=pe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},b.fx=pe.prototype.init,b.fx.step={};var de,ge,ye,ve,me=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;function xe(){ge&&(!1===_.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(xe):n.setTimeout(xe,b.fx.interval),b.fx.tick())}function we(){return n.setTimeout((function(){de=void 0})),de=Date.now()}function Se(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Ce(t,e,n){for(var i,r=(be.tweeners[e]||[]).concat(be.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function be(t,e,n){var i,r,o=0,s=be.prefilters.length,a=b.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=de||we(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||we(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=b.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=be.prefilters[o].call(u,t,c,u.opts))return m(i.stop)&&(b._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return b.map(c,Ce,u),m(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),b.fx.timer(b.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}b.Animation=b.extend(be,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=m(t)?(e=t,["*"]):t.match(N)).length;i<r;i++)n=t[i],be.tweeners[n]=be.tweeners[n]||[],be.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&ut(t),y=J.get(t,"fxshow");for(i in n.queue||(null==(s=b._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,b.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],me.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!y||void 0===y[i])continue;g=!0}p[i]=y&&y[i]||b.style(t,i)}if((l=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=y&&y.display)&&(u=J.get(t,"display")),"none"===(c=b.css(t,"display"))&&(u?c=u:(ft([t],!0),u=t.style.display||u,c=b.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===b.css(t,"float")&&(l||(f.done((function(){d.display=u})),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),l=!1,p)l||(y?"hidden"in y&&(g=y.hidden):y=J.access(t,"fxshow",{display:u}),o&&(y.hidden=!g),g&&ft([t],!0),f.done((function(){for(i in g||ft([t]),J.remove(t,"fxshow"),p)b.style(t,i,p[i])}))),l=Ce(g?y[i]:0,i,f),i in y||(y[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?be.prefilters.unshift(t):be.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&"object"==typeof t?b.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return b.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){function r(){var e=be(this,b.extend({},t),s);(o||J.get(this,"finish"))&&e.stop(!0)}var o=b.isEmptyObject(t),s=b.speed(e,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){function i(t){var e=t.stop;delete t.stop,e(n)}return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=b.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&_e.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=b.timers,s=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each(["toggle","show","hide"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Se(e,!0),t,i,r)}})),b.each({slideDown:Se("show"),slideUp:Se("hide"),slideToggle:Se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(de=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),de=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){ge||(ge=!0,xe())},b.fx.stop=function(){ge=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,e){return t=b.fx&&b.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},ye=_.createElement("input"),ve=_.createElement("select").appendChild(_.createElement("option")),ye.type="checkbox",v.checkOn=""!==ye.value,v.optSelected=ve.selected,(ye=_.createElement("input")).value="t",ye.type="radio",v.radioValue="t"===ye.value;var Te,Ee=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return z(this,b.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?b.prop(t,e,n):(1===o&&b.isXMLDoc(t)||(r=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?Te:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))||null!=(i=b.find.attr(t,e))?i:void 0)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(N);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Te={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Ee[e]||b.find.attr;Ee[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=Ee[s],Ee[s]=r,r=null!=n(t,e,i)?s:null,Ee[s]=o),r}}));var ke=/^(?:input|select|textarea|button)$/i,Oe=/^(?:a|area)$/i;function Ie(t){return(t.match(N)||[]).join(" ")}function De(t){return t.getAttribute&&t.getAttribute("class")||""}function Pe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}b.fn.extend({prop:function(t,e){return z(this,b.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(t)||(e=b.propFix[e]||e,r=b.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):ke.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(m(t))return this.each((function(e){b(this).addClass(t.call(this,e,De(this)))}));if((e=Pe(t)).length)for(;n=this[l++];)if(r=De(n),i=1===n.nodeType&&" "+Ie(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=Ie(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(m(t))return this.each((function(e){b(this).removeClass(t.call(this,e,De(this)))}));if(!arguments.length)return this.attr("class","");if((e=Pe(t)).length)for(;n=this[l++];)if(r=De(n),i=1===n.nodeType&&" "+Ie(r)+" "){for(s=0;o=e[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=Ie(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"==n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,De(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=b(this),s=Pe(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!=n||((e=De(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&J.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Ie(De(n))+" ").indexOf(e))return!0;return!1}});var Re=/\r/g;function Le(t){t.stopPropagation()}b.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,b(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,(function(t){return null==t?"":t+""}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Re,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:Ie(b.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=b(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=b.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<b.inArray(b.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<b.inArray(b(t).val(),e)}},v.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in n;var Ae=/^(?:focusinfocus|focusoutblur)$/;b.extend(b.event,{trigger:function(t,e,i,r){var s,a,l,u,c,h,f,p,g=[i||_],y=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=i=i||_,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(y+b.event.triggered)&&(-1<y.indexOf(".")&&(y=(v=y.split(".")).shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[b.expando]?t:new b.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:b.makeArray(e,[t]),f=b.event.special[y]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!o(i)){for(u=f.delegateType||y,Ae.test(u+y)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(i.ownerDocument||_)&&g.push(l.defaultView||l.parentWindow||n)}for(s=0;(a=g[s++])&&!t.isPropagationStopped();)p=a,t.type=1<s?u:f.bindType||y,(h=(J.get(a,"events")||Object.create(null))[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&$(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!$(i)||c&&m(i[y])&&!o(i)&&((l=i[c])&&(i[c]=null),b.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Le),i[y](),t.isPropagationStopped()&&p.removeEventListener(y,Le),b.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),v.focusin||b.each({focus:"focusin",blur:"focusout"},(function(t,e){function n(t){b.event.simulate(e,t.target,b.event.fix(t))}b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}}));var Fe=n.location,Me={guid:Date.now()},je=/\?/;b.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),e};var Ne=/\[\]$/,We=/\r?\n/g,Ge=/^(?:submit|button|image|reset|file)$/i,Be=/^(?:input|select|textarea|keygen)/i;function qe(t,e,n,i){var r;if(Array.isArray(e))b.each(e,(function(e,r){n||Ne.test(t)?i(t,r):qe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==S(e))i(t,e);else for(r in e)qe(t+"["+r+"]",e[r],n,i)}b.param=function(t,e){function n(t,e){var n=m(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)}var i,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){n(this.name,this.value)}));else for(i in t)qe(i,t[i],e,n);return r.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Be.test(this.nodeName)&&!Ge.test(t)&&(this.checked||!gt.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(We,"\r\n")}})):{name:e.name,value:n.replace(We,"\r\n")}})).get()}});var Xe=/%20/g,He=/#.*$/,ze=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:GET|HEAD)$/,Ve=/^\/\//,Ke={},$e={},Ze="*/".concat("*"),Je=_.createElement("a");function Qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(N)||[];if(m(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function tn(t,e,n,i){var r={},o=t===$e;function s(a){var l;return r[a]=!0,b.each(t[a]||[],(function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function en(t,e){var n,i,r=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&b.extend(!0,t,i),t}Je.href=Fe.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Fe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?en(en(t,b.ajaxSettings),e):en(b.ajaxSettings,t)},ajaxPrefilter:Qe(Ke),ajaxTransport:Qe($e),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,l,u,c,h,f,p=b.ajaxSetup({},e),d=p.context||p,g=p.context&&(d.nodeType||d.jquery)?b(d):b.event,y=b.Deferred(),v=b.Callbacks("once memory"),m=p.statusCode||{},x={},w={},S="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ye.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||S;return i&&i.abort(e),T(0,e),this}};if(y.promise(C),p.url=((t||p.url||Fe.href)+"").replace(Ve,Fe.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=_.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Je.protocol+"//"+Je.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),tn(Ke,p,e,C),u)return C;for(h in(c=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),r=p.url.replace(He,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Xe,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(je.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(ze,"$1"),f=(je.test(r)?"&":"?")+"_="+Me.guid+++f),p.url=r+f),p.ifModified&&(b.lastModified[r]&&C.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&C.setRequestHeader("If-None-Match",b.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ze+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(d,C,p)||u))return C.abort();if(S="abort",v.add(p.complete),C.done(p.success),C.fail(p.error),i=tn($e,p,e,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,p]),u)return C;p.async&&0<p.timeout&&(a=n.setTimeout((function(){C.abort("timeout")}),p.timeout));try{u=!1,i.send(x,T)}catch(t){if(u)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,s,l){var h,f,_,x,w,S=e;u||(u=!0,a&&n.clearTimeout(a),i=void 0,o=l||"",C.readyState=0<t?4:0,h=200<=t&&t<300||304===t,s&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,C,s)),!h&&-1<b.inArray("script",p.dataTypes)&&(p.converters["text script"]=function(){}),x=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,x,C,h),h?(p.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=w),(w=C.getResponseHeader("etag"))&&(b.etag[r]=w)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=x.state,f=x.data,h=!(_=x.error))):(_=S,!t&&S||(S="error",t<0&&(t=0))),C.status=t,C.statusText=(e||S)+"",h?y.resolveWith(d,[f,S,C]):y.rejectWith(d,[C,S,_]),C.statusCode(m),m=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,p,h?f:_]),v.fireWith(d,[C,S]),c&&(g.trigger("ajaxComplete",[C,p]),--b.active||b.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return b.get(t,e,n,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],(function(t,e){b[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:r,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return m(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=m(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var nn={0:200,1223:204},rn=b.ajaxSettings.xhr();v.cors=!!rn&&"withCredentials"in rn,v.ajax=rn=!!rn,b.ajaxTransport((function(t){var e,i;if(v.cors||rn&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(nn[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(e)throw r}},abort:function(){e&&e()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),b.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=b("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),_.head.appendChild(e[0])},abort:function(){n&&n()}}}));var on,sn=[],an=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=sn.pop()||b.expando+"_"+Me.guid++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(an.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&an.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(an,"$1"+r):!1!==t.jsonp&&(t.url+=(je.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||b.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?b(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,sn.push(r)),s&&m(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=((on=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===on.childNodes.length),b.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,e.head.appendChild(i)):e=_),o=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=St([t],e,o),o&&o.length&&b(o).remove(),b.merge([],r.childNodes)));var i,r,o},b.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=Ie(t.slice(a)),t=t.slice(0,a)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&b.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?b("<div>").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=b.css(t,"position"),c=b(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=b.css(t,"top"),l=b.css(t,"left"),r=("absolute"===u||"fixed"===u)&&-1<(o+l).indexOf("auto")?(s=(i=c.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(l)||0),m(e)&&(e=e.call(t,n,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===b.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),r.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-b.css(i,"marginTop",!0),left:e.left-r.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||st}))}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;b.fn[t]=function(i){return z(this,(function(t,i,r){var s;if(o(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r}),t,i,arguments.length)}})),b.each(["top","left"],(function(t,e){b.cssHooks[e]=ee(v.pixelPosition,(function(t,n){if(n)return n=te(t,e),Kt.test(n)?b(t).position()[e]+"px":n}))})),b.each({Height:"height",Width:"width"},(function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){b.fn[i]=function(r,s){var a=arguments.length&&(n||"boolean"!=typeof r),l=n||(!0===r||!0===s?"margin":"border");return z(this,(function(e,n,r){var s;return o(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?b.css(e,n,l):b.style(e,n,r,l)}),e,a?r:void 0,a)}}))})),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){b.fn[e]=function(t,n){return 0<arguments.length?this.on(e,null,t,n):this.trigger(e)}}));var ln=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||b.guid++,r},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=D,b.isFunction=m,b.isWindow=o,b.camelCase=K,b.type=S,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?"":(t+"").replace(ln,"")},void 0===(i=function(){return b}.apply(e,[]))||(t.exports=i);var un=n.jQuery,cn=n.$;return b.noConflict=function(t){return n.$===b&&(n.$=cn),t&&n.jQuery===b&&(n.jQuery=un),b},void 0===r&&(n.jQuery=n.$=b),b}))},function(t,e,n){var i=n(37)("wks"),r=n(36),o=n(8).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(12);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){t.exports=n(79)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(8),r=n(14),o=n(73),s=n(36)("src"),a=n(74),l="toString",u=(""+a).split(l);n(22).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,s)||r(n,s,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var i=n(35),r=n(72);t.exports=n(6)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){t.exports=function(){"use strict";function t(t,i,r,o,s){!function t(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-l*c/a+h)),Math.min(o,Math.floor(i+(a-l)*c/a+h)),s)}var f=n[i],p=r,d=o;for(e(n,r,i),s(n[o],f)>0&&e(n,r,o);p<d;){for(e(n,p,d),p++,d--;s(n[p],f)<0;)p++;for(;s(n[d],f)>0;)d--}0===s(n[r],f)?e(n,r,d):e(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(t,i,r||0,o||t.length-1,s||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(r,t.leaf?i(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?i(s):s;p(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=d([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf){var c=r(t,s.children,e);if(-1!==c)return s.children.splice(c,1),l.push(s),this._condense(l),this}o||s.leaf||!f(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=d(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=d([])).leaf=!1,r.height=i;var l=Math.ceil(s/a),u=l*Math.ceil(Math.sqrt(a));g(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var h=Math.min(c+u-1,n);g(t,c,h,l,this.compareMinY);for(var f=c;f<=h;f+=l){var p=Math.min(f+l-1,h);r.children.push(this._build(t,f,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var l=e.children[a],u=c(l),h=(f=t,p=l,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-u);h<o?(o=h,r=u<r?u:r,s=l):h===o&&u<r&&(r=u,s=l)}e=s||e.children[0]}var f,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),a(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,a,l,u,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var g=s(t,0,d,this.toBBox),y=s(t,d,n,this.toBBox),v=(r=g,o=y,void 0,void 0,void 0,void 0,a=Math.max(r.minX,o.minX),l=Math.max(r.minY,o.minY),u=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,u-a)*Math.max(0,h-l)),m=c(g)+c(y);v<f?(f=v,i=d,p=m<p?m:p):v===f&&m<p&&(p=m,i=d)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=s(t,0,e,r),l=s(t,n-e,n,r),u=h(o)+h(l),c=e;c<n-e;c++){var f=t.children[c];a(o,t.leaf?r(f):f),u+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];a(l,t.leaf?r(d):d),u+=h(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}()},function(t,e,n){var i=n(18),r=n(3),o=n(49),s=n(51),a=n(29),l="prototype",u=function(t,e,n){var c,h,f,p=t&u.F,d=t&u.G,g=t&u.S,y=t&u.P,v=t&u.B,m=t&u.W,_=d?r:r[e]||(r[e]={}),x=_[l],w=d?i:g?i[e]:(i[e]||{})[l];for(c in d&&(n=e),n)(h=!p&&w&&void 0!==w[c])&&a(_,c)||(f=h?w[c]:n[c],_[c]=d&&"function"!=typeof w[c]?n[c]:v&&h?o(f,i):m&&w[c]==f?function(t){function e(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)}return e[l]=t[l],e}(f):y&&"function"==typeof f?o(Function.call,f):f,y&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&x&&!x[c]&&s(x,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(30),r=n(31);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";var i=n(4);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(15),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i,r,o=n(21),s=RegExp.prototype.exec,a=String.prototype.replace,l=s,u="lastIndex",c=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i[u]||0!==r[u]),h=void 0!==/()??/.exec("")[1];(c||h)&&(l=function(t){var e,n,i,r,l=this;return h&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l[u]),i=s.call(l,t),c&&i&&(l[u]=l.global?i.index+i[0].length:e),h&&i&&1<i.length&&a.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=l},function(t,e,n){var i=n(8),r=n(22),o=n(14),s=n(13),a=n(90),l="prototype",u=function(t,e,n){var c,h,f,p,d=t&u.F,g=t&u.G,y=t&u.S,v=t&u.P,m=t&u.B,_=g?i:y?i[e]||(i[e]={}):(i[e]||{})[l],x=g?r:r[e]||(r[e]={}),w=x[l]||(x[l]={});for(c in g&&(n=e),n)f=((h=!d&&_&&void 0!==_[c])?_:n)[c],p=m&&h?a(f,i):v&&"function"==typeof f?a(Function.call,f):f,_&&s(_,c,f,t&u.U),x[c]!=f&&o(x,c,p),v&&w[c]!=f&&(w[c]=f)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){t.exports=n(77)},function(t,e,n){var i=n(52),r=n(53),o=n(55),s=Object.defineProperty;e.f=n(5)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(58);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(29),r=n(20),o=n(60)(!1),s=n(63)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(4),r=n(69),o=n(71),s=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(22),r=n(8),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(75)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(23),r=n(2)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){"use strict";var i=n(88)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){"use strict";var i=n(38),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(89);var i=n(13),r=n(14),o=n(7),s=n(9),a=n(2),l=n(25),u=a("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),p=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e})):void 0;if(!p||!d||"replace"===t&&!c||"split"===t&&!h){var g=/./[f],y=n(s,f,""[t],(function(t,e,n,i,r){return e.exec===l?p&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=y[0],m=y[1];i(String.prototype,t,v),r(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(12),r=n(23),o=n(2)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){t.exports=n(46)},function(t,e,n){t.exports=n(102)},function(t,e,n){n(47);var i=n(3).Object;t.exports=function(t){return i.getOwnPropertyNames(t)}},function(t,e,n){n(48)("getOwnPropertyNames",(function(){return n(57).f}))},function(t,e,n){var i=n(17),r=n(3),o=n(11);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var i=n(50);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(28),r=n(56);t.exports=n(5)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(19);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(5)&&!n(11)((function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(19),r=n(18).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(19);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(20),r=n(59).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(32),r=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(20),r=n(61),o=n(62);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;c<u;)if((a=l[c++])!=a)return!0}else for(;c<u;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(33),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(33),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(64)("keys"),r=n(66);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(3),r=n(18),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(65)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){"use strict";function i(t){n(13)(RegExp.prototype,a,t,!0)}n(68);var r=n(4),o=n(21),s=n(6),a="toString",l=/./[a];n(7)((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?i((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)})):l.name!=a&&i((function(){return l.call(this)}))},function(t,e,n){n(6)&&"g"!=/./g.flags&&n(35).f(RegExp.prototype,"flags",{configurable:!0,get:n(21)})},function(t,e,n){t.exports=!n(6)&&!n(7)((function(){return 7!=Object.defineProperty(n(70)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(12),r=n(8).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(12);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(37)("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e,n){"use strict";var i=n(38),r={};r[n(2)("toStringTag")]="z",r+""!="[object z]"&&n(13)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,n){n(78);var i=n(3).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(17);i(i.S+i.F*!n(5),"Object",{defineProperty:n(28).f})},function(t,e,n){n(80),t.exports=n(3).Object.assign},function(t,e,n){var i=n(17);i(i.S+i.F,"Object",{assign:n(81)})},function(t,e,n){"use strict";var i=n(5),r=n(82),o=n(83),s=n(84),a=n(85),l=n(30),u=Object.assign;t.exports=!u||n(11)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i}))?function(t,e){for(var n=a(t),u=arguments.length,c=1,h=o.f,f=s.f;c<u;)for(var p,d=l(arguments[c++]),g=h?r(d).concat(h(d)):r(d),y=g.length,v=0;v<y;)p=g[v++],i&&!f.call(d,p)||(n[p]=d[p]);return n}:u},function(t,e,n){var i=n(32),r=n(34);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(31);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";var i=n(4),r=n(87),o=n(24),s=n(15),a=n(39),l=n(40),u=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(41)("replace",2,(function(t,e,n,d){return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=d(n,t,this,e);if(r.done)return r.value;var h=i(t),f=String(this),p="function"==typeof e;p||(e=String(e));var y=h.global;if(y){var v=h.unicode;h.lastIndex=0}for(var m=[];;){var _=l(h,f);if(null===_)break;if(m.push(_),!y)break;""===String(_[0])&&(h.lastIndex=a(f,o(h.lastIndex),v))}for(var x,w="",S=0,C=0;C<m.length;C++){_=m[C];for(var b=String(_[0]),T=u(c(s(_.index),f.length),0),E=[],k=1;k<_.length;k++)E.push(void 0===(x=_[k])?x:String(x));var O=_.groups;if(p){var I=[b].concat(E,T,f);void 0!==O&&I.push(O);var D=String(e.apply(void 0,I))}else D=g(b,f,T,E,O,e);S<=T&&(w+=f.slice(S,T)+D,S=T+b.length)}return w+f.slice(S)}];function g(t,e,i,o,s,a){var l=i+t.length,u=o.length,c=p;return void 0!==s&&(s=r(s),c=f),n.call(a,c,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":a=s[r.slice(1,-1)];break;default:var c=+r;if(0==c)return n;if(u<c){var f=h(c/10);return 0===f?n:f<=u?void 0===o[f-1]?r.charAt(1):o[f-1]+r.charAt(1):n}a=o[c-1]}return void 0===a?"":a}))}}))},function(t,e,n){var i=n(9);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(15),r=n(9);t.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||u<=l?t?"":void 0:(o=a.charCodeAt(l))<55296||56319<o||l+1===u||(s=a.charCodeAt(l+1))<56320||57343<s?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(25);n(26)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){var i=n(42);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var i=n(43),r=n(4),o=n(92),s=n(39),a=n(24),l=n(40),u=n(25),c=n(7),h=Math.min,f=[].push,p="split",d="length",g="lastIndex",y=4294967295,v=!c((function(){RegExp(y,"y")}));n(41)("split",2,(function(t,e,n,c){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[d]||2!="ab"[p](/(?:ab)*/)[d]||4!="."[p](/(.?)(.?)/)[d]||1<"."[p](/()()/)[d]||""[p](/.?/)[d]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?y:e>>>0,v=new RegExp(t.source,c+"g");(o=u.call(v,r))&&!(h<(s=v[g])&&(l.push(r.slice(h,o.index)),1<o[d]&&o.index<r[d]&&f.apply(l,o.slice(1)),a=o[0][d],h=s,l[d]>=p));)v[g]===o.index&&v[g]++;return h===r[d]?!a&&v.test("")||l.push(""):l.push(r.slice(h)),l[d]>p?l.slice(0,p):l}:"0"[p](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):m.call(String(r),n,i)},function(t,e){var i=c(m,t,this,e,m!==n);if(i.done)return i.value;var u=r(t),f=String(this),p=o(u,RegExp),d=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),_=new p(v?u:"^(?:"+u.source+")",g),x=void 0===e?y:e>>>0;if(0==x)return[];if(0===f.length)return null===l(_,f)?[f]:[];for(var w=0,S=0,C=[];S<f.length;){_.lastIndex=v?S:0;var b,T=l(_,v?f:f.slice(S));if(null===T||(b=h(a(_.lastIndex+(v?0:S)),f.length))===w)S=s(f,S,d);else{if(C.push(f.slice(w,S)),C.length===x)return C;for(var E=1;E<=T.length-1;E++)if(C.push(T[E]),C.length===x)return C;S=w=b}}return C.push(f.slice(w)),C}]}))},function(t,e,n){var i=n(4),r=n(42),o=n(2)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},function(t,e,n){"use strict";var i=n(26),r=n(94)(!0);i(i.P,"Array",{includes:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),n(98)("includes")},function(t,e,n){var i=n(95),r=n(24),o=n(97);t.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;c<u;)if((a=l[c++])!=a)return!0}else for(;c<u;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(96),r=n(9);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(15),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(2)("unscopables"),r=Array.prototype;null==r[i]&&n(14)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){"use strict";var i=n(26),r=n(100),o="includes";i(i.P+i.F*n(101)(o),"String",{includes:function(t,e){return!!~r(this,t,o).indexOf(t,1<arguments.length?e:void 0)}})},function(t,e,n){var i=n(43),r=n(9);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(2)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(44),s=n.n(o),a=n(1),l=n.n(a),u=(n(67),n(76),n(27)),c=n.n(u),h=[{text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"bottom",textAlign:"center",offsetY:-4,fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}},{stroke:{color:[0,153,255,1],width:3}},{fill:{color:[255,255,255,0]}},{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}],f="Point",p="LineString",d="LinearRing",g="Polygon",y="MultiPoint",v="MultiLineString",m="MultiPolygon",_="GeometryCollection",x="Circle";function w(t){this.propagationStopped,this.type=t,this.target=null}var S=(w.prototype.preventDefault=function(){this.propagationStopped=!0},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w),C="propertychange";function b(){this.disposed=!1}var T=(b.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},b.prototype.disposeInternal=function(){},b);function E(t,e){return e<t?1:t<e?-1:0}function k(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function O(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function I(t,e){var n=t.length;if(n===e.length){for(var i=0;i<n;i++)if(t[i]!==e[i])return;return 1}}function D(){return!0}function P(){return!1}function R(){}var L="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function A(t){for(var e in t)delete t[e]}var F,M,j="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function N(t){var e;for(e in t)return!1;return!e}function W(t){var e=M.call(this)||this;return e.eventTarget_=t,e.pendingRemovals_=null,e.dispatching_=null,e.listeners_=null,e}var G,B,q=((F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(W,M=T),W.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},W.prototype.dispatchEvent=function(t){var e="string"==typeof t?new S(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,r=this.listeners_&&this.listeners_[n];if(r){var o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,s[n]=0),++o[n];for(var a=0,l=r.length;a<l;++a)if(!1===(i="handleEvent"in r[a]?r[a].handleEvent(e):r[a].call(this,e))||e.propagationStopped){i=!1;break}if(--o[n],0===o[n]){var u=s[n];for(delete s[n];u--;)this.removeEventListener(n,R);delete o[n]}return i}},W.prototype.disposeInternal=function(){this.listeners_&&A(this.listeners_)},W.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},W.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:0<Object.keys(this.listeners_).length)},W.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=R,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},W),X="change";function H(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function z(t,e,n,i){return H(t,e,n,i,!0)}function Y(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),A(t))}function U(){var t=B.call(this)||this;return t.revision_=0,t}var V=((G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(U,B=q),U.prototype.changed=function(){++this.revision_,this.dispatchEvent(X)},U.prototype.getRevision=function(){return this.revision_},U.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=H(this,t[r],e);return i}return H(this,t,e)},U.prototype.once=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=z(this,t[r],e)}else n=z(this,t,e);return e.ol_key=n},U.prototype.un=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Y(t[e]);else Y(t)}(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},U);function K(){return function(){throw new Error("Unimplemented abstract method.")}()}var $=0;function Z(t){return t.ol_uid||(t.ol_uid=String(++$))}var J,Q,tt=(J=function(t,e){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),et=(tt(nt,Q=S),nt);function nt(t,e,n){var i=Q.call(this,t)||this;return i.key=e,i.oldValue=n,i}var it,rt=(tt(ot,it=V),ot.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},ot.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},ot.prototype.getProperties=function(){return this.values_&&L({},this.values_)||{}},ot.prototype.hasProperties=function(){return!!this.values_},ot.prototype.notify=function(t,e){var n;n=at(t),this.dispatchEvent(new et(n,t,e)),n=C,this.dispatchEvent(new et(n,t,e))},ot.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var r=i[t];r!==(i[t]=e)&&this.notify(t,r)}},ot.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},ot.prototype.applyProperties=function(t){t.values_&&L(this.values_||(this.values_={}),t.values_)},ot.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],N(this.values_)&&(this.values_=null),e||this.notify(t,n)}},ot);function ot(t){var e=it.call(this)||this;return Z(e),e.values_=null,void 0!==t&&e.setProperties(t),e}var st={};function at(t){return st.hasOwnProperty(t)?st[t]:st[t]="change:"+t}var lt=rt,ut={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},ct={};ct[ut.DEGREES]=2*Math.PI*6370997/360,ct[ut.FEET]=.3048,ct[ut.METERS]=1,ct[ut.USFEET]=1200/3937;var ht,ft,pt=ut;function dt(t){var e=this,n="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+t+" for details.";return(e=ft.call(this,n)||this).code=t,e.name="AssertionError",e.message=n,e}var gt=((ht=function(t,e){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(dt,ft=Error),dt);function yt(t,e){if(!t)throw new gt(e)}function vt(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function mt(t,e,n,i,r,o,s,a){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t}new Array(6);var _t=0,xt=1,wt=2,St=4,Ct=8,bt=16;function Tt(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Et(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function kt(t,e){return It(t,e[0],e[1])}function Ot(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function It(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Dt(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],l=_t;return s<n?l|=bt:r<s&&(l|=St),a<i?l|=Ct:o<a&&(l|=wt),l===_t&&(l=xt),l}function Pt(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function Rt(t){return Pt(1/0,1/0,-1/0,-1/0,t)}function Lt(t,e,n,i,r){return Mt(Rt(r),t,e,n,i)}function At(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Ft(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Mt(t,e,n,i,r){for(;n<i;n+=r)jt(t,e[n],e[n+1]);return t}function jt(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Nt(t,e){var n;return(n=e(Wt(t)))||(n=e(Gt(t)))||(n=e(Ht(t)))?n:(n=e(Xt(t)))||!1}function Wt(t){return[t[0],t[1]]}function Gt(t){return[t[2],t[1]]}function Bt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function qt(t){return t[3]-t[1]}function Xt(t){return[t[0],t[3]]}function Ht(t){return[t[2],t[3]]}function zt(t){return t[2]-t[0]}function Yt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ut(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}var Vt=(Ut.prototype.canWrapX=function(){return this.canWrapX_},Ut.prototype.getCode=function(){return this.code_},Ut.prototype.getExtent=function(){return this.extent_},Ut.prototype.getUnits=function(){return this.units_},Ut.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ct[this.units_]},Ut.prototype.getWorldExtent=function(){return this.worldExtent_},Ut.prototype.getAxisOrientation=function(){return this.axisOrientation_},Ut.prototype.isGlobal=function(){return this.global_},Ut.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Ut.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Ut.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Ut.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Ut.prototype.setWorldExtent=function(t){this.worldExtent_=t},Ut.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Ut.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},Ut);function Kt(t,e,n){return Math.min(Math.max(t,e),n)}var $t="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function Zt(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!=s||0!=a){var l=((t-n)*s+(e-i)*a)/(s*s+a*a);1<l?(n=r,i=o):0<l&&(n+=s*l,i+=a*l)}return Jt(t,e,n,i)}function Jt(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function Qt(t,e,n){return t+n*(e-t)}"log2"in Math&&Math.log2;var te,ee,ne=(te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ie=6378137,re=Math.PI*ie,oe=[-re,-re,re,re],se=[-180,-85,180,85],ae=ie*Math.log(Math.tan(Math.PI/2)),le=(ne(ue,ee=Vt),ue);function ue(t){return ee.call(this,{code:t,units:pt.METERS,extent:oe,global:!0,worldExtent:se,getPointResolution:function(t,e){return t/$t(e[1]/ie)}})||this}var ce=[new le("EPSG:3857"),new le("EPSG:102100"),new le("EPSG:102113"),new le("EPSG:900913"),new le("http://www.opengis.net/gml/srs/epsg.xml#3857")];var he,fe,pe=(he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),de=[-180,-90,180,90],ge=6378137*Math.PI/180,ye=(pe(ve,fe=Vt),ve);function ve(t,e){return fe.call(this,{code:t,units:pt.DEGREES,extent:de,axisOrientation:e,global:!0,metersPerUnit:ge,worldExtent:de})||this}var me=[new ye("CRS:84"),new ye("EPSG:4326","neu"),new ye("urn:ogc:def:crs:OGC:1.3:CRS84"),new ye("urn:ogc:def:crs:OGC:2:84"),new ye("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],_e={},xe={};function we(t,e,n){var i=t.getCode(),r=e.getCode();i in xe||(xe[i]={}),xe[i][r]=n}function Se(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function Ce(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function be(t){var e,n;e=t.getCode(),n=t,_e[e]=n,we(t,t,Se)}function Te(t){return"string"==typeof t?_e[e=t]||_e[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function Ee(t){t.forEach(be),t.forEach((function(e){t.forEach((function(t){e!==t&&we(e,t,Se)}))}))}function ke(t,e){var n,i,r,o=t.getCode(),s=(i=e.getCode(),(n=o)in xe&&i in xe[n]&&(r=xe[n][i]),r);return s||Ce}function Oe(t,e){return ke(Te(t),Te(e))}var Ie,De,Pe,Re=null;function Le(){return Re}function Ae(t,e){return t}function Fe(t,e){return t}function Me(t,e,n,i,r,o){for(var s=o||[],a=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}function je(t,e,n,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,g=t[p+1]-h;a[f++]=c+d*l-g*u,a[f++]=h+d*u+g*l;for(var y=p+2;y<p+i;++y)a[f++]=t[y]}return s&&a.length!=f&&(a.length=f),a}function Ne(t,e,n,i,r,o,s){for(var a=s||[],l=0,u=e;u<n;u+=i){a[l++]=t[u]+r,a[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)a[l++]=t[c]}return s&&a.length!=l&&(a.length=l),a}Ee(ce),Ee(me),Ie=ce,De=function(t,e,n){var i=t.length,r=1<n?n:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(i));for(var s=0;s<i;s+=r){o[s]=re*t[s]/180;var a=ie*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));ae<a?a=ae:a<-ae&&(a=-ae),o[s+1]=a}return o},Pe=function(t,e,n){var i=t.length,r=1<n?n:2,o=e;void 0===o&&(o=2<r?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/re,o[s+1]=360*Math.atan(Math.exp(t[s+1]/ie))/Math.PI-90;return o},me.forEach((function(t){Ie.forEach((function(e){we(t,e,De),we(e,t,Pe)}))}));var We,Ge,Be=(We=function(t,e){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}We(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qe=[1,0,0,1,0,0],Xe=(Be(He,Ge=lt),He.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},He.prototype.clone=function(){return K()},He.prototype.closestPointXY=function(t,e,n,i){return K()},He.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},He.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},He.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},He.prototype.computeExtent=function(t){return K()},He.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Rt(e),this.extentRevision_=this.getRevision()}return n=this.extent_,(i=t)?(i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i):n;var n,i},He.prototype.rotate=function(t,e){K()},He.prototype.scale=function(t,e,n){K()},He.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},He.prototype.getSimplifiedGeometry=function(t){return K()},He.prototype.getType=function(){return K()},He.prototype.applyTransform=function(t){K()},He.prototype.intersectsExtent=function(t){return K()},He.prototype.translate=function(t,e){K()},He.prototype.transform=function(t,e){var n=Te(t),i=n.getUnits()==pt.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent(),a=qt(s)/qt(o);return mt(qe,s[0],s[3],a,-a,0,0,0),Me(t,0,t.length,r,qe,i),Oe(n,e)(t,i,r)}:Oe(n,e);return this.applyTransform(i),this},He);function He(){var t,e,n,i,r,o=Ge.call(this)||this;return o.extent_=[1/0,1/0,-1/0,-1/0],o.extentRevision_=-1,o.simplifiedGeometryMaxMinSquaredTolerance=0,o.simplifiedGeometryRevision=0,o.simplifyTransformedInternal=(r=!(t=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)}),function(){var o=Array.prototype.slice.call(arguments);return r&&this===i&&I(o,n)||(r=!0,i=this,n=o,e=t.apply(this,arguments)),e}),o}var ze,Ye,Ue="XY",Ve="XYZ",Ke="XYM",$e="XYZM";function Ze(){var t=Ye.call(this)||this;return t.layout=Ue,t.stride=2,t.flatCoordinates=null,t}function Je(t){var e;return t==Ue?e=2:t==Ve||t==Ke?e=3:t==$e&&(e=4),e}var Qe=((ze=function(t,e){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ze,Ye=Xe),Ze.prototype.computeExtent=function(t){return Lt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},Ze.prototype.getCoordinates=function(){return K()},Ze.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},Ze.prototype.getFlatCoordinates=function(){return this.flatCoordinates},Ze.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},Ze.prototype.getLayout=function(){return this.layout},Ze.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},Ze.prototype.getSimplifiedGeometryInternal=function(t){return this},Ze.prototype.getStride=function(){return this.stride},Ze.prototype.setFlatCoordinates=function(t,e){this.stride=Je(t),this.layout=t,this.flatCoordinates=e},Ze.prototype.setCoordinates=function(t,e){K()},Ze.prototype.setLayout=function(t,e,n){var i;if(t)i=Je(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=Ue,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=Ue:3==t?e=Ve:4==t&&(e=$e),e}(i=e.length)}this.layout=t,this.stride=i},Ze.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},Ze.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();je(n,0,n.length,i,t,e,n),this.changed()}},Ze.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r=r||Bt(this.getExtent());var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,i,r,o,s,a){for(var l=a||[],u=s[0],c=s[1],h=0,f=0;f<n;f+=i){var p=t[f]-u,d=t[f+1]-c;l[h++]=u+r*p,l[h++]=c+o*d;for(var g=f+2;g<f+i;++g)l[h++]=t[g]}a&&l.length!=h&&(l.length=h)}(o,0,o.length,s,t,i,r,o),this.changed()}},Ze.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Ne(n,0,n.length,i,t,e,n),this.changed()}},Ze);function tn(t,e,n){for(var i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}function en(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function nn(t,e,n,i,r){for(var o=r||[],s=0,a=0,l=n.length;a<l;++a){var u=en(t,e,n[a],i);e=o[s++]=u}return o.length=s,o}var rn,on,sn=((rn=function(t,e){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(an,on=Qe),an.prototype.clone=function(){var t=new an(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},an.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0==a)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(a);for(n[0]=r[0]+u*o,n[1]=r[1]+u*s,l=2;l<this.stride;++l)n[l]=r[l]}return n.length=this.stride,a}return i},an.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},an.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},an.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Pt(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},an.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},an.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},an.prototype.getType=function(){return x},an.prototype.intersectsExtent=function(t){if(Yt(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||Nt(t,this.intersectsCoordinate.bind(this))}return!1},an.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},an.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=tn(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},an.prototype.getCoordinates=function(){return null},an.prototype.setCoordinates=function(t,e){},an.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},an.prototype.rotate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(je(n,0,n.length,i,t,e,n)),this.changed()},an.prototype.translate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(Ne(n,0,n.length,i,t,e,n)),this.changed()},an);function an(t,e,n){var i=on.call(this)||this;if(void 0!==n&&void 0===e)i.setFlatCoordinates(n,t);else{var r=e||0;i.setCenterAndRadius(t,r,n)}return i}sn.prototype.transform;var ln,un,cn=sn;function hn(t){var e=un.call(this)||this;if(e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addEventListener(at(e.geometryName_),e.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var n=t;e.setGeometry(n)}else{var i=t;e.setProperties(i)}return e}var fn,pn,dn=((ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(hn,un=lt),hn.prototype.clone=function(){var t=new hn(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},hn.prototype.getGeometry=function(){return this.get(this.geometryName_)},hn.prototype.getId=function(){return this.id_},hn.prototype.getGeometryName=function(){return this.geometryName_},hn.prototype.getStyle=function(){return this.style_},hn.prototype.getStyleFunction=function(){return this.styleFunction_},hn.prototype.handleGeometryChange_=function(){this.changed()},hn.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Y(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=H(t,X,this.handleGeometryChange_,this)),this.changed()},hn.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},hn.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){return"function"==typeof t?t:(e=Array.isArray(t)?t:(yt("function"==typeof t.getZIndex,41),[t]),function(){return e});var e}(t):void 0,this.changed()},hn.prototype.setId=function(t){this.id_=t,this.changed()},hn.prototype.setGeometryName=function(t){this.removeEventListener(at(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(at(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},hn),gn="active";function yn(t,e,n,i,r,o,s){var a,l=t[e],u=t[e+1],c=t[n]-l,h=t[n+1]-u;if(0==c&&0==h)a=e;else{var f=((r-l)*c+(o-u)*h)/(c*c+h*h);if(1<f)a=n;else{if(0<f){for(var p=0;p<i;++p)s[p]=Qt(t[e+p],t[n+p],f);return void(s.length=i)}a=e}}for(p=0;p<i;++p)s[p]=t[a+p];s.length=i}function vn(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],l=t[e+1],u=Jt(o,s,a,l);r<u&&(r=u),o=a,s=l}return r}function mn(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=vn(t,e,a,i,r),e=a}return r}function _n(t,e,n,i,r,o,s,a,l,u,c){if(e==n)return u;var h,f;if(0===r){if((f=Jt(s,a,t[e],t[e+1]))<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,f}return u}for(var p=c||[NaN,NaN],d=e+i;d<n;)if(yn(t,d-i,d,i,s,a,p),(f=Jt(s,a,p[0],p[1]))<u){for(u=f,h=0;h<i;++h)l[h]=p[h];d+=l.length=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/r|0,1);if(o&&(yn(t,n-i,e,i,s,a,p),(f=Jt(s,a,p[0],p[1]))<u)){for(u=f,h=0;h<i;++h)l[h]=p[h];l.length=i}return u}function xn(t,e,n,i,r,o,s,a,l,u,c){for(var h=c||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];u=_n(t,e,d,i,r,o,s,a,l,u,h),e=d}return u}function wn(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}var l=new Array(a);l[0]=1,l[a-1]=1;for(var u=[e,n-i],c=0;0<u.length;){for(var h=u.pop(),f=u.pop(),p=0,d=t[f],g=t[f+1],y=t[h],v=t[h+1],m=f+i;m<h;m+=i){var _=Zt(t[m],t[m+1],d,g,y,v);p<_&&(c=m,p=_)}r<p&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(m=0;m<a;++m)l[m]&&(o[s++]=t[e+m*i],o[s++]=t[e+m*i+1]);return s}function Sn(t,e){return e*Math.round(t/e)}function Cn(t,e,n,i,r,o,s){if(e==n)return s;var a,l,u=Sn(t[e],r),c=Sn(t[e+1],r);e+=i,o[s++]=u,o[s++]=c;do{if(a=Sn(t[e],r),l=Sn(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=l,s}while(a==u&&l==c);for(;e<n;){var h=Sn(t[e],r),f=Sn(t[e+1],r);if(e+=i,h!=a||f!=l){var p=a-u,d=l-c,g=h-u,y=f-c;p*y==d*g&&(p<0&&g<p||p==g||0<p&&p<g)&&(d<0&&y<d||d==y||0<d&&d<y)||(u=o[s++]=a,c=o[s++]=l),a=h,l=f}}return o[s++]=a,o[s++]=l,s}function bn(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];s=Cn(t,e,c,i,r,o,s),a.push(s),e=c}return s}function Tn(t,e,n,i,r){for(var o,s=[t[e],t[e+1]],a=[];e+i<n;e+=i){if(a[0]=t[e+i],a[1]=t[e+i+1],o=r(s,a))return o;s[0]=a[0],s[1]=a[1]}return!1}function En(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function kn(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];o[s++]=En(t,e,u,i,o[s]),e=u}return o.length=s,o}function On(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,l=n.length;a<l;++a){var u=n[a];o[s++]=kn(t,e,u,i,o[s]),e=u[u.length-1]}return o.length=s,o}function In(t,e,n,i,r,o,s){var a,l,u=(n-e)/i;if(1==u)a=e;else if(2==u)a=e,l=r;else if(0!=u){for(var c=t[e],h=t[e+1],f=0,p=[0],d=e+i;d<n;d+=i){var g=t[d],y=t[d+1];f+=Math.sqrt((g-c)*(g-c)+(y-h)*(y-h)),p.push(f),c=g,h=y}var v=r*f,m=function(t,e,n){for(var i,r,o=E,s=0,a=t.length,l=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,l=!r);return l?s:~s}(p,v);a=m<0?(l=(v-p[-m-2])/(p[-m-1]-p[-m-2]),e+(-m-2)*i):e+m*i}var _=1<s?s:2,x=o||new Array(_);for(d=0;d<_;++d)x[d]=void 0===a?NaN:void 0===l?t[a+d]:Qt(t[a+d],t[a+i+d],l);return x}function Dn(t,e,n,i,r,o){if(n==e)return null;var s;if(r<t[e+i-1])return o?((s=t.slice(e,e+i))[i-1]=r,s):null;if(t[n-1]<r)return o?((s=t.slice(n-i,n))[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,l=n/i;a<l;){var u=a+l>>1;r<t[(1+u)*i-1]?l=u:a=1+u}var c=t[a*i-1];if(r==c)return t.slice((a-1)*i,(a-1)*i+i);var h=(r-c)/(t[(a+1)*i-1]-c);s=[];for(var f=0;f<i-1;++f)s.push(Qt(t[(a-1)*i+f],t[a*i+f],h));return s.push(r),s}function Pn(t,e,n,i,r){return!Nt(r,(function(r){return!Rn(t,e,n,i,r[0],r[1])}))}function Rn(t,e,n,i,r,o){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?o<c&&0<(u-a)*(o-l)-(r-a)*(c-l)&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function Ln(t,e,n,i,r,o){if(0===n.length)return!1;if(!Rn(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(Rn(t,n[s-1],n[s],i,r,o))return!1;return!0}function An(t,e,n,i,r){var o=Mt([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Yt(r,o)&&(!!Ot(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||Tn(t,e,n,i,(function(t,e){return function(t,e,n){var i=!1,r=Dt(t,e),o=Dt(t,n);if(r===xt||o===xt)i=!0;else{var s=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],f=n[0],p=n[1],d=(p-h)/(f-c),g=void 0,y=void 0;o&wt&&!(r&wt)&&(i=s<=(g=f-(p-u)/d)&&g<=l),i||!(o&St)||r&St||(i=a<=(y=p-(f-l)*d)&&y<=u),i||!(o&Ct)||r&Ct||(i=s<=(g=f-(p-a)/d)&&g<=l),i||!(o&bt)||r&bt||(i=a<=(y=p-(f-s)*d)&&y<=u)}return i}(r,t,e)})))}function Fn(t,e,n,i,r){if(!(An(o=t,s=e,a=n[0],l=i,u=r)||Rn(o,s,a,l,u[0],u[1])||Rn(o,s,a,l,u[0],u[3])||Rn(o,s,a,l,u[2],u[1])||Rn(o,s,a,l,u[2],u[3])))return!1;var o,s,a,l,u;if(1===n.length)return!0;for(var c=1,h=n.length;c<h;++c)if(Pn(t,n[c-1],n[c],i,r)&&!An(t,n[c-1],n[c],i,r))return!1;return!0}function Mn(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];s+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return s}function jn(t,e){var n=pn.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?n.setCoordinates(t,e):n.setFlatCoordinates(e,t),n}var Nn,Wn,Gn,Bn,qn=((fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(jn,pn=Qe),jn.prototype.appendCoordinate=function(t){this.flatCoordinates?O(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},jn.prototype.clone=function(){var t=new jn(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},jn.prototype.closestPointXY=function(t,e,n,i){return i<Et(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},jn.prototype.forEachSegment=function(t){return Tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},jn.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Ke&&this.layout!=$e)return null;var n=void 0!==e&&e;return Dn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},jn.prototype.getCoordinates=function(){return En(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},jn.prototype.getCoordinateAt=function(t,e){return In(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},jn.prototype.getLength=function(){return Mn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},jn.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},jn.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new jn(e,Ue)},jn.prototype.getType=function(){return p},jn.prototype.intersectsExtent=function(t){return An(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},jn.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=en(this.flatCoordinates,0,t,this.stride),this.changed()},jn),Xn=((Nn=function(t,e){return(Nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Nn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Hn,Wn=S),Hn);function Hn(t,e,n){var i=Wn.call(this,t)||this;return i.map=e,i.frameState=void 0!==n?n:null,i}function zn(t,e,n,i,r){var o=Bn.call(this,t,e,r)||this;return o.originalEvent=n,o.pixel_=null,o.coordinate_=null,o.dragging=void 0!==i&&i,o}var Yn,Un,Vn=((Gn=function(t,e){return(Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(zn,Bn=Xn),Object.defineProperty(zn.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(zn.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),zn.prototype.preventDefault=function(){Bn.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},zn.prototype.stopPropagation=function(){Bn.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},zn),Kn="pointerdrag",$n="pointermove",Zn="pointerdown",Jn="pointerup";function Qn(t,e,n){var i=Un.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,e);else if(void 0!==e&&n)i.setFlatCoordinates(e,t),i.ends_=n;else{for(var r=i.getLayout(),o=t,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout()),O(s,c.getFlatCoordinates()),a.push(s.length)}i.setFlatCoordinates(r,s),i.ends_=a}return i}var ti,ei,ni=((Yn=function(t,e){return(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Qn,Un=Qe),Qn.prototype.appendLineString=function(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Qn.prototype.clone=function(){var t=new Qn(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},Qn.prototype.closestPointXY=function(t,e,n,i){return i<Et(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},Qn.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Ke&&this.layout!=$e||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return function(t,e,n,i,r,o,s){if(s)return Dn(t,e,n[n.length-1],i,r,o);var a;if(r<t[i-1])return o?((a=t.slice(0,i))[i-1]=r,a):null;if(t[t.length-1]<r)return o?((a=t.slice(t.length-i))[i-1]=r,a):null;for(var l=0,u=n.length;l<u;++l){var c=n[l];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return Dn(t,e,c,i,r,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},Qn.prototype.getCoordinates=function(){return kn(this.flatCoordinates,0,this.ends_,this.stride)},Qn.prototype.getEnds=function(){return this.ends_},Qn.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new qn(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},Qn.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new qn(t.slice(r,a),n);i.push(l),r=a}return i},Qn.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];O(t,In(e,n,a,r,.5)),n=a}return t},Qn.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=function(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l];s=wn(t,e,c,i,r,o,s),a.push(s),e=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new Qn(e,Ue,n)},Qn.prototype.getType=function(){return v},Qn.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(An(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},Qn.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nn(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},Qn);function ii(t,e){var n=ei.call(this)||this;return n.setCoordinates(t,e),n}var ri,oi,si=((ti=function(t,e){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ti(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(ii,ei=Qe),ii.prototype.clone=function(){var t=new ii(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},ii.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Jt(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},ii.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},ii.prototype.computeExtent=function(t){return n=t,Pt(i=(e=this.flatCoordinates)[0],r=e[1],i,r,n);var e,n,i,r},ii.prototype.getType=function(){return f},ii.prototype.intersectsExtent=function(t){return It(t,this.flatCoordinates[0],this.flatCoordinates[1])},ii.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=tn(this.flatCoordinates,0,t,this.stride),this.changed()},ii);function ai(t,e){var n=oi.call(this)||this;return e&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}var li,ui,ci=((ri=function(t,e){return(ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ri(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(ai,oi=Qe),ai.prototype.appendPoint=function(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},ai.prototype.clone=function(){var t=new ai(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},ai.prototype.closestPointXY=function(t,e,n,i){if(i<Et(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var l=Jt(t,e,r[s],r[s+1]);if(l<i){i=l;for(var u=0;u<o;++u)n[u]=r[s+u];n.length=o}}return i},ai.prototype.getCoordinates=function(){return En(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},ai.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new si(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},ai.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new si(t.slice(r,r+n),e);i.push(s)}return i},ai.prototype.getType=function(){return y},ai.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(It(t,e[i],e[i+1]))return!0;return!1},ai.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=en(this.flatCoordinates,0,t,this.stride),this.changed()},ai);function hi(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=s*a-o*l,o=a,s=l}return r/2}function fi(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=hi(t,e,a,i),e=a}return r}function pi(t,e){var n=ui.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?n.setCoordinates(t,e):n.setFlatCoordinates(e,t),n}var di,gi,yi=((li=function(t,e){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}li(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(pi,ui=Qe),pi.prototype.clone=function(){return new pi(this.flatCoordinates.slice(),this.layout)},pi.prototype.closestPointXY=function(t,e,n,i){return i<Et(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(vn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),_n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},pi.prototype.getArea=function(){return hi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},pi.prototype.getCoordinates=function(){return En(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},pi.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new pi(e,Ue)},pi.prototype.getType=function(){return d},pi.prototype.intersectsExtent=function(t){return!1},pi.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=en(this.flatCoordinates,0,t,this.stride),this.changed()},pi);function vi(t,e,n,i,r,o,s){for(var a,l,u,c,h,f,p,d=r[o+1],g=[],y=0,v=n.length;y<v;++y){var m=n[y];for(c=t[m-i],f=t[m-i+1],a=e;a<m;a+=i)h=t[a],p=t[a+1],(d<=f&&p<=d||f<=d&&d<=p)&&(u=(d-f)/(p-f)*(h-c)+c,g.push(u)),c=h,f=p}var _=NaN,x=-1/0;for(g.sort(E),c=g[0],a=1,l=g.length;a<l;++a){h=g[a];var w=Math.abs(h-c);x<w&&Ln(t,e,n,i,u=(c+h)/2,d)&&(_=u,x=w),c=h}return isNaN(_)&&(_=r[o]),s?(s.push(_,d,x),s):[_,d,x]}function mi(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function _i(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-o)*(l+s),o=a,s=l}return 0===r?void 0:0<r}function xi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var l=n[s],u=_i(t,e,l,i);if(0===s){if(o&&u||!o&&!u)return}else if(o&&!u||!o&&u)return;e=l}return 1}function wi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var l=n[s],u=_i(t,e,l,i);(0===s?o&&u||!o&&!u:o&&!u||!o&&u)&&mi(t,e,l,i),e=l}return e}function Si(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=wi(t,e,n[o],i,r);return e}function Ci(t,e,n){var i=gi.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==e&&n?(i.setFlatCoordinates(e,t),i.ends_=n):i.setCoordinates(t,e),i}var bi,Ti,Ei=((di=function(t,e){return(di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}di(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ci,gi=Qe),Ci.prototype.appendLinearRing=function(t){this.flatCoordinates?O(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Ci.prototype.clone=function(){var t=new Ci(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},Ci.prototype.closestPointXY=function(t,e,n,i){return i<Et(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(mn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},Ci.prototype.containsXY=function(t,e){return Ln(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},Ci.prototype.getArea=function(){return fi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Ci.prototype.getCoordinates=function(t){var e;return void 0!==t?wi(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,kn(e,0,this.ends_,this.stride)},Ci.prototype.getEnds=function(){return this.ends_},Ci.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Bt(this.getExtent());this.flatInteriorPoint_=vi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Ci.prototype.getInteriorPoint=function(){return new si(this.getFlatInteriorPoint(),Ke)},Ci.prototype.getLinearRingCount=function(){return this.ends_.length},Ci.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new yi(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},Ci.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],l=new yi(e.slice(r,a),t);i.push(l),r=a}return i},Ci.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;xi(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=wi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Ci.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=bn(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new Ci(e,Ue,n)},Ci.prototype.getType=function(){return g},Ci.prototype.intersectsExtent=function(t){return Fn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},Ci.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nn(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},Ci);function ki(t,e,n){var i=Ti.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var r=i.getLayout(),o=t,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout());for(var h=s.length,f=c.getEnds(),p=0,d=f.length;p<d;++p)f[p]+=h;O(s,c.getFlatCoordinates()),a.push(f)}e=r,t=s,n=a}return void 0!==e&&n?(i.setFlatCoordinates(e,t),i.endss_=n):i.setCoordinates(t,e),i}var Oi,Ii,Di,Pi,Ri=((bi=function(t,e){return(bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(ki,Ti=Qe),ki.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;O(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},ki.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),n=0;n<t;++n)e[n]=this.endss_[n].slice();var i=new ki(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i},ki.prototype.closestPointXY=function(t,e,n,i){return i<Et(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=mn(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,s,a,l,u,c){for(var h=[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];u=xn(t,e,d,i,r,!0,s,a,l,u,h),e=d[d.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,i))},ki.prototype.containsXY=function(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var l=n[s];if(Ln(t,e,l,i,r,o))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},ki.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=fi(t,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},ki.prototype.getCoordinates=function(t){var e;return void 0!==t?Si(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,On(e,0,this.endss_,this.stride)},ki.prototype.getEndss=function(){return this.endss_},ki.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var l=n[s];o=Lt(t,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var l=n[s];o=vi(t,e,l,i,r,2*s,o),e=l[l.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},ki.prototype.getInteriorPoints=function(){return new ci(this.getFlatInteriorPoints().slice(),Ke)},ki.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(!xi(t,e,a,i,void 0))return;a.length&&(e=a[a.length-1])}return 1}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Si(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},ki.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=function(t,e,n,i,r,o,s,a){for(var l=0,u=n.length;l<u;++l){var c=n[l],h=[];s=bn(t,e,c,i,r,o,s,h),a.push(h),e=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new ki(e,Ue,n)},ki.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new Ei(this.flatCoordinates.slice(e,r),this.layout,i)},ki.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),l=a[a.length-1];if(0!==r)for(var u=0,c=a.length;u<c;++u)a[u]-=r;var h=new Ei(e.slice(r,l),t,a);i.push(h),r=l}return i},ki.prototype.getType=function(){return m},ki.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(Fn(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},ki.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var o=r||[],s=0,a=0,l=n.length;a<l;++a){var u=nn(t,e,n[a],i,o[s]);e=(o[s++]=u)[u.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},ki),Li=((Oi=function(t,e){return(Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Oi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ai,Ii=lt),Ai.prototype.getActive=function(){return this.get(gn)},Ai.prototype.getMap=function(){return this.map_},Ai.prototype.handleEvent=function(t){return!0},Ai.prototype.setActive=function(t){this.set(gn,t)},Ai.prototype.setMap=function(t){this.map_=t},Ai);function Ai(t){var e=Ii.call(this)||this;return t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}function Fi(t){var e=this,n=t||{};return e=Pi.call(this,n)||this,n.handleDownEvent&&(e.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(e.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(e.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(e.handleUpEvent=n.handleUpEvent),n.stopDown&&(e.stopDown=n.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}var Mi,ji,Ni=((Di=function(t,e){return(Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Di(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Fi,Pi=Li),Fi.prototype.getPointerCount=function(){return this.targetPointers.length},Fi.prototype.handleDownEvent=function(t){return!1},Fi.prototype.handleDragEvent=function(t){},Fi.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Kn)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Jn){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&0<this.targetPointers.length}}else if(t.type==Zn){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==$n&&this.handleMoveEvent(t);return!e},Fi.prototype.handleMoveEvent=function(t){},Fi.prototype.handleUpEvent=function(t){return!1},Fi.prototype.stopDown=function(t){return t},Fi.prototype.updateTrackedPointers_=function(t){if((i=t.type)===Zn||i===Kn||i===Jn){var e=t.originalEvent,n=e.pointerId.toString();t.type==Jn?delete this.trackedPointers_[n]:(t.type==Zn||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=j(this.trackedPointers_)}var i},Fi),Wi="opacity",Gi="visible",Bi="zIndex",qi="maxResolution",Xi="minResolution",Hi="maxZoom",zi="minZoom",Yi="source",Ui=((Mi=function(t,e){return(Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Mi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Vi,ji=lt),Vi.prototype.getClassName=function(){return this.className_},Vi.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Kt(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e},Vi.prototype.getLayersArray=function(t){return K()},Vi.prototype.getLayerStatesArray=function(t){return K()},Vi.prototype.getExtent=function(){return this.get("extent")},Vi.prototype.getMaxResolution=function(){return this.get(qi)},Vi.prototype.getMinResolution=function(){return this.get(Xi)},Vi.prototype.getMinZoom=function(){return this.get(zi)},Vi.prototype.getMaxZoom=function(){return this.get(Hi)},Vi.prototype.getOpacity=function(){return this.get(Wi)},Vi.prototype.getSourceState=function(){return K()},Vi.prototype.getVisible=function(){return this.get(Gi)},Vi.prototype.getZIndex=function(){return this.get(Bi)},Vi.prototype.setExtent=function(t){this.set("extent",t)},Vi.prototype.setMaxResolution=function(t){this.set(qi,t)},Vi.prototype.setMinResolution=function(t){this.set(Xi,t)},Vi.prototype.setMaxZoom=function(t){this.set(Hi,t)},Vi.prototype.setMinZoom=function(t){this.set(zi,t)},Vi.prototype.setOpacity=function(t){yt("number"==typeof t,64),this.set(Wi,t)},Vi.prototype.setVisible=function(t){this.set(Gi,t)},Vi.prototype.setZIndex=function(t){this.set(Bi,t)},Vi.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),ji.prototype.disposeInternal.call(this)},Vi);function Vi(t){var e=ji.call(this)||this,n=L({},t);return n[Wi]=void 0!==t.opacity?t.opacity:1,yt("number"==typeof n[Wi],64),n[Gi]=void 0===t.visible||t.visible,n[Bi]=t.zIndex,n[qi]=void 0!==t.maxResolution?t.maxResolution:1/0,n[Xi]=void 0!==t.minResolution?t.minResolution:0,n[zi]=void 0!==t.minZoom?t.minZoom:-1/0,n[Hi]=void 0!==t.maxZoom?t.maxZoom:1/0,e.className_=void 0!==n.className?t.className:"ol-layer",delete n.className,e.setProperties(n),e.state_=null,e}var Ki,$i,Zi="ready";function Ji(t){var e=this,n=L({},t);delete n.source,(e=$i.call(this,n)||this).mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addEventListener(at(Yi),e.handleSourcePropertyChange_);var i=t.source?t.source:null;return e.setSource(i),e}var Qi=((Ki=function(t,e){return(Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ki(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ji,$i=Ui),Ji.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},Ji.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},Ji.prototype.getSource=function(){return this.get(Yi)||null},Ji.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},Ji.prototype.handleSourceChange_=function(){this.changed()},Ji.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Y(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=H(t,X,this.handleSourceChange_,this)),this.changed()},Ji.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},Ji.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},Ji.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Y(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Y(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=H(t,"precompose",(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);yt(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=H(this,X,t.render,t),this.changed())},Ji.prototype.setSource=function(t){this.set(Yi,t)},Ji.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},Ji.prototype.hasRenderer=function(){return!!this.renderer_},Ji.prototype.createRenderer=function(){return null},Ji.prototype.disposeInternal=function(){this.setSource(null),$i.prototype.disposeInternal.call(this)},Ji),tr=n(16),er=n.n(tr),nr=0,ir=1,rr=2,or=3;function sr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function ar(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=sr(t.scale),this.displacement_=t.displacement}var lr=(ar.prototype.clone=function(){var t=this.getScale();return new ar({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},ar.prototype.getOpacity=function(){return this.opacity_},ar.prototype.getRotateWithView=function(){return this.rotateWithView_},ar.prototype.getRotation=function(){return this.rotation_},ar.prototype.getScale=function(){return this.scale_},ar.prototype.getScaleArray=function(){return this.scaleArray_},ar.prototype.getDisplacement=function(){return this.displacement_},ar.prototype.getAnchor=function(){return K()},ar.prototype.getImage=function(t){return K()},ar.prototype.getHitDetectionImage=function(){return K()},ar.prototype.getPixelRatio=function(t){return 1},ar.prototype.getImageState=function(){return K()},ar.prototype.getImageSize=function(){return K()},ar.prototype.getHitDetectionImageSize=function(){return K()},ar.prototype.getOrigin=function(){return K()},ar.prototype.getSize=function(){return K()},ar.prototype.setOpacity=function(t){this.opacity_=t},ar.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ar.prototype.setRotation=function(t){this.rotation_=t},ar.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=sr(t)},ar.prototype.listenImageChange=function(t){K()},ar.prototype.load=function(){K()},ar.prototype.unlistenImageChange=function(t){K()},ar),ur=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,cr=/^([a-z]*)$|^hsla?\(.*\)$/i;function hr(t){return"string"==typeof t?t:vr(t)}var fr,pr,dr=(fr={},pr=0,function(t){var e;if(fr.hasOwnProperty(t))e=fr[t];else{if(1024<=pr){var n=0;for(var i in fr)0==(3&n++)&&(delete fr[i],--pr)}e=function(t){var e,n,i,r,o;if(cr.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""===e.style.color)return"";document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}(t)),ur.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var l=4==a||8==a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(+s+1,s),16),i=parseInt(t.substr(1+2*s,s),16),r=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?yr(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),yr(o)):yt(!1,14);return o}(t),fr[t]=e,++pr}return e});function gr(t){return Array.isArray(t)?t:dr(t)}function yr(t){return t[0]=Kt(t[0]+.5|0,0,255),t[1]=Kt(t[1]+.5|0,0,255),t[2]=Kt(t[2]+.5|0,0,255),t[3]=Kt(t[3],0,1),t}function vr(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function mr(t){return Array.isArray(t)?vr(t):t}var _r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",xr=(_r.indexOf("firefox"),-1!==_r.indexOf("safari")&&_r.indexOf("chrom"),-1!==_r.indexOf("webkit")&&_r.indexOf("edge"),_r.indexOf("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope),wr="undefined"!=typeof Image&&Image.prototype.decode;function Sr(t,e,n){var i=n&&n.length?n.shift():xr?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function Cr(t){var e=t.match(br);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=Tr.length;i<r;++i){var o=e[i+1];void 0!==o&&(n[Tr[i]]=o)}return n.families=n.family.split(/,\s?/),n}!function(){try{var t=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(t){}}();var br=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Tr=["style","variant","weight","size","lineHeight","family"],Er="10px sans-serif",kr="#000",Or="round",Ir=[],Dr="round",Pr="#000",Rr="center",Lr="middle",Ar=[0,0,0,0],Fr=new lt;(new q).setSize=function(){console.warn("labelCache is deprecated.")};var Mr,jr,Nr,Wr,Gr,Br,qr=null,Xr={},Hr=(100,"32px ",Gr=(Wr=["monospace","serif"]).length,Br="wmytzilWMYTZIL@#/&?$%10ï",function(t){var e=Cr(t);if(e)for(var n=e.families,i=0,r=n.length;i<r;++i){var o=n[i],s=e.style+"\n"+e.weight+"\n"+o;void 0===Fr.get(s)&&(Fr.set(s,100,!0),zr(e.style,e.weight,o)||(Fr.set(s,0,!0),void 0===jr&&(jr=setInterval(Yr,32))))}});function zr(t,e,n){for(var i=!0,r=0;r<Gr;++r){var o=Wr[r];if(Nr=Kr(t+" "+e+" 32px "+o,Br),n!=o){var s=Kr(t+" "+e+" 32px "+n+","+o,Br);i=i&&s!=Nr}}return!!i}function Yr(){for(var t=!0,e=Fr.getKeys(),n=0,i=e.length;n<i;++n){var r=e[n];Fr.get(r)<100&&(zr.apply(this,r.split("\n"))?(A(Xr),qr=null,Mr=void 0,Fr.set(r,100)):(Fr.set(r,Fr.get(r)+1,!0),t=!1))}t&&(clearInterval(jr),jr=void 0)}var Ur;function Vr(t,e){return qr=qr||Sr(1,1),t!=Mr&&(qr.font=t,Mr=qr.font),qr.measureText(e)}function Kr(t,e){return Vr(t,e).width}function $r(t,e,n){if(e in n)return n[e];var i=Kr(t,e);return n[e]=i}function Zr(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var Jr,Qr,to,eo,no=((Jr=function(t,e){return(Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(io,Qr=lr),io.prototype.clone=function(){var t=this.getScale(),e=new io({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},io.prototype.getAnchor=function(){return this.anchor_},io.prototype.getAngle=function(){return this.angle_},io.prototype.getFill=function(){return this.fill_},io.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},io.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),n=Sr(e.size*t||1,e.size*t||1);this.draw_(e,n,0,0,t||1),this.canvas_[t||1]=n.canvas}return this.canvas_[t||1]},io.prototype.getPixelRatio=function(t){return t},io.prototype.getImageSize=function(){return this.imageSize_},io.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},io.prototype.getImageState=function(){return rr},io.prototype.getOrigin=function(){return this.origin_},io.prototype.getPoints=function(){return this.points_},io.prototype.getRadius=function(){return this.radius_},io.prototype.getRadius2=function(){return this.radius2_},io.prototype.getSize=function(){return this.size_},io.prototype.getStroke=function(){return this.stroke_},io.prototype.listenImageChange=function(t){},io.prototype.load=function(){},io.prototype.unlistenImageChange=function(t){},io.prototype.createRenderOptions=function(){var t,e=Or,n=Dr,i=0,r=null,o=0,s=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=Pr),t=mr(t),void 0===(s=this.stroke_.getWidth())&&(s=1),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=Dr),void 0===(e=this.stroke_.getLineCap())&&(e=Or),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:t,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}},io.prototype.render=function(){var t=this.createRenderOptions(),e=Sr(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var n=e.canvas.width,i=n,r=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[n/2-r[0],n/2+r[1]],this.size_=[n,n],this.imageSize_=[i,i]},io.prototype.draw_=function(t,e,n,i,r){var o,s,a;e.setTransform(r,0,0,r,0,0),e.translate(n,i),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),o=0;o<=l;o++)s=2*o*Math.PI/l-Math.PI/2+this.angle_,a=o%2==0?this.radius_:u,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=kr),e.fillStyle=mr(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},io.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=gr(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=Sr(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},io.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(r*=2);var s=void 0,a=void 0,l=void 0;for(s=0;s<=r;s++)l=2*s*Math.PI/r-Math.PI/2+this.angle_,a=s%2==0?this.radius_:o,e.lineTo(t.size/2+a*Math.cos(l),t.size/2+a*Math.sin(l))}e.fillStyle=kr,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},io);function io(t){var e=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(e=Qr.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0]})||this).canvas_={},e.hitDetectionCanvas_=null,e.fill_=void 0!==t.fill?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=void 0!==t.radius?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=void 0!==t.angle?t.angle:0,e.stroke_=void 0!==t.stroke?t.stroke:null,e.anchor_=null,e.size_=null,e.imageSize_=null,e.hitDetectionImageSize_=null,e.render(),e}function ro(t){var e=t||{};return eo.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this}var oo=((to=function(t,e){return(to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}to(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(ro,eo=no),ro.prototype.clone=function(){var t=this.getScale(),e=new ro({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},ro.prototype.setRadius=function(t){this.radius_=t,this.render()},ro);function so(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}var ao=(so.prototype.clone=function(){var t=this.getColor();return new so({color:Array.isArray(t)?t.slice():t||void 0})},so.prototype.getColor=function(){return this.color_},so.prototype.setColor=function(t){this.color_=t},so);function lo(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}var uo=(lo.prototype.clone=function(){var t=this.getColor();return new lo({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},lo.prototype.getColor=function(){return this.color_},lo.prototype.getLineCap=function(){return this.lineCap_},lo.prototype.getLineDash=function(){return this.lineDash_},lo.prototype.getLineDashOffset=function(){return this.lineDashOffset_},lo.prototype.getLineJoin=function(){return this.lineJoin_},lo.prototype.getMiterLimit=function(){return this.miterLimit_},lo.prototype.getWidth=function(){return this.width_},lo.prototype.setColor=function(t){this.color_=t},lo.prototype.setLineCap=function(t){this.lineCap_=t},lo.prototype.setLineDash=function(t){this.lineDash_=t},lo.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},lo.prototype.setLineJoin=function(t){this.lineJoin_=t},lo.prototype.setMiterLimit=function(t){this.miterLimit_=t},lo.prototype.setWidth=function(t){this.width_=t},lo),co=(ho.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new ho({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},ho.prototype.getRenderer=function(){return this.renderer_},ho.prototype.setRenderer=function(t){this.renderer_=t},ho.prototype.getGeometry=function(){return this.geometry_},ho.prototype.getGeometryFunction=function(){return this.geometryFunction_},ho.prototype.getFill=function(){return this.fill_},ho.prototype.setFill=function(t){this.fill_=t},ho.prototype.getImage=function(){return this.image_},ho.prototype.setImage=function(t){this.image_=t},ho.prototype.getStroke=function(){return this.stroke_},ho.prototype.setStroke=function(t){this.stroke_=t},ho.prototype.getText=function(){return this.text_},ho.prototype.setText=function(t){this.text_=t},ho.prototype.getZIndex=function(){return this.zIndex_},ho.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=go,this.geometry_=t},ho.prototype.setZIndex=function(t){this.zIndex_=t},ho);function ho(t){var e=t||{};this.geometry_=null,this.geometryFunction_=go,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}var fo=null;function po(t,e){if(!fo){var n=new ao({color:"rgba(255,255,255,0.4)"}),i=new uo({color:"#3399CC",width:1.25});fo=[new co({image:new oo({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return fo}function go(t){return t.getGeometry()}var yo,vo,mo=(yo=function(t,e){return(yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_o="renderOrder";function xo(t){var e=this,n=t||{},i=L({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(e=vo.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,e.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(n.style),e.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,e.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,e}var wo=(mo(xo,vo=Qi),xo.prototype.getDeclutter=function(){return this.declutter_},xo.prototype.getFeatures=function(t){return vo.prototype.getFeatures.call(this,t)},xo.prototype.getRenderBuffer=function(){return this.renderBuffer_},xo.prototype.getRenderOrder=function(){return this.get(_o)},xo.prototype.getStyle=function(){return this.style_},xo.prototype.getStyleFunction=function(){return this.styleFunction_},xo.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},xo.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},xo.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new er.a(9)),this.getRenderer().renderDeclutter(t)},xo.prototype.setRenderOrder=function(t){this.set(_o,t)},xo.prototype.setStyle=function(t){this.style_=void 0!==t?t:po,this.styleFunction_=null===t?void 0:function(t){var e,n;return"function"==typeof t?e=t:(n=Array.isArray(t)?t:(yt("function"==typeof t.getZIndex,41),[t]),e=function(){return n}),e}(this.style_),this.changed()},xo),So={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Co=[So.FILL],bo=[So.STROKE],To=[So.BEGIN_PATH],Eo=[So.CLOSE_PATH],ko=So;function Oo(){}var Io,Do,Po=(Oo.prototype.drawCustom=function(t,e,n){},Oo.prototype.drawGeometry=function(t){},Oo.prototype.setStyle=function(t){},Oo.prototype.drawCircle=function(t,e){},Oo.prototype.drawFeature=function(t,e){},Oo.prototype.drawGeometryCollection=function(t,e){},Oo.prototype.drawLineString=function(t,e){},Oo.prototype.drawMultiLineString=function(t,e){},Oo.prototype.drawMultiPoint=function(t,e){},Oo.prototype.drawMultiPolygon=function(t,e){},Oo.prototype.drawPoint=function(t,e){},Oo.prototype.drawPolygon=function(t,e){},Oo.prototype.drawText=function(t,e){},Oo.prototype.setFillStrokeStyle=function(t,e){},Oo.prototype.setImageStyle=function(t,e){},Oo.prototype.setTextStyle=function(t,e){},Oo);function Ro(t,e,n,i){var r=Do.call(this)||this;return r.tolerance=t,r.maxExtent=e,r.pixelRatio=i,r.maxLineWidth=0,r.resolution=n,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}var Lo,Ao,Fo=((Io=function(t,e){return(Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ro,Do=Po),Ro.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},Ro.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,o=r.length,s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],kt(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o},Ro.prototype.appendFlatLineCoordinates=function(t,e,n,i,r,o){var s=this.coordinates,a=s.length,l=this.getBufferedMaxExtent();o&&(e+=i);var u,c,h,f=t[e],p=t[e+1],d=this.tmpCoordinate_,g=!0;for(u=e+i;u<n;u+=i)d[0]=t[u],d[1]=t[u+1],(h=Dt(l,d))!==c?(g&&(s[a++]=f,s[a++]=p,g=!1),s[a++]=d[0],s[a++]=d[1]):g=h!==xt||(s[a++]=d[0],s[a++]=d[1],!1),f=d[0],p=d[1],c=h;return(r&&g||u===e+i)&&(s[a++]=f,s[a++]=p),a},Ro.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatLineCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},Ro.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==m){i=t.getOrientedFlatCoordinates(),s=[];for(var h=t.getEndss(),d=a=0,_=h.length;d<_;++d){var w=[];a=this.drawCustomCoordinates_(i,a,h[d],u,w),s.push(w)}this.instructions.push([ko.CUSTOM,c,s,t,n,On])}else l==g||l==v?(o=[],i=l==g?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),u,o),this.instructions.push([ko.CUSTOM,c,o,t,n,kn])):l==p||l==x?(i=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([ko.CUSTOM,c,r,t,n,En])):l==y?(i=t.getFlatCoordinates(),c<(r=this.appendFlatPointCoordinates(i,u))&&this.instructions.push([ko.CUSTOM,c,r,t,n,En])):l==f&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([ko.CUSTOM,c,r,t,n]));this.endGeometry(e)},Ro.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[ko.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ko.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},Ro.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},Ro.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==ko.END_GEOMETRY?o=t:i==ko.BEGIN_GEOMETRY&&(n[2]=t,k(this.hitDetectionInstructions,o,t),o=-1)},Ro.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=mr(i||kr)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=mr(r||Pr);var o=e.getLineCap();n.lineCap=void 0!==o?o:Or;var s=e.getLineDash();n.lineDash=s?s.slice():Ir;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:Dr;var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},Ro.prototype.createFill=function(t){var e=t.fillStyle,n=[ko.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},Ro.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},Ro.prototype.createStroke=function(t){return[ko.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},Ro.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},Ro.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;t.currentStrokeStyle==n&&t.currentLineCap==i&&(r==t.currentLineDash||I(t.currentLineDash,r))&&t.currentLineDashOffset==o&&t.currentLineJoin==s&&t.currentLineWidth==a&&t.currentMiterLimit==l||(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},Ro.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[ko.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},Ro.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=this.maxExtent.slice(),0<this.maxLineWidth)){var t=this.resolution*(this.maxLineWidth+1)/2;Tt(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},Ro);function Mo(t,e,n,i){var r=Ao.call(this,t,e,n,i)||this;return r.hitDetectionImage_=null,r.image_=null,r.imagePixelRatio_=void 0,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r.declutterImageWithText_=void 0,r}var jo,No,Wo=((Lo=function(t,e){return(Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Lo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Mo,Ao=Fo),Mo.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([ko.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([ko.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},Mo.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([ko.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([ko.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},Mo.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,Ao.prototype.finish.call(this)},Mo.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},Mo);function Go(t,e,n,i){return No.call(this,t,e,n,i)||this}var Bo,qo,Xo=((jo=function(t,e){return(jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Go,No=Fo),Go.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),s=[ko.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},Go.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ko.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],To);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(bo),this.endGeometry(e)}},Go.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ko.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],To);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(s,l,o[u],a);this.hitDetectionInstructions.push(bo),this.endGeometry(e)}},Go.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(bo),this.reverseHitDetectionInstructions(),this.state=null,No.prototype.finish.call(this)},Go.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(bo),t.lastStroke=this.coordinates.length),t.lastStroke=0,No.prototype.applyStroke.call(this,t),this.instructions.push(To)},Go),Ho=((Bo=function(t,e){return(Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Bo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(zo,qo=Fo),zo.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(To),this.hitDetectionInstructions.push(To);for(var l=0;l<a;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,u,i,!0,!s),f=[ko.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(Eo),this.hitDetectionInstructions.push(Eo)),e=u}return o&&(this.instructions.push(Co),this.hitDetectionInstructions.push(Co)),s&&(this.instructions.push(bo),this.hitDetectionInstructions.push(bo)),e},zo.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ko.SET_FILL_STYLE,kr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ko.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,s,!1,!1);var l=[ko.CIRCLE,a];this.instructions.push(To,l),this.hitDetectionInstructions.push(To,l),void 0!==n.fillStyle&&(this.instructions.push(Co),this.hitDetectionInstructions.push(Co)),void 0!==n.strokeStyle&&(this.instructions.push(bo),this.hitDetectionInstructions.push(bo)),this.endGeometry(e)}},zo.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ko.SET_FILL_STYLE,kr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ko.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(e)}},zo.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ko.SET_FILL_STYLE,kr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ko.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(s,l,o[u],a);this.endGeometry(e)}},zo.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Sn(e[n],t);return qo.prototype.finish.call(this)},zo.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},zo);function zo(t,e,n,i){return qo.call(this,t,e,n,i)||this}function Yo(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d=n,g=n,y=0,v=0,m=n;for(o=n;o<i;o+=r){var _=e[o],x=e[o+1];void 0!==l&&(f=_-l,p=x-u,a=Math.sqrt(f*f+p*p),void 0!==c&&(v+=s,t<Math.acos((c*f+h*p)/(s*a))&&(y<v&&(y=v,d=m,g=o),v=0,m=o-r)),s=a,c=f,h=p),l=_,u=x}return y<(v+=a)?[m,o]:[d,g]}var Uo,Vo,Ko=(Uo=function(t,e){return(Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Uo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$o={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function Zo(t,e,n,i){var r=Vo.call(this,t,e,n,i)||this;return r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",r.declutterImageWithText_=void 0,r}var Jo={Circle:Ho,Default:Fo,Image:Wo,LineString:Xo,Polygon:Ho,Text:(Ko(Zo,Vo=Fo),Zo.prototype.finish=function(){var t=Vo.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},Zo.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o=this.coordinates,s=o.length,a=t.getType(),l=null,u=t.getStride();if("line"!==r.placement||a!=p&&a!=v&&a!=g&&a!=m){var c=r.overflow?null:[];switch(a){case f:case y:l=t.getFlatCoordinates();break;case p:l=t.getFlatMidpoint();break;case x:l=t.getCenter();break;case v:l=t.getFlatMidpoints(),u=2;break;case g:l=t.getFlatInteriorPoint(),r.overflow||c.push(l[2]/this.resolution),u=3;break;case m:var h=t.getFlatInteriorPoints();for(l=[],O=0,I=h.length;O<I;O+=3)r.overflow||c.push(h[O+2]/this.resolution),l.push(h[O],h[O+1]);if(0===l.length)return;u=2}if((M=this.appendFlatPointCoordinates(l,u))===s)return;this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var d=r.padding;if(d!=Ar&&(r.scale[0]<0||r.scale[1]<0)){var _=r.padding[0],w=r.padding[1],S=r.padding[2],C=r.padding[3];r.scale[0]<0&&(w=-w,C=-C),r.scale[1]<0&&(_=-_,S=-S),d=[_,w,S,C]}var b=this.pixelRatio;this.instructions.push([ko.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,d==Ar?Ar:d.map((function(t){return t*b})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var T=1/b;this.hitDetectionInstructions.push([ko.DRAW_IMAGE,s,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,this.declutterImageWithText_,d,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Yt(this.getBufferedMaxExtent(),t.getExtent()))return;var E=void 0;if(l=t.getFlatCoordinates(),a==p)E=[l.length];else if(a==v)E=t.getEnds();else if(a==g)E=t.getEnds().slice(0,1);else if(a==m){var k=t.getEndss();E=[];for(var O=0,I=k.length;O<I;++O)E.push(k[O][0])}this.beginGeometry(t,e);for(var D=r.textAlign,P=0,R=void 0,L=0,A=E.length;L<A;++L){if(null==D){var F=Yo(r.maxAngle,l,P,E[L],u);P=F[0],R=F[1]}else R=E[L];for(O=P;O<R;O+=u)o.push(l[O],l[O+1]);var M=o.length;P=E[L],this.drawChars_(s,M),s=M}this.endGeometry(e)}}},Zo.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||Rr,textBaseline:e.textBaseline||Lr,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},Zo.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,l=$o[i.textBaseline],u=this.textOffsetY_*a,c=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([ko.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,a,u,r,h*a,c,o,1]),this.hitDetectionInstructions.push([ko.DRAW_CHARS,t,e,l,i.overflow,s,i.maxAngle,1,u,r,h,c,o,1/a])},Zo.prototype.setTextStyle=function(t,e){var n,i,r;if(t){var o=t.getFill();o?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=mr(o.getColor()||kr)):(i=null,this.textFillState_=i);var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var a=s.getLineDash(),l=s.getLineDashOffset(),u=s.getWidth(),c=s.getMiterLimit();r.lineCap=s.getLineCap()||Or,r.lineDash=a?a.slice():Ir,r.lineDashOffset=void 0===l?0:l,r.lineJoin=s.getLineJoin()||Dr,r.lineWidth=void 0===u?1:u,r.miterLimit=void 0===c?10:c,r.strokeStyle=mr(s.getColor()||Pr)}else r=null,this.textStrokeState_=r;n=this.textState_;var h=t.getFont()||Er;Hr(h);var f=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Lr,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Ar,n.scale=void 0===f?[1,1]:f;var p=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Z(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+Z(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},Zo)};function Qo(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}var ts,es,ns=(Qo.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var r=n[i].finish();t[e][i]=r}}return t},Qo.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new Jo[e](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r},Qo);function is(t){var e=es.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}var rs,os,ss=((ts=function(t,e){return(ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ts(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(is,es=V),is.prototype.getFeatures=function(t){return K()},is.prototype.prepareFrame=function(t){return K()},is.prototype.renderFrame=function(t,e){return K()},is.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},is.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){var o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}.bind(this)},is.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},is.prototype.getDataAtPixel=function(t,e,n){return K()},is.prototype.getLayer=function(){return this.layer_},is.prototype.handleFontsChanged=function(){},is.prototype.handleImageChange_=function(t){t.target.getState()===rr&&this.renderIfReadyAndVisible()},is.prototype.loadImage=function(t){var e=t.getState();return e!=rr&&e!=or&&t.addEventListener(X,this.boundHandleImageChange_),e==nr&&(t.load(),e=t.getState()),e==rr},is.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Zi&&t.changed()},is);function as(t,e,n,i){var r=os.call(this,t)||this;return r.inversePixelTransform=e,r.frameState=n,r.context=i,r}var ls,us,cs=((rs=function(t,e){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}rs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(as,os=S),as);function hs(t){var e=us.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=[1,0,0,1,0,0],e.pixelTransform=[1,0,0,1,0,0],e.inversePixelTransform=[1,0,0,1,0,0],e.context=null,e.containerReused=!1,e}var fs=((ls=function(t,e){return(ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ls(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(hs,us=ss),hs.prototype.useContainer=function(t,e,n){var i,r,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(r=a.getContext("2d")),!r||0!==r.canvas.width&&r.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=r,this.containerReused=!0),!this.container){(i=document.createElement("div")).className=o;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var a=(r=Sr()).canvas;i.appendChild(a),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}},hs.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i/2,o=e.size[1]*i/2,s=e.viewState.rotation,a=Xt(n),l=Ht(n),u=Gt(n),c=Wt(n);vt(e.coordinateToPixelTransform,a),vt(e.coordinateToPixelTransform,l),vt(e.coordinateToPixelTransform,u),vt(e.coordinateToPixelTransform,c),t.save(),Zr(t,-s,r,o),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),Zr(t,s,r,o)},hs.prototype.clipUnrotated=function(t,e,n){var i=Xt(n),r=Ht(n),o=Gt(n),s=Wt(n);vt(e.coordinateToPixelTransform,i),vt(e.coordinateToPixelTransform,r),vt(e.coordinateToPixelTransform,o),vt(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;vt(a,i),vt(a,r),vt(a,o),vt(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},hs.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new cs(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}},hs.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},hs.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},hs.prototype.getRenderTransform=function(t,e,n,i,r,o,s){var a=r/2,l=o/2,u=i/e,c=-u,h=-t[0]+s,f=-t[1];return mt(this.tempTransform,a,l,u,c,-n,h,f)},hs.prototype.getDataAtPixel=function(t,e,n){var i,r=vt(this.inversePixelTransform,t.slice()),o=this.context,s=this.getLayer().getExtent();if(s&&!kt(s,vt(e.pixelToCoordinateTransform,t.slice())))return null;try{var a=Math.round(r[0]),l=Math.round(r[1]),u=document.createElement("canvas"),c=u.getContext("2d");u.width=1,u.height=1,c.clearRect(0,0,1,1),c.drawImage(o.canvas,a,l,1,1,0,0,1,1),i=c.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},hs),ps="Circle",ds="Default",gs="Image",ys="LineString",vs="Polygon",ms="Text";function _s(t,e,n,i,r,o,s,a,l,u,c,h){var f=t[e],p=t[e+1],d=0,g=0,y=0,v=0;function m(){d=f,g=p,f=t[e+=i],p=t[e+1],v+=y,y=Math.sqrt((f-d)*(f-d)+(p-g)*(p-g))}for(;m(),e<n-i&&v+y<o;);for(var _=(o-v)/y,x=Qt(d,f,_),w=Qt(g,p,_),S=e-i,C=v,b=o+a*l(u,r,c);e<n-i&&v+y<b;)m();var T,E=Qt(d,f,_=(b-v)/y),k=Qt(g,p,_);if(h){var O=[x,w,E,k];je(O,0,4,2,h,O,O),T=O[2]<O[0]}else T=E<x;var I,D=Math.PI,P=[],R=S+i===e;if(y=0,v=C,f=t[e=S],p=t[e+1],R){m();var L=Math.atan2(p-g,f-d);T&&(L+=0<L?-D:D);var A=(E+x)/2,F=(k+w)/2;return P[0]=[A,F,(b-o)/2,L,r],P}for(var M=0,j=r.length;M<j;){m();var N=Math.atan2(p-g,f-d);if(T&&(N+=0<N?-D:D),void 0!==I){var W=N-I;if(W+=D<W?-2*D:W<-D?2*D:0,Math.abs(W)>s)return null}I=N;for(var G=M,B=0;M<j;++M){var q=a*l(u,r[T?j-M-1:M],c);if(e+i<n&&v+y<o+B+q/2)break;B+=q}if(M!==G){var X=T?r.substring(j-G,j-M):r.substring(G,M);A=Qt(d,f,_=(o+B/2-v)/y),F=Qt(g,p,_),P.push([A,F,B/2,N,X]),o+=B}}return P}var xs=[1/0,1/0,-1/0,-1/0],ws=[],Ss=[],Cs=[],bs=[];function Ts(t){return t[3].declutterBox}var Es=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function ks(t,e){return"start"!==e&&"end"!==e||Es.test(t)||(e="start"===e?"left":"right"),$o[e]}function Os(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}var Is=(Os.prototype.createLabel=function(t,e,n,i){var r=t+e+n+i;if(this.labels_[r])return this.labels_[r];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],l=this.pixelRatio,u=[a.scale[0]*l,a.scale[1]*l],c=ks(t,a.textAlign||Rr),h=i&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),p=f.length,d=[],g=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Kr(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(a.font,f,d),y=function(t){var e=Xr[t];if(null==e){if(xr){var n=Cr(t),i=Vr(t,"Å½g");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else Ur||((Ur=document.createElement("div")).innerHTML="M",Ur.style.margin="0 !important",Ur.style.padding="0 !important",Ur.style.position="absolute !important",Ur.style.left="-99999px !important"),Ur.style.font=t,document.body.appendChild(Ur),e=Ur.offsetHeight,document.body.removeChild(Ur);Xr[t]=e}return e}(a.font),v=g+h,m=[],_=(v+2)*u[0],x=(y*p+h)*u[1],w={width:_<0?Math.floor(_):Math.ceil(_),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:m};1==u[0]&&1==u[1]||m.push("scale",u),m.push("font",a.font),i&&(m.push("strokeStyle",o.strokeStyle),m.push("lineWidth",h),m.push("lineCap",o.lineCap),m.push("lineJoin",o.lineJoin),m.push("miterLimit",o.miterLimit),(xr?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(m.push("setLineDash",[o.lineDash]),m.push("lineDashOffset",o.lineDashOffset))),n&&m.push("fillStyle",s.fillStyle),m.push("textBaseline","middle"),m.push("textAlign","center");var S,C=.5-c,b=c*v+C*h;if(i)for(S=0;S<p;++S)m.push("strokeText",[f[S],b+C*d[S],.5*(h+y)+S*y]);if(n)for(S=0;S<p;++S)m.push("fillText",[f[S],b+C*d[S],.5*(h+y)+S*y]);return this.labels_[r]=w},Os.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},Os.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,r,o,s,a,l,u,c,h,f,p,d,g){var y,v=n-(s*=h[0]),m=i-(a*=h[1]),_=t<r+l?t-l:r,x=e<o+u?e-u:o,w=p[3]+_*h[0]+p[1],S=p[0]+x*h[1]+p[2],C=v-p[3],b=m-p[0];return!d&&0===c||(ws[0]=C,bs[0]=C,ws[1]=b,Ss[1]=b,Ss[0]=C+w,Cs[0]=Ss[0],Cs[1]=b+S,bs[1]=Cs[1]),0!==c?(vt(y=mt([1,0,0,1,0,0],n,i,1,1,c,-n,-i),ws),vt(y,Ss),vt(y,Cs),vt(y,bs),Pt(Math.min(ws[0],Ss[0],Cs[0],bs[0]),Math.min(ws[1],Ss[1],Cs[1],bs[1]),Math.max(ws[0],Ss[0],Cs[0],bs[0]),Math.max(ws[1],Ss[1],Cs[1],bs[1]),xs)):Pt(Math.min(C,C+w),Math.min(b,b+S),Math.max(C,C+w),Math.max(b,b+S),xs),f&&(v=Math.round(v),m=Math.round(m)),{drawImageX:v,drawImageY:m,drawImageW:_,drawImageH:x,originX:l,originY:u,declutterBox:{minX:xs[0],minY:xs[1],maxX:xs[2],maxY:xs[3],value:g},canvasTransform:y,scale:h}},Os.prototype.replayImageOrLabel_=function(t,e,n,i,r,o,s){var a=!(!o&&!s),l=i.declutterBox,u=t.canvas,c=s?s[2]*i.scale[0]/2:0;return l.minX-c<=u.width/e&&0<=l.maxX+c&&l.minY-c<=u.height/e&&0<=l.maxY+c&&(a&&this.replayTextBackground_(t,ws,Ss,Cs,bs,o,s),function(t,e,n,i,r,o,s,a,l,u,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(l,u),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):c[0]<0||c[1]<0?(t.translate(l,u),t.scale(c[0],c[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,l,u,s*c[0],a*c[1]),t.restore()}(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},Os.prototype.fill_=function(t){if(this.alignFill_){var e=vt(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},Os.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},Os.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=this.createLabel(t,e,i,n),s=this.strokeStates[n],a=this.pixelRatio,l=ks(t,r.textAlign||Rr),u=$o[r.textBaseline||Lr],c=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:l*(o.width/a-2*r.scale[0])+2*(.5-l)*c,anchorY:u*o.height/a+2*(.5-u)*c}},Os.prototype.execute_=function(t,e,n,i,r,o,s,a){var l,u,c;this.pixelCoordinates_&&I(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Me(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=n,(u=this.renderedTransform_)[0]=c[0],u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5]);for(var h,f,p,d,g,y,v,m,_,x,w,S,C,b,T,E,k=0,O=i.length,D=0,P=0,R=0,L=null,A=null,F=this.coordinateCache_,M=this.viewRotation_,j=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,N={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},W=this.instructions!=i||this.overlaps?0:200;k<O;){var G=i[k];switch(G[0]){case ko.BEGIN_GEOMETRY:C=G[1],E=G[3],C.getGeometry()?void 0===s||Yt(s,E.getExtent())?++k:k=G[2]+1:k=G[2];break;case ko.BEGIN_PATH:W<P&&(this.fill_(t),P=0),W<R&&(t.stroke(),R=0),P||R||(t.beginPath(),g=d=NaN),++k;break;case ko.CIRCLE:var B=l[D=G[1]],q=l[D+1],X=l[D+2]-B,H=l[D+3]-q,z=Math.sqrt(X*X+H*H);t.moveTo(B+z,q),t.arc(B,q,z,0,2*Math.PI,!0),++k;break;case ko.CLOSE_PATH:t.closePath(),++k;break;case ko.CUSTOM:D=G[1],h=G[2];var Y=G[3],U=G[4],V=6==G.length?G[5]:void 0;N.geometry=Y,N.feature=C,k in F||(F[k]=[]);var K=F[k];V?V(l,D,h,2,K):(K[0]=l[D],K[1]=l[D+1],K.length=2),U(K,N),++k;break;case ko.DRAW_IMAGE:D=G[1],h=G[2],m=G[3],f=G[4],p=G[5];var $=G[6],Z=G[7],J=G[8],Q=G[9],tt=G[10],et=G[11],nt=G[12],it=G[13],rt=G[14];if(!m&&19<=G.length){_=G[18],x=G[19],w=G[20],S=G[21];var ot=this.drawLabelWithPointPlacement_(_,x,w,S);m=ot.label,G[3]=m;var st=G[22];f=(ot.anchorX-st)*this.pixelRatio,G[4]=f;var at=G[23];p=(ot.anchorY-at)*this.pixelRatio,G[5]=p,$=m.height,G[6]=$,it=m.width,G[13]=it}var lt=void 0;24<G.length&&(lt=G[24]);var ut,ct=void 0,ht=void 0;ut=16<G.length?(ct=G[15],ht=G[16],G[17]):(ct=Ar,ht=!1),tt&&j?et+=M:tt||j||(et-=M);for(var ft=0;D<h;D+=2)if(!(lt&&lt[ft++]<it/this.pixelRatio)){var pt=[t,e,m,Wt=this.calculateImageOrLabelDimensions_(m.width,m.height,l[D],l[D+1],it,$,f,p,J,Q,et,nt,r,ct,ht||ut,C),Z,ht?L:null,ut?A:null],dt=void 0,gt=void 0;if(a&&rt){if(!rt[D]){rt[D]=pt;continue}if(dt=rt[D],delete rt[D],gt=Ts(dt),a.collides(gt))continue}a&&a.collides(Wt.declutterBox)||(dt&&(a&&a.insert(gt),this.replayImageOrLabel_.apply(this,dt)),a&&a.insert(Wt.declutterBox),this.replayImageOrLabel_.apply(this,pt))}++k;break;case ko.DRAW_CHARS:var yt=G[1],vt=G[2],mt=G[3],_t=G[4];S=G[5];var xt=G[6],wt=G[7],St=G[8];w=G[9];var Ct=G[10];_=G[11],x=G[12];var bt=[G[13],G[13]],Tt=this.textStates[x],Et=Tt.font,kt=[Tt.scale[0]*wt,Tt.scale[1]*wt],Ot=void 0;Et in this.widths_?Ot=this.widths_[Et]:(Ot={},this.widths_[Et]=Ot);var It=Mn(l,yt,vt,2),Dt=Math.abs(kt[0])*$r(Et,_,Ot);if(_t||Dt<=It){var Pt=this.textStates[x].textAlign,Rt=_s(l,yt,vt,2,_,(It-Dt)*$o[Pt],xt,Math.abs(kt[0]),$r,Et,Ot,j?0:this.viewRotation_);t:if(Rt){var Lt=[],At=void 0,Ft=void 0,Mt=void 0,jt=void 0,Nt=void 0;if(w)for(At=0,Ft=Rt.length;At<Ft;++At){Mt=(Nt=Rt[At])[4],jt=this.createLabel(Mt,x,"",w),f=Nt[2]+(kt[0]<0?-Ct:Ct),p=mt*jt.height+2*(.5-mt)*Ct*kt[1]/kt[0]-St;var Wt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,f,p,0,0,Nt[3],bt,!1,Ar,!1,C);if(a&&a.collides(Wt.declutterBox))break t;Lt.push([t,e,jt,Wt,1,null,null])}if(S)for(At=0,Ft=Rt.length;At<Ft;++At){if(Mt=(Nt=Rt[At])[4],jt=this.createLabel(Mt,x,S,""),f=Nt[2],p=mt*jt.height-St,Wt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Nt[0],Nt[1],jt.width,jt.height,f,p,0,0,Nt[3],bt,!1,Ar,!1,C),a&&a.collides(Wt.declutterBox))break t;Lt.push([t,e,jt,Wt,1,null,null])}a&&a.load(Lt.map(Ts));for(var Gt=0,Bt=Lt.length;Gt<Bt;++Gt)this.replayImageOrLabel_.apply(this,Lt[Gt])}}++k;break;case ko.END_GEOMETRY:if(void 0!==o){var qt=o(C=G[1],E);if(qt)return qt}++k;break;case ko.FILL:W?P++:this.fill_(t),++k;break;case ko.MOVE_TO_LINE_TO:for(D=G[1],h=G[2],b=l[D],v=(T=l[D+1])+.5|0,(y=b+.5|0)===d&&v===g||(t.moveTo(b,T),d=y,g=v),D+=2;D<h;D+=2)y=(b=l[D])+.5|0,v=(T=l[D+1])+.5|0,D!=h-2&&y===d&&v===g||(t.lineTo(b,T),d=y,g=v);++k;break;case ko.SET_FILL_STYLE:L=G,this.alignFill_=G[2],P&&(this.fill_(t),P=0,R&&(t.stroke(),R=0)),t.fillStyle=G[1],++k;break;case ko.SET_STROKE_STYLE:A=G,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,G),++k;break;case ko.STROKE:W?R++:t.stroke(),++k;break;default:++k}}P&&this.fill_(t),R&&t.stroke()},Os.prototype.execute=function(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)},Os.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)},Os),Ds=[vs,ps,ys,gs,ms,ds],Ps=(Rs.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},Rs.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var i=t[e],r=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i){var s=i[o];n[o]=new Is(this.resolution_,this.pixelRatio_,this.overlaps_,s,r)}}},Rs.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},Rs.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o){var s=2*(i=Math.round(i))+1,a=mt(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=Sr(s,s));var u,c=this.hitDetectionContext_;c.canvas.width!==s||c.canvas.height!==s?(c.canvas.width=s,c.canvas.height=s):l||c.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Ft(u=[1/0,1/0,-1/0,-1/0],t),Tt(u,e*(this.renderBuffer_+i),u));var h,f=function(t){if(void 0!==Fs[t])return Fs[t];for(var e=2*t+1,n=t*t,i=new Array(1+n),r=0;r<=t;++r)for(var o=0;o<=t;++o){var s=r*r+o*o;if(n<s)break;var a=i[s];a||(a=[],i[s]=a),a.push(4*((t+r)*e+(t+o))+3),0<r&&a.push(4*((t-r)*e+(t+o))+3),0<o&&(a.push(4*((t+r)*e+(t-o))+3),0<r&&a.push(4*((t-r)*e+(t-o))+3))}for(var l=[],u=(r=0,i.length);r<u;++r)i[r]&&l.push.apply(l,i[r]);return Fs[t]=l}(i);function p(t,e){for(var n=c.getImageData(0,0,s,s).data,a=0,l=f.length;a<l;a++)if(0<n[f[a]]){if(!o||h!==gs&&h!==ms||-1!==o.indexOf(t)){var u=(f[a]-3)/4,p=i-u%s,d=i-(u/s|0),g=r(t,e,p*p+d*d);if(g)return g}c.clearRect(0,0,s,s);break}}var d,g,y,v,m,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(E),d=_.length-1;0<=d;--d){var x=_[d].toString();for(y=this.executorsByZIndex_[x],g=Ds.length-1;0<=g;--g)if(void 0!==(v=y[h=Ds[g]])&&(m=v.executeHitDetection(c,a,n,p,u)))return m}},Rs.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Me(s,0,8,2,t,s),s},Rs.prototype.isEmpty=function(){return N(this.executorsByZIndex_)},Rs.prototype.execute=function(t,e,n,i,r,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(E),this.maxExtent_&&(t.save(),this.clip(t,n));var l,u,c,h,f,p,d=o||Ds;for(s&&a.reverse(),l=0,u=a.length;l<u;++l){var g=a[l].toString();for(f=this.executorsByZIndex_[g],c=0,h=d.length;c<h;++c)void 0!==(p=f[d[c]])&&p.execute(t,e,n,i,r,s)}this.maxExtent_&&t.restore()},Rs);function Rs(t,e,n,i,r,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}var Ls,As,Fs={},Ms=Ps;function js(t,e,n,i,r,o,s){var a=As.call(this)||this;return a.context_=t,a.pixelRatio_=e,a.extent_=n,a.transform_=i,a.viewRotation_=r,a.squaredTolerance_=o,a.userTransform_=s,a.contextFillState_=null,a.contextStrokeState_=null,a.contextTextState_=null,a.fillState_=null,a.strokeState_=null,a.image_=null,a.imageAnchorX_=0,a.imageAnchorY_=0,a.imageHeight_=0,a.imageOpacity_=0,a.imageOriginX_=0,a.imageOriginY_=0,a.imageRotateWithView_=!1,a.imageRotation_=0,a.imageScale_=[0,0],a.imageWidth_=0,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=!1,a.textRotation_=0,a.textScale_=[0,0],a.textFillState_=null,a.textStrokeState_=null,a.textState_=null,a.pixelCoordinates_=[],a.tmpLocalTransform_=[1,0,0,1,0,0],a}var Ns=((Ls=function(t,e){return(Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ls(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(js,As=Po),js.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Me(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,c=r.length;u<c;u+=2){var h=r[u]-this.imageAnchorX_,f=r[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;mt(s,p,d,1,1,l,-p,-d),o.setTransform.apply(o,s),o.translate(p,d),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},js.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Me(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var u=mt(this.tmpLocalTransform_,a,l,1,1,s,-a,-l);o.setTransform.apply(o,u),o.translate(a,l),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,l),this.textFillState_&&o.fillText(this.text_,a,l)}}},js.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Me(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var l=2;l<a;l+=2)o.lineTo(s[l],s[l+1]);return r&&o.closePath(),n},js.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},js.prototype.drawCircle=function(t){if(Yt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Me(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},js.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},js.prototype.setTransform=function(t){this.transform_=t},js.prototype.drawGeometry=function(t){switch(t.getType()){case f:this.drawPoint(t);break;case p:this.drawLineString(t);break;case g:this.drawPolygon(t);break;case y:this.drawMultiPoint(t);break;case v:this.drawMultiLineString(t);break;case m:this.drawMultiPolygon(t);break;case _:this.drawGeometryCollection(t);break;case x:this.drawCircle(t)}},js.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Yt(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},js.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},js.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},js.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},js.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},js.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Yt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,l=o.length;a<l;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},js.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},js.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Yt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var l=r[s];i=this.drawRings_(n,i,l,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},js.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},js.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(I(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},js.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:Rr;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},js.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:mr(n||kr)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:Or,lineDash:o||Ir,lineDashOffset:s||0,lineJoin:void 0!==a?a:Dr,lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==u?u:10,strokeStyle:mr(i||Pr)}}else this.strokeState_=null},js.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var n=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),o=t.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=e[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*o[0],this.pixelRatio_*o[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},js.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:mr(n||kr)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:Or,lineDash:s||Ir,lineDashOffset:a||0,lineJoin:void 0!==l?l:Dr,lineWidth:void 0!==u?u:1,miterLimit:void 0!==c?c:10,strokeStyle:mr(r||Pr)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScaleArray(),v=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:Er,textAlign:void 0!==m?m:Rr,textBaseline:void 0!==_?_:Lr},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=""},js),Ws="fraction",Gs="bottom-left",Bs="bottom-right",qs="top-left",Xs="top-right";function Hs(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}function zs(t,e,n){return e+":"+t+":"+(n?hr(n):"null")}var Ys,Us,Vs,Ks,$s=new(Hs.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Hs.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},Hs.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Hs.prototype.get=function(t,e,n){var i=zs(t,e,n);return i in this.cache_?this.cache_[i]:null},Hs.prototype.set=function(t,e,n,i){var r=zs(t,e,n);this.cache_[r]=i,++this.cacheSize_},Hs.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},Hs),Zs=((Ys=function(t,e){return(Ys=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ys(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Js,Us=q),Js.prototype.changed=function(){this.dispatchEvent(X)},Js.prototype.getExtent=function(){return this.extent},Js.prototype.getImage=function(){return K()},Js.prototype.getPixelRatio=function(){return this.pixelRatio_},Js.prototype.getResolution=function(){return this.resolution},Js.prototype.getState=function(){return this.state},Js.prototype.load=function(){K()},Js);function Js(t,e,n,i){var r=Us.call(this)||this;return r.extent=t,r.pixelRatio_=n,r.resolution=e,r.state=i,r}function Qs(t,e,n,i,r,o){var s=Ks.call(this,t,e,n,nr)||this;return s.src_=i,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=nr,s.imageLoadFunction_=o,s}function ta(t,e,n){var i=t;if(i.src&&wr){var r=i.decode(),o=!0;return r.then((function(){o&&e()})).catch((function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e:n)()})),function(){o=!1}}var s=[z(i,"load",e),z(i,"error",n)];return function(){s.forEach(Y)}}(Vs=function(t,e){return(Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Qs,Ks=Zs),Qs.prototype.getImage=function(){return this.image_},Qs.prototype.handleImageError_=function(){this.state=or,this.unlistenImage_(),this.changed()},Qs.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=qt(this.extent)/this.image_.height),this.state=rr,this.unlistenImage_(),this.changed()},Qs.prototype.load=function(){this.state!=nr&&this.state!=or||(this.state=ir,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=ta(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},Qs.prototype.setImage=function(t){this.image_=t},Qs.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};var ea,na,ia,ra,oa=(ea=function(t,e){return(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ea(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),sa=null,aa=(oa(la,na=q),la.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===rr){(sa=sa||Sr(1,1)).drawImage(this.image_,0,0);try{sa.getImageData(0,0,1,1),this.tainted_=!1}catch(t){sa=null,this.tainted_=!0}}return!0===this.tainted_},la.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(X)},la.prototype.handleImageError_=function(){this.imageState_=or,this.unlistenImage_(),this.dispatchChangeEvent_()},la.prototype.handleImageLoad_=function(){this.imageState_=rr,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},la.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},la.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},la.prototype.getImageState=function(){return this.imageState_},la.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Sr(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},la.prototype.getSize=function(){return this.size_},la.prototype.getSrc=function(){return this.src_},la.prototype.load=function(){if(this.imageState_==nr){this.imageState_=ir;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=ta(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},la.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");(this.canvas_[t]=e).width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),(n.globalCompositeOperation="multiply")===n.globalCompositeOperation||this.isTainted_())n.fillStyle=hr(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,o=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,l=this.color_[3],u=0,c=r.length;u<c;u+=4)r[u]*=o,r[u+1]*=s,r[u+2]*=a,r[u+3]*=l;n.putImageData(i,0,0)}}},la.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},la);function la(t,e,n,i,r,o){var s=na.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=o,s.unlisten_=null,s.imageState_=r,s.size_=n,s.src_=e,s.tainted_,s}function ua(t){var e=this,n=t||{},i=void 0!==n.opacity?n.opacity:1,r=void 0!==n.rotation?n.rotation:0,o=void 0!==n.scale?n.scale:1,s=void 0!==n.rotateWithView&&n.rotateWithView;(e=ra.call(this,{opacity:i,rotation:r,scale:o,displacement:void 0!==n.displacement?n.displacement:[0,0],rotateWithView:s})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:qs,e.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:Ws,e.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:Ws,e.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var a=void 0!==n.img?n.img:null,l=void 0!==n.imgSize?n.imgSize:null,u=n.src;yt(!(void 0!==u&&a),4),yt(!a||a&&l,5),void 0!==u&&0!==u.length||!a||(u=a.src||Z(a)),yt(void 0!==u&&0<u.length,6);var c,h,f,p,d,g,y,v=void 0!==n.src?nr:rr;return e.color_=void 0!==n.color?gr(n.color):null,e.iconImage_=(c=a,h=u,f=l,p=e.crossOrigin_,d=v,g=e.color_,(y=$s.get(h,p,g))||(y=new aa(c,h,f,p,d,g),$s.set(h,p,g,y)),y),e.offset_=void 0!==n.offset?n.offset:[0,0],e.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:qs,e.origin_=null,e.size_=void 0!==n.size?n.size:null,e}var ca,ha,fa=((ia=function(t,e){return(ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ia(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(ua,ra=lr),ua.prototype.clone=function(){var t=this.getScale();return new ua({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ua.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Ws||this.anchorYUnits_==Ws){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Ws&&(t[0]*=e[0]),this.anchorYUnits_==Ws&&(t[1]*=e[1])}if(this.anchorOrigin_!=qs){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Xs&&this.anchorOrigin_!=Bs||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Gs&&this.anchorOrigin_!=Bs||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},ua.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},ua.prototype.getColor=function(){return this.color_},ua.prototype.getImage=function(t){return this.iconImage_.getImage(t)},ua.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},ua.prototype.getImageSize=function(){return this.iconImage_.getSize()},ua.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},ua.prototype.getImageState=function(){return this.iconImage_.getImageState()},ua.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},ua.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=qs){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),this.offsetOrigin_!=Xs&&this.offsetOrigin_!=Bs||(t[0]=i[0]-n[0]-t[0]),this.offsetOrigin_!=Gs&&this.offsetOrigin_!=Bs||(t[1]=i[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},ua.prototype.getSrc=function(){return this.iconImage_.getSrc()},ua.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},ua.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(X,t)},ua.prototype.load=function(){this.iconImage_.load()},ua.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(X,t)},ua),pa={Point:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=rr)return;var l=t.getBuilder(n.getZIndex(),gs);l.setImageStyle(s,o),l.drawPoint(e,i)}if(a&&a.getText()){var u=t.getBuilder(n.getZIndex(),ms);u.setTextStyle(a,o),u.drawText(e,i)}},LineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),ys);s.setFillStrokeStyle(null,o),s.drawLineString(e,i)}var a=n.getText();if(a&&a.getText()){var l=(r||t).getBuilder(n.getZIndex(),ms);l.setTextStyle(a),l.drawText(e,i)}},Polygon:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),vs);a.setFillStrokeStyle(o,s),a.drawPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),ms);u.setTextStyle(l),u.drawText(e,i)}},MultiPoint:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(s.getImageState()!=rr)return;var l=t.getBuilder(n.getZIndex(),gs);l.setImageStyle(s,o),l.drawMultiPoint(e,i)}if(a&&a.getText()){var u=(r||t).getBuilder(n.getZIndex(),ms);u.setTextStyle(a,o),u.drawText(e,i)}},MultiLineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),ys);s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,i)}var a=n.getText();if(a&&a.getText()){var l=(r||t).getBuilder(n.getZIndex(),ms);l.setTextStyle(a),l.drawText(e,i)}},MultiPolygon:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(s||o){var a=t.getBuilder(n.getZIndex(),vs);a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),ms);u.setTextStyle(l),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i,r){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,pa[a[o].getType()])(t,a[o],n,i,r)},Circle:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),ps);a.setFillStrokeStyle(o,s),a.drawCircle(e,i)}var l=n.getText();if(l&&l.getText()){var u=(r||t).getBuilder(n.getZIndex(),ms);u.setTextStyle(l),u.drawText(e,i)}}};function da(t,e){return parseInt(Z(t),10)-parseInt(Z(e),10)}function ga(t,e){return.5*t/e}function ya(t,e,n,i,r,o,s){var a=!1,l=n.getImage();if(l){var u=l.getImageState();u==rr||u==or?l.unlistenImageChange(r):(u==nr&&l.load(),u=l.getImageState(),l.listenImageChange(r),a=!0)}return function(t,e,n,i,r,o){var s=n.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(i,r);n.getRenderer()?function t(e,n,i,r){if(n.getType()!=_)e.getBuilder(i.getZIndex(),ds).drawCustom(n,r,i.getRenderer());else for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r)}(t,a,n,e):(0,pa[a.getType()])(t,a,n,e,o)}}(t,e,n,i,o,s),a}function va(t){var e=ha.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=[1/0,1/0,-1/0,-1/0],e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}var ma,_a,xa=((ca=function(t,e){return(ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ca(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(va,ha=fs),va.prototype.useContainer=function(t,e,n){n<1&&(t=null),ha.prototype.useContainer.call(this,t,e,n)},va.prototype.renderWorlds=function(t,e,n){var i=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,l=r.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,f=e.viewHints,p=!(f[0]||f[1]),d=this.context,g=Math.round(e.size[0]*h),y=Math.round(e.size[1]*h),v=c.getWrapX()&&a.canWrapX(),m=v?zt(u):null,_=v?Math.ceil((i[2]-u[2])/m)+1:1,x=v?Math.floor((i[0]-u[0])/m):0;do{var w=this.getRenderTransform(o,s,l,h,g,y,x*m);t.execute(d,1,w,l,p,void 0,n)}while(++x<_)},va.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},va.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];(function(t,e,n,i,r,o,s){t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s})(this.pixelTransform,1/n,0,0,1/n,0,0),function(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];yt(0!=i,32);var r=e[0],o=e[1],s=e[2],a=e[3],l=e[4],u=e[5];t[0]=a/i,t[1]=-o/i,t[2]=-s/i,t[3]=r/i,t[4]=(s*u-a*l)/i,t[5]=-(r*u-o*l)/i}(this.inversePixelTransform,this.pixelTransform);var r=function(t){return"matrix("+t.join(", ")+")"}(this.pixelTransform);this.useContainer(e,r,i.opacity);var o=this.context,s=o.canvas,a=this.replayGroup_,l=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!l||l.isEmpty()))return!this.containerReused&&0<s.width&&(s.width=0),this.container;var u=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);s.width!=u||s.height!=c?(s.width=u,s.height=c,s.style.transform!==r&&(s.style.transform=r)):this.containerReused||o.clearRect(0,0,u,c),this.preRender(o,t);var h=t.viewState,f=h.projection,p=!1;if(i.extent&&this.clipping){var d=(f,i.extent);(p=!Ot(d,t.extent)&&Yt(d,t.extent))&&this.clipUnrotated(o,t,d)}this.renderWorlds(a,t),p&&o.restore(),this.postRender(o,t);var g=i.opacity,y=this.container;return g!==parseFloat(y.style.opacity)&&(y.style.opacity=1===g?"":String(g)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},va.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];vt(this.pixelTransform,n);var i=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.renderedExtent_,l=this.getLayer(),u=[],c=n[0]/2,h=n[1]/2;u.push(this.getRenderTransform(i,r,o,.5,c,h,0).slice());var d=l.getSource(),y=s.getExtent();if(d.getWrapX()&&s.canWrapX()&&!Ot(y,a)){for(var v=a[0],m=zt(y),_=0,w=void 0;v<y[0];)w=m*--_,u.push(this.getRenderTransform(i,r,o,.5,c,h,w).slice()),v+=m;for(_=0,v=a[2];v>y[2];)w=m*++_,u.push(this.getRenderTransform(i,r,o,.5,c,h,w).slice()),v-=m}this.hitDetectionImageData_=function(t,e,n,i,r,o,s){var a=Sr(t[0]/2,t[1]/2);a.imageSmoothingEnabled=!1;for(var l=a.canvas,u=new Ns(a,.5,r,null,s),c=n.length,h=Math.floor(16777215/c),d={},y=1;y<=c;++y){var v=n[y-1],m=v.getStyleFunction()||i;if(i){var _=m(v,o);if(_){Array.isArray(_)||(_=[_]);for(var w="#"+("000000"+(y*h).toString(16)).slice(-6),S=0,C=_.length;S<C;++S){var b=_[S],T=b.clone(),k=T.getFill();k&&k.setColor(w);var O=T.getStroke();O&&O.setColor(w),T.setText(void 0);var I=b.getImage();if(I){var D=I.getImageSize();if(!D)continue;var P=document.createElement("canvas");P.width=D[0],P.height=D[1];var R=P.getContext("2d",{alpha:!1});R.fillStyle=w;var L=R.canvas;R.fillRect(0,0,L.width,L.height),Sr(D?D[0]:L.width,D?D[1]:L.height).drawImage(L,0,0),T.setImage(new fa({img:L,imgSize:D,anchor:I.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:I.getOrigin(),size:I.getSize(),opacity:I.getOpacity(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}var A=Number(T.getZIndex());(N=d[A])||(N={},(d[A]=N)[g]=[],N[x]=[],N[p]=[],N[f]=[]);var F=T.getGeometryFunction()(v);F&&Yt(r,F.getExtent())&&N[F.getType().replace("Multi","")].push(F,T)}}}}for(var M=Object.keys(d).map(Number).sort(E),j=(y=0,M.length);y<j;++y){var N=d[M[y]];for(var W in N){var G=N[W];for(S=0,C=G.length;S<C;S+=2){u.setStyle(G[S+1]);for(var B=0,q=e.length;B<q;++B)u.setTransform(e[B]),u.drawGeometry(G[S])}}}return a.getImageData(0,0,l.width,l.height)}(n,u,this.renderedFeatures_,l.getStyleFunction(),a,r,o)}e(function(t,e,n){var i=[];if(n){var r=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[r],s=n.data[1+r],a=n.data[2+r]+256*(s+256*o),l=Math.floor(16777215/e.length);a&&a%l==0&&i.push(e[a/l-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},va.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,l=e.viewState.rotation,u=this.getLayer(),c={},h=function(t,e,n){var o=Z(t),s=c[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return c[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,u,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return c[o]=!0,i(t,u,e);r.push(c[o]={feature:t,layer:u,geometry:e,distanceSq:n,callback:i})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(i){return s=i.forEachFeatureAtCoordinate(t,a,l,n,h,i===o.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},va.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},va.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},va.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[0],r=t.viewHints[1],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var a=t.extent,l=t.viewState,u=l.projection,c=l.resolution,h=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=da);var g=l.center.slice(),y=Tt(a,p*c),v=[y.slice()],m=u.getExtent();if(n.getWrapX()&&u.canWrapX()&&!Ot(m,t.extent)){var _=zt(m),x=Math.max(zt(y)/2,_);y[0]=m[0]-x,y[2]=m[2]+x,function(t,e){if(e.canWrapX()){var n=zt(e.getExtent()),i=function(t,e,n){var i=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])){var o=n||zt(i);r=Math.floor((t[0]-i[0])/o)}return r}(t,e,n);i&&(t[0]-=i*n)}}(g,u);var w=function(t,e){var n=e.getExtent(),i=Bt(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=zt(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}(v[0],u);w[0]<m[0]&&w[2]<m[2]?v.push([w[0]+_,w[1],w[2]+_,w[3]]):w[0]>m[0]&&w[2]>m[2]&&v.push([w[0]-_,w[1],w[2]-_,w[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==d&&Ot(this.renderedExtent_,y))return!(this.replayGroupChanged=!1);this.replayGroup_=null,this.dirty_=!1;var S,C=new ns(ga(c,h),y,c,h);this.getLayer().getDeclutter()&&(S=new ns(ga(c,h),y,c,h));var b,T=Le();if(T){for(var E=0,k=v.length;E<k;++E)n.loadFeatures(Fe(v[E]),c,T);b=ke(T,u)}else for(E=0,k=v.length;E<k;++E)n.loadFeatures(v[E],c,u);var O,I=(O=ga(c,h))*O,D=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,c)),n){var r=this.renderFeature(t,I,n,C,b,S);this.dirty_=this.dirty_||r}}.bind(this),P=Fe(y),R=n.getFeaturesInExtent(P);for(d&&R.sort(d),E=0,k=R.length;E<k;++E)D(R[E]);this.renderedFeatures_=R;var L=C.finish(),A=new Ms(y,c,h,n.getOverlaps(),L,e.getRenderBuffer());return S&&(this.declutterExecutorGroup=new Ms(y,c,h,n.getOverlaps(),S.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=u,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0},va.prototype.renderFeature=function(t,e,n,i,r,o){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,l=n.length;a<l;++a)s=ya(i,t,n[a],e,this.boundHandleStyleImageChange_,r,o)||s;else s=ya(i,t,n,e,this.boundHandleStyleImageChange_,r,o);return s},va);function wa(t){return _a.call(this,t)||this}var Sa,Ca,ba,Ta=((ma=function(t,e){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ma(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(wa,_a=wo),wa.prototype.createRenderer=function(){return new xa(this)},wa),Ea="remove",ka=(Sa=function(t,e){return(Sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Sa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oa=(ka(Ia,Ca=S),Ia);function Ia(t,e,n){var i=Ca.call(this,t)||this;return i.element=e,i.index=n,i}function Da(t,e){var n=ba.call(this)||this,i=e||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var r=0,o=n.array_.length;r<o;++r)n.assertUnique_(n.array_[r],r);return n.updateLength_(),n}var Pa=(ka(Da,ba=lt),Da.prototype.clear=function(){for(;0<this.getLength();)this.pop()},Da.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},Da.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},Da.prototype.getArray=function(){return this.array_},Da.prototype.item=function(t){return this.array_[t]},Da.prototype.getLength=function(){return this.get("length")},Da.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Oa("add",e,t))},Da.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Da.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},Da.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},Da.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Oa(Ea,e,t)),e},Da.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Oa(Ea,i,t)),this.dispatchEvent(new Oa("add",e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},Da.prototype.updateLength_=function(){this.set("length",this.array_.length)},Da.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new gt(58)},Da);function Ra(t){this.rbush_=new er.a(t),this.items_={}}var La,Aa,Fa=(Ra.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Z(e)]=n},Ra.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=a,this.items_[Z(s)]=a}this.rbush_.load(n)},Ra.prototype.remove=function(t){var e=Z(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},Ra.prototype.update=function(t,e){var n=this.items_[Z(e)];At([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},Ra.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},Ra.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},Ra.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},Ra.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},Ra.prototype.forEach_=function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n},Ra.prototype.isEmpty=function(){return N(this.items_)},Ra.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Ra.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Pt(e.minX,e.minY,e.maxX,e.maxY,t)},Ra.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},Ra);function Ma(t){var e=Aa.call(this)||this;return e.projection_=Te(t.projection),e.attributions_=ja(t.attributions),e.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,e.loading=!1,e.state_=void 0!==t.state?t.state:Zi,e.wrapX_=void 0!==t.wrapX&&t.wrapX,e}function ja(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Na=((La=function(t,e){return(La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}La(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(Ma,Aa=lt),Ma.prototype.getAttributions=function(){return this.attributions_},Ma.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},Ma.prototype.getProjection=function(){return this.projection_},Ma.prototype.getResolutions=function(){return K()},Ma.prototype.getState=function(){return this.state_},Ma.prototype.getWrapX=function(){return this.wrapX_},Ma.prototype.getContextOptions=function(){},Ma.prototype.refresh=function(){this.changed()},Ma.prototype.setAttributions=function(t){this.attributions_=ja(t),this.changed()},Ma.prototype.setState=function(t){this.state_=t,this.changed()},Ma),Wa="addfeature",Ga="removefeature";function Ba(t,e){return[[-1/0,-1/0,1/0,1/0]]}var qa="arraybuffer",Xa="json",Ha="text",za="xml";function Ya(t,e){return function(n,i,r,o,s){var a,l,u,c,h,f,p,d,g=this;a=t,l=e,u=n,c=i,h=r,f=function(t,e){void 0!==o&&o(t),g.addFeatures(t)},p=s||R,(d=new XMLHttpRequest).open("GET","function"==typeof a?a(u,c,h):a,!0),l.getType()==qa&&(d.responseType="arraybuffer"),d.withCredentials=!1,d.onload=function(t){if(!d.status||200<=d.status&&d.status<300){var e=l.getType(),n=void 0;e==Xa||e==Ha?n=d.responseText:e==za?n=(n=d.responseXML)||(new DOMParser).parseFromString(d.responseText,"application/xml"):e==qa&&(n=d.response),n?f(l.readFeatures(n,{extent:u,featureProjection:h}),l.readProjection(n)):p()}else p()},d.onerror=p,d.send()}}var Ua,Va,Ka,$a=(Ua=function(t,e){return(Ua=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ua(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Za=($a(Ja,Va=S),Ja);function Ja(t,e,n){var i=Va.call(this,t)||this;return i.feature=e,i.features=n,i}function Qa(t){var e=this,n=t||{};(e=Ka.call(this,{attributions:n.attributions,projection:void 0,state:Zi,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=R,e.format_=n.format,e.overlaps_=void 0===n.overlaps||n.overlaps,e.url_=n.url,void 0!==n.loader?e.loader_=n.loader:void 0!==e.url_&&(yt(e.format_,7),e.loader_=Ya(e.url_,e.format_)),e.strategy_=void 0!==n.strategy?n.strategy:Ba;var i,r,o=void 0===n.useSpatialIndex||n.useSpatialIndex;return e.featuresRtree_=o?new Fa:null,e.loadedExtentsRtree_=new Fa,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),o||void 0!==i||(i=new Pa(r)),void 0!==r&&e.addFeaturesInternal(r),void 0!==i&&e.bindFeaturesCollection_(i),e}var tl=($a(Qa,Ka=Na),Qa.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},Qa.prototype.addFeatureInternal=function(t){var e=Z(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Za(Wa,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},Qa.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[H(e,X,this.handleFeatureChange_,this),H(e,C,this.handleFeatureChange_,this)]},Qa.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(yt(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},Qa.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},Qa.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=Z(l=t[r]);this.addToIndex_(s,l)&&n.push(l)}r=0;for(var a=n.length;r<a;r++){var l;s=Z(l=n[r]),this.setupChangeEvents_(s,l);var u=l.getGeometry();if(u){var c=u.getExtent();e.push(c),i.push(l)}else this.nullGeometryFeatures_[s]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i),r=0;for(var h=n.length;r<h;r++)this.dispatchEvent(new Za(Wa,n[r]))},Qa.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(Wa,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(Ga,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener("add",function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(Ea,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},Qa.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Y);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new Za("clear");this.dispatchEvent(i),this.changed()},Qa.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},Qa.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},Qa.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},Qa.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},Qa.prototype.getFeaturesCollection=function(){return this.featuresCollection_},Qa.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),N(this.nullGeometryFeatures_)||O(t,j(this.nullGeometryFeatures_))),t},Qa.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},Qa.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},Qa.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||D;return this.featuresRtree_.forEachInExtent(a,(function(t){if(l(t)){var e=t.getGeometry(),u=s;if((s=e.closestPointXY(n,i,o,s))<u){r=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}})),r},Qa.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},Qa.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},Qa.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},Qa.prototype.getFormat=function(){return this.format_},Qa.prototype.getOverlaps=function(){return this.overlaps_},Qa.prototype.getUrl=function(){return this.url_},Qa.prototype.handleFeatureChange_=function(t){var e=t.target,n=Z(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Za("changefeature",e))},Qa.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Z(t)in this.uidIndex_},Qa.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&N(this.nullGeometryFeatures_)},Qa.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,r=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var a=r[t];i.forEachInExtent(a,(function(t){return Ot(t.extent,a)}))||(s.dispatchEvent(new Za("featuresloadstart")),s.loader_.call(s,a,e,n,function(t){this.dispatchEvent(new Za("featuresloadend",void 0,t))}.bind(s),function(){this.dispatchEvent(new Za("featuresloaderror"))}.bind(s)),i.insert(a,{extent:a.slice()}),s.loading=s.loader_!==R)},s=this,a=0,l=r.length;a<l;++a)o(a)},Qa.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),Ka.prototype.refresh.call(this)},Qa.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(At(n.extent,t))return e=n,!0})),e&&n.remove(e)},Qa.prototype.removeFeature=function(t){var e=Z(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},Qa.prototype.removeFeatureInternal=function(t){var e=Z(t);this.featureChangeKeys_[e].forEach(Y),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Za(Ga,t))},Qa.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},Qa.prototype.setLoader=function(t){this.loader_=t},Qa.prototype.setUrl=function(t){yt(this.format_,7),this.setLoader(Ya(t,this.format_))},Qa);function el(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}function nl(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}var il,rl,ol,sl=D,al=(il=function(t,e){return(il=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}il(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ll="Point",ul="LineString",cl="Polygon",hl="Circle",fl="drawstart",pl=(al(dl,rl=S),dl);function dl(t,e){var n=rl.call(this,t)||this;return n.feature=e,n}function gl(t){var e=this,n=t;n.stopDown||(n.stopDown=P),(e=ol.call(this,n)||this).shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=function(t){var e;return t===f||t===y?e=ll:t===p||t===v?e=ul:t===g||t===m?e=cl:t===x&&(e=hl),e}(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===cl?3:2,e.maxPoints_=e.mode_===hl?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:D;var i,r=t.geometryFunction;if(!r){var o,s=e.mode_;s===hl?r=function(t,e,n){var i=e||new cn([NaN,NaN]),r=Ae(t[0]),o=function(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}(r,Ae(t[t.length-1]));i.setCenterAndRadius(r,Math.sqrt(o));var s=Le();return s&&i.transform(n,s),i}:(s===ll?o=si:s===ul?o=qn:s===cl&&(o=Ei),r=function(t,e,n){return e?s===cl?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])]):e.setCoordinates([]):e.setCoordinates(t):e=new o(t),e})}return e.geometryFunction_=r,e.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new Ta({source:new tl({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[g]=[new co({fill:new ao({color:[255,255,255,.5]})})],t[m]=t[g],t[p]=[new co({stroke:new uo({color:e,width:5})}),new co({stroke:new uo({color:n,width:3})})],t[v]=t[p],t[x]=t[g].concat(t[p]),t[f]=[new co({image:new oo({radius:6,fill:new ao({color:n}),stroke:new uo({color:e,width:1.5})}),zIndex:1/0})],t[y]=t[f],t[_]=t[g].concat(t[p],t[f]),t}(),function(t,e){return i[t.getGeometry().getType()]}),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:el,e.freehandCondition_,t.freehand?e.freehandCondition_=sl:e.freehandCondition_=t.freehandCondition?t.freehandCondition:nl,e.addEventListener(at(gn),e.updateState_),e}al(gl,ol=Ni),gl.prototype.setMap=function(t){ol.prototype.setMap.call(this,t),this.updateState_()},gl.prototype.getOverlay=function(){return this.overlay_},gl.prototype.handleEvent=function(t){"contextmenu"===t.originalEvent.type&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==ll&&this.freehandCondition_(t);var e=t.type===$n,n=!0;return!this.freehand_&&this.lastDragTime_&&t.type===Kn&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&t.type===Kn&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===Zn?n=!1:e&&this.getPointerCount()<2?(n=t.type===$n)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===Kn&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):"dblclick"===t.type&&(n=!1),ol.prototype.handleEvent.call(this,t)&&n},gl.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Vn($n,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},gl.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){switch(!0){case!this.finishCoordinate_:if(this.startDrawing_(t.coordinate),this.mode_!==ll)break;case this.freehand_||this.atFinish_(t.pixel)&&this.finishCondition_(t):this.finishDrawing();break;case!this.freehand_:this.addToDrawing_(t.coordinate)}e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.originalEvent.stopPropagation(),e},gl.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t)},gl.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_],r=this.mode_;if(r===ll)e=!0;else if(r===hl)e=2===this.sketchCoords_.length;else if(r===ul)n=this.sketchCoords_.length>this.minPoints_;else if(r===cl){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,i=[o[0][0],o[0][o[0].length-2]]}if(n)for(var s=this.getMap(),a=0,l=i.length;a<l;a++){var u=i[a],c=s.getPixelFromCoordinate(u),h=t[0]-c[0],f=t[1]-c[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+f*f)<=p){this.finishCoordinate_=u;break}}}return e},gl.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new dn(new si(e)),this.updateSketchFeatures_())},gl.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new dn);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new qn(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},gl.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===ll?this.sketchCoords_=t.slice():this.mode_===cl?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new dn(new qn(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new dn,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new pl(fl,this.sketchFeature_))},gl.prototype.modifyDrawing_=function(t){var e,n,i=this.getMap(),r=this.sketchFeature_.getGeometry(),o=i.getView().getProjection();this.mode_===ll?n=this.sketchCoords_:this.mode_===cl?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(i.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),r.getType()===g&&this.mode_!==cl?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},gl.prototype.addToDrawing_=function(t){var e,n,i=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o=this.mode_;o===ul||o===hl?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,i,r)):o===cl&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,i,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},gl.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;if(i===ul||i===hl){if((t=this.sketchCoords_).splice(-2,1),2<=t.length){this.finishCoordinate_=t[t.length-2].slice();var r=this.finishCoordinate_.slice();t[t.length-1]=r,this.sketchPoint_.setGeometry(new si(r))}this.geometryFunction_(t,e,n),e.getType()===g&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(i===cl){(t=this.sketchCoords_[0]).splice(-2,1);var o=this.sketchLine_.getGeometry();2<=t.length&&(r=t[t.length-2].slice(),t[t.length-1]=r,this.sketchPoint_.setGeometry(new si(r))),o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},gl.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===ul?(e.pop(),this.geometryFunction_(e,n,i)):this.mode_===cl&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),this.type_===y?t.setGeometry(new ci([e])):this.type_===v?t.setGeometry(new ni([e])):this.type_===m&&t.setGeometry(new Ri([e])),this.dispatchEvent(new pl("drawend",t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},gl.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},gl.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new pl("drawabort",t))},gl.prototype.appendCoordinates=function(t){var e,n=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(t[0]),n===ul||n===hl)e=this.sketchCoords_;else{if(n!==cl)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&e.shift(),e.pop();for(var r=0;r<t.length;r++)this.addToDrawing_(t[r]);var o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)},gl.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new dn(new si(n)),this.updateSketchFeatures_(),this.dispatchEvent(new pl(fl,this.sketchFeature_))},gl.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},gl.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)};var yl,vl=n(10),ml=n.n(vl);n(86),n(91),n(93),n(99);var _l,xl,wl,Sl,Cl,bl,Tl,El,kl,Ol={},Il={fillColor:"rgb(0,153,255)",fillOpacity:.75,strokeColor:"rgb(0,153,255)",strokeOpacity:1,strokeWidth:2,strokeType:"line",pointSize:10,pointType:"circle",textSize:20,textString:"Text",textFont:'"Helvetica Neue", Helvetica, Arial, sans-serif'};function Dl(t,e){var n=1<arguments.length&&void 0!==e?e:1,i=t.replace(/[^\d,.]/g,"").split(",");return i[3]=n,i}function Pl(t,e,n,i){var o;switch(t){case"square":o=new r.a.ol.style.Style({image:new r.a.ol.style.RegularShape({fill:n,stroke:i,points:4,radius:e,angle:Math.PI/4})});break;case"triangle":o=new r.a.ol.style.Style({image:new r.a.ol.style.RegularShape({fill:n,stroke:i,points:3,radius:e,rotation:0,angle:0})});break;case"star":o=new r.a.ol.style.Style({image:new r.a.ol.style.RegularShape({fill:n,stroke:i,points:5,radius:e,radius2:e/2.5,angle:0})});break;case"cross":o=new r.a.ol.style.Style({image:new r.a.ol.style.RegularShape({fill:n,stroke:i,points:4,radius:e,radius2:0,angle:0})});break;case"x":o=new r.a.ol.style.Style({image:new r.a.ol.style.RegularShape({fill:n,stroke:i,points:4,radius:e,radius2:0,angle:Math.PI/4})});break;case"circle":o=new r.a.ol.style.Style({image:new r.a.ol.style.Circle({fill:n,stroke:i,radius:e})});break;default:o=new r.a.ol.style.Style({image:new r.a.ol.style.Circle({fill:n,stroke:i,radius:e})})}return o}function Rl(t){Ol.fillColor=t,Ol.fillColorArr=Dl(Ol.fillColor,Ol.fillOpacity)}function Ll(t){Ol.strokeColor=t,Ol.strokeColorArr=Dl(Ol.strokeColor,Ol.strokeOpacity)}function Al(t,e){var n=ml()(Ol,e),i=t.getGeometry().getType();t.get(yl)&&(i="TextPoint");var o,s=[];o="dash"===n.strokeType?[3*n.strokeWidth,3*n.strokeWidth]:"dash-point"===n.strokeType?[3*n.strokeWidth,3*n.strokeWidth,.1,3*n.strokeWidth]:"point"===n.strokeType&&[.1,3*n.strokeWidth];var a=new r.a.ol.style.Stroke({color:n.strokeColorArr,width:n.strokeWidth,lineDash:o}),l=new r.a.ol.style.Fill({color:n.fillColorArr}),u="".concat(n.textSize,"px ").concat(n.textFont);switch(i){case"LineString":case"MultiLineString":s[0]=new r.a.ol.style.Style({stroke:a});break;case"Polygon":case"MultiPolygon":s[0]=new r.a.ol.style.Style({fill:l,stroke:a});break;case"Point":case"MultiPoint":s[0]=Pl(n.pointType,n.pointSize,l,a);break;case"TextPoint":s[0]=new r.a.ol.style.Style({text:new r.a.ol.style.Text({text:n.textString||"Text",font:u,fill:l})}),t.set(yl,n.textString||"Text");break;default:s[0]=Pl(n.pointType,n.pointSize,l,a)}return s}function Fl(){iu.getSelection().forEach((function(t){var e=t.getStyle();e[0]=Al(t)[0],t.set("style",ml()({},Ol)),t.setStyle(e)}))}function Ml(t){var e,n,i,o,s,a=0<arguments.length&&void 0!==t?t:{},l=a.title,u=void 0===l?"Anpassa stil":l,c=a.cls,h=void 0===c?"control overflow-hidden hidden":c,f=a.target,p=a.closeIcon,d=void 0===p?"#ic_close_24px":p,g=a.style,y=void 0===g?"":g,v=a.palette,m=void 0===v?["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)"]:v;function _(){e.classList.toggle("hidden")}return yl=a.annotation||"annonation",Ol=ml()(Il,a.swDefaults),m.forEach((function(t,e){var n=Dl(m[e]);m[e]="rgb(".concat(n[0],",").concat(n[1],",").concat(n[2],")")})),r.a.ui.Component({closeWindow:_,onInit:function(){var t=[];n=r.a.ui.Element({cls:"flex row justify-start margin-y-small margin-left text-weight-bold",style:"width: 100%;",innerHTML:"".concat(u)}),t.push(n),s=r.a.ui.Button({cls:"small round margin-top-small margin-right-small margin-bottom-auto margin-right icon-smaller grey-lightest no-shrink",icon:d,validStates:["initial","hidden"],click:function(){_()}}),t.push(s),i=r.a.ui.Element({cls:"flex justify-end grey-lightest",components:t}),o=r.a.ui.Element({cls:"o-draw-stylewindow-content overflow-auto",innerHTML:"".concat(function(t,e){var n=t,i='<div id="o-draw-style-fill" class="padding border-bottom"><div class="text-large text-align-center">Fyllning</div><div id="o-draw-style-fillColor"><ul>';n.includes(e.fillColor)||n.push(e.fillColor),n.includes(e.strokeColor)||n.push(e.strokeColor);for(var r=0;r<n.length;r+=1){var o=n[r]===e.fillColor?" checked=true":"";i+='<li>\n    <input type="radio" id="fillColorRadio'.concat(r,'" name="fillColorRadio" value="').concat(n[r],'"').concat(o,' />\n    <label for="fillColorRadio').concat(r,'"><span style="background:').concat(n[r],'"></span></label>\n    </li>')}i+='</ul></div><div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-fillOpacitySlider" type="range" min="0.05" max="1" value="'.concat(e.fillOpacity,'" step="0.05">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">5%</span>\n    <span class="text-smaller">Opacitet</span>\n    <span class="text-smaller float-right">100%</span>\n  </div>\n  </div></div>');for(var s='<div id="o-draw-style-stroke" class="padding border-bottom"><div class="text-large text-align-center">Kantlinje</div><div id="o-draw-style-strokeColor"><ul>',a=0;a<n.length;a+=1){var l=n[a]===e.strokeColor?" checked=true":"";s+='<li>\n    <input type="radio" id="strokeColorRadio'.concat(a,'" name="strokeColorRadio" value="').concat(n[a],'"').concat(l,' />\n    <label for="strokeColorRadio').concat(a,'"><span style="background:').concat(n[a],'"></span></label>\n    </li>')}s+='</ul></div><div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-strokeOpacitySlider" type="range" min="0.05" max="1" value="'.concat(e.strokeOpacity,'" step="0.05">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">5%</span>\n    <span class="text-smaller">Opacitet</span>\n    <span class="text-smaller float-right">100%</span>\n  </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n  <input id="o-draw-style-strokeWidthSlider" type="range" min="1" max="10" value="').concat(e.strokeWidth,'" step="1">\n  <div class="text-align-center">\n    <span class="text-smaller float-left">1px</span>\n    <span class="text-smaller">Linjebredd</span>\n    <span class="text-smaller float-right">10px</span>\n  </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <select id="o-draw-style-strokeType" class="small no-margin width-full">\n      <option value="line"').concat("line"===e.strokeType?" selected":"",'>Heldragen linje</option>\n      <option value="dash"').concat("dash"===e.strokeType?" selected":"",'>Streckad linje</option>\n      <option value="point"').concat("point"===e.strokeType?" selected":"",'>Punktad linje</option>\n      <option value="dash-point"').concat("dash-point"===e.strokeType?" selected":"",">Streck-punkt-linje</option>\n    </select>\n  </div></div>");var u='<div id="o-draw-style-point" class="padding border-bottom"><div class="text-large text-align-center">Punkt</div><div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-pointSizeSlider" type="range" min="1" max="50" value="'.concat(e.pointSize,'" step="1">\n    <div class="text-align-center">\n      <span class="text-smaller float-left">1px</span>\n      <span class="text-smaller">Punktstorlek</span>\n      <span class="text-smaller float-right">50px</span>\n    </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <select id="o-draw-style-pointType" class="small no-margin width-full">\n      <option value="circle"').concat("circle"===e.pointType?" selected":"",'>Cirkel</option>\n      <option value="x"').concat("x"===e.pointType?" selected":"",'>Kryss</option>\n      <option value="cross"').concat("cross"===e.pointType?" selected":"",'>Kors</option>\n      <option value="star"').concat("star"===e.pointType?" selected":"",'>StjÃ¤rna</option>\n      <option value="triangle"').concat("triangle"===e.pointType?" selected":"",'>Triangel</option>\n      <option value="square"').concat("square"===e.pointType?" selected":"",">Kvadrat</option>\n    </select>\n  </div></div>");return'<div id="o-draw-style-text" class="padding border-bottom"><div class="text-large text-align-center">Text</div><div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-textSizeSlider" type="range" min="8" max="128" value="'.concat(e.textSize,'" step="1">\n    <div class="text-align-center">\n      <span class="text-smaller float-left">8px</span>\n      <span class="text-smaller">Textstorlek</span>\n      <span class="text-smaller float-right">128px</span>\n    </div>\n  </div>\n  <div class="padding-smaller o-tooltip active">\n    <input id="o-draw-style-textString" class="small no-margin width-full" type="text" value="').concat(e.textString,'">\n  </div></div>')+u+i+s}(m,Ol))}),this.addComponent(i),this.addComponent(o),this.on("render",this.onRender),document.getElementById(f).appendChild(r.a.ui.dom.html(this.render())),this.dispatch("render"),function(){var t,e=document.getElementById("o-draw-style-fillColor"),n=document.getElementById("o-draw-style-strokeColor");t=e.querySelectorAll("span");for(var i=0;i<t.length;i+=1)t[i].addEventListener("click",(function(){Rl(this.style.backgroundColor),Fl()}));t=n.querySelectorAll("span");for(var r=0;r<t.length;r+=1)t[r].addEventListener("click",(function(){Ll(this.style.backgroundColor),Fl()}));document.getElementById("o-draw-style-fillOpacitySlider").addEventListener("input",(function(){Ol.fillOpacity=this.value,Rl(Ol.fillColor),Fl()})),document.getElementById("o-draw-style-strokeOpacitySlider").addEventListener("input",(function(){Ol.strokeOpacity=this.value,Ll(Ol.strokeColor),Fl()})),document.getElementById("o-draw-style-strokeWidthSlider").addEventListener("input",(function(){Ol.strokeWidth=this.value,Fl()})),document.getElementById("o-draw-style-strokeType").addEventListener("change",(function(){Ol.strokeType=this.value,Fl()})),document.getElementById("o-draw-style-pointType").addEventListener("change",(function(){Ol.pointType=this.value,Fl()})),document.getElementById("o-draw-style-pointSizeSlider").addEventListener("input",(function(){Ol.pointSize=this.value,Fl()})),document.getElementById("o-draw-style-textString").addEventListener("input",(function(){Ol.textString=this.value,Fl()})),document.getElementById("o-draw-style-textSizeSlider").addEventListener("input",(function(){Ol.textSize=this.value,Fl()}))}()},onRender:function(){e=document.getElementById("o-draw-stylewindow")},render:function(){var t;return t=""!==y?'style="'.concat(y,'"'):"",'<div id="o-draw-stylewindow" class="'.concat(h,' flex">\n                  <div class="absolute flex column no-margin width-full height-full" ').concat(t,">\n                    ").concat(i.render(),"\n                    ").concat(o.render(),"\n                  </div>\n                </div>")}})}Il.fillColorArr=Dl(Il.fillColor,Il.fillOpacity),Il.strokeColorArr=Dl(Il.strokeColor,Il.strokeOpacity);var jl=new r.a.ol.style.Style({image:new r.a.ol.style.Circle({radius:6,fill:new r.a.ol.style.Fill({color:[200,100,100,.8]})}),geometry:function(t){var e,n,i=t.getGeometry().getType();return"Polygon"===i?(e=t.getGeometry().getCoordinates()[0],n=new r.a.ol.geom.MultiPoint(e)):"LineString"===i?(e=t.getGeometry().getCoordinates(),n=new r.a.ol.geom.MultiPoint(e)):"Point"===i&&(e=t.getGeometry().getCoordinates(),n=new r.a.ol.geom.Point(e)),n}});function Nl(t){var e,n;"Point"!==t.feature.getGeometry().getType()&&(e=t.feature.getGeometry().getType(),n=[],"Point"!==e&&(_l.getInteractions().forEach((function(t){t instanceof r.a.ol.interaction.DoubleClickZoom&&n.push(t)})),0<n.length&&_l.removeInteraction(n[0])))}function Wl(t){switch(t){case"draw":bl.getFeatures().clear(),Tl.setActive(!0),bl.setActive(!1);break;default:Cl=void 0,_l.removeInteraction(Sl),Tl.setActive(!0),bl.setActive(!0)}}function Gl(t){var e;if("Text"===Cl?(e=t.feature,""=="Text"?wl.getFeatureStore().removeFeature(e):e.set(El,"Text"),Wl(),Cl=void 0,ru.emitChangeDraw("Text",!1),document.getElementById("o-draw-stylewindow").classList.remove("hidden")):(Wl(),Cl=void 0,ru.emitChangeDraw(t.feature.getGeometry().getType(),!1)),setTimeout((function(){var t;t=[],_l.getInteractions().forEach((function(e){e instanceof r.a.ol.interaction.DoubleClickZoom&&t.push(e)})),t.length<1&&_l.addInteraction(new r.a.ol.interaction.DoubleClickZoom)}),100),wl){var n=Al(t.feature);t.feature.setStyle(n)}}function Bl(t){var e;if(t.target){var n=(e=t.target.item(0)).getStyle()||kl.createStyleRule(h[1]);n.push(jl),e.setStyle(n),function(t){var e=t.getGeometry().getType();switch(Ol=ml()(Ol,t.get("style")),t.get(yl)&&(e="TextPoint"),e){case"LineString":case"MultiLineString":document.getElementById("o-draw-style-fill").classList.add("hidden"),document.getElementById("o-draw-style-point").classList.add("hidden"),document.getElementById("o-draw-style-text").classList.add("hidden");break;case"Polygon":case"MultiPolygon":document.getElementById("o-draw-style-point").classList.add("hidden"),document.getElementById("o-draw-style-text").classList.add("hidden");break;case"Point":case"MultiPoint":document.getElementById("o-draw-style-text").classList.add("hidden");break;case"TextPoint":document.getElementById("o-draw-style-stroke").classList.add("hidden"),document.getElementById("o-draw-style-point").classList.add("hidden")}document.getElementById("o-draw-style-pointSizeSlider").value=Ol.pointSize,document.getElementById("o-draw-style-pointType").value=Ol.pointType,document.getElementById("o-draw-style-textSizeSlider").value=Ol.textSize,document.getElementById("o-draw-style-textString").value=Ol.textString,Ol.strokeColor=Ol.strokeColor.replace(/ /g,"");var n=document.getElementById("o-draw-style-strokeColor").querySelector('input[value = "'.concat(Ol.strokeColor,'"]'));if(n)n.checked=!0;else{var i=document.querySelector('input[name = "strokeColorRadio"]:checked');i&&(i.checked=!1)}document.getElementById("o-draw-style-strokeWidthSlider").value=Ol.strokeWidth,document.getElementById("o-draw-style-strokeOpacitySlider").value=Ol.strokeOpacity,document.getElementById("o-draw-style-strokeType").value=Ol.strokeType;var r=document.getElementById("o-draw-style-fillColor");Ol.fillColor=Ol.fillColor.replace(/ /g,"");var o=r.querySelector('input[value = "'.concat(Ol.fillColor,'"]'));if(o)o.checked=!0;else{var s=document.querySelector('input[name = "fillColorRadio"]:checked');s&&(s.checked=!1)}document.getElementById("o-draw-style-fillOpacitySlider").value=Ol.fillOpacity}(e)}}function ql(t){document.getElementById("o-draw-style-fill").classList.remove("hidden"),document.getElementById("o-draw-style-stroke").classList.remove("hidden"),document.getElementById("o-draw-style-point").classList.remove("hidden"),document.getElementById("o-draw-style-text").classList.remove("hidden");var e=t.element.getStyle();e[e.length-1]===jl&&(e.pop(),t.element.setStyle(e))}function Xl(t){Wl(),Cl=void 0,ru.emitChangeDraw(t,!1)}function Hl(t){Cl=void 0,ru.emitToggleDraw(t.tool,{drawType:t.drawType})}function zl(){return void 0!==Tl&&void 0!==bl}function Yl(t){var e,n;t.stopPropagation(),"delete"===t.tool?(n=bl.getFeatures()).getLength()&&(e=wl.getFeatureStore(),n.forEach((function(t){e.removeFeature(t)})),bl.getFeatures().clear()):"cancel"===t.tool?(Xl(t.tool),zl()&&(_l.removeInteraction(Tl),_l.removeInteraction(bl),_l.removeInteraction(Sl),Sl=bl=Tl=void 0)):t.tool===Cl?Xl(t.tool):"Polygon"!==t.tool&&"LineString"!==t.tool&&"Point"!==t.tool&&"Text"!==t.tool||(Cl&&Xl(t.tool),Wl("draw"),function(t,e){var n=t;xl=wl.getFeatureStore(),"Text"===(Cl=t)&&(n="Point");var i={source:xl,type:n};e&&l.a.extend(i,function(t){var e={box:{type:"Circle",geometryFunction:function(t,e,n){var i=function(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)Ft(e,t[n]);return e}([t[0],t[t.length-1]].map((function(t){return Ae(t)}))),r=[[Wt(i),Gt(i),Ht(i),Xt(i),Wt(i)]],o=e;o?o.setCoordinates(r):o=new Ei(r);var s=Le();return s&&o.transform(n,s),o}},freehand:{freehand:!0}};return Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}(e)),_l.removeInteraction(Sl),Sl=new r.a.ol.interaction.Draw(i),_l.addInteraction(Sl),ru.emitChangeDraw(t,!0),Sl.on("drawend",Gl,this),Sl.on("drawstart",Nl,this)}(t.tool,t.drawType))}function Ul(t){if("draw"===t.interaction&&!zl()){var e=kl.createStyleRule(h);void 0===wl&&(wl=r.a.featurelayer(null,_l)).setStyle(e),bl=new r.a.ol.interaction.Select({layers:[wl.getFeatureLayer()],style:null,hitTolerance:5}),Tl=new r.a.ol.interaction.Modify({features:bl.getFeatures(),style:null}),_l.addInteraction(bl),_l.addInteraction(Tl),bl.getFeatures().on("add",Bl,this),bl.getFeatures().on("remove",ql,this),Wl()}}var Vl,Kl,$l,Zl,Jl,Ql,tu,eu,nu,iu={init:function(t){void 0===Function.prototype.name&&void 0!==c.a&&c()(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&1<t.length?t[1].trim():""}});var e=t||{};kl=r.a.Style,_l=e.viewer.getMap(),El=e.annotation||"annonation",Cl=void 0,l()(document).on("toggleDraw",Yl),l()(document).on("editorDrawTypes",Hl),l()(document).on("enableInteraction",Ul)},getSelection:function(){return bl.getFeatures()},getState:function(){if(wl){var t=wl.getFeatureStore(),e=new r.a.ol.format.GeoJSON,n=t.getFeatures();return{features:e.writeFeatures(n)}}},restoreState:function(t){if(t.features&&0<t.features.length){void 0===wl&&(wl=r.a.featurelayer(null,_l));var e=wl.getFeatureStore();e.addFeatures(t.features),e.getFeatures().forEach((function(t){if(t.get(El)&&t.set(El,t.get(El)),t.get("style")){var e=Al(t,t.get("style"));t.setStyle(e)}else{var n=Al(t);t.setStyle(n)}}))}},getActiveTool:function(){return Cl}},ru={emitToggleDraw:function(t,e){var n=e||{},i={type:"toggleDraw",tool:t};l.a.extend(i,n),l.a.event.trigger(i)},emitChangeDraw:function(t,e){l.a.event.trigger({type:"changeDraw",tool:t,active:e})},emitEnableDrawInteraction:function(){l()(".o-map").first().trigger({type:"enableInteraction",interaction:"draw"})},emitDisableDrawInteraction:function(){iu.getSelection().clear(),l()(".o-map").first().trigger({type:"enableInteraction",interaction:"featureinfo"})},emitChangeEditorDrawType:function(t,e){l.a.event.trigger({type:"editorDrawTypes",tool:t,drawType:e})}},ou=r.a.Utils.default.createElement,su=function(t,e){var n,i={Polygon:"Polygon",Point:"Punkt",LineString:"Linje",box:"Rektangel",freehand:"FrihandslÃ¤ge"},o=e.getMap(),s=!1,a="o-active",u="draw-toolbar-dropdown";function c(){s&&h(n[0],!1)}function h(t,e){var h;e?1<n.length&&(s=!0,l()("#".concat(u,"-").concat(t," > ul")).remove(),h={target:u,selectOptions:n.map((function(t){var e={};return e.name=i[t],e.value=t,e})),activeTool:n[0]},r.a.dropdown("".concat(h.target,"-").concat(h.activeTool),h.selectOptions,{dataAttribute:"shape",active:h.activeTool}),l()("#".concat(h.target,"-").concat(h.activeTool)).on("changeDropdown",(function(t){t.stopImmediatePropagation(t),ru.emitChangeEditorDrawType(h.activeTool,t.detail.dataAttribute),c()})),l()("#".concat(u,"-").concat(t)).addClass(a),o.once("click",c)):(s=!1,l()("[id^=".concat(u,"-]")).removeClass(a),o.un("click",c))}!function(){for(var e in t)if(t.hasOwnProperty(e)){var n=ou("div","",{id:"".concat(u,"-").concat(e),cls:"o-popover"});l()("button[title=".concat(i[e],"]")).after(n),h(e,!1)}}(),l()(document).on("changeDraw",(function(e){var i;!0===e.active?(i=e.tool,t[i]?(n=t[i]?t[i].slice(0):[]).unshift(i):n=[i],h(e.tool,!0)):!1===e.active&&h(e.tool,!1),e.stopPropagation()}))},au="o-control-active";function lu(t){!0===t?(nu.dispatch("toggleClickInteraction",{name:"featureinfo",active:!1}),l()("#o-draw-toolbar").removeClass("o-hidden")):(nu.dispatch("toggleClickInteraction",{name:"featureinfo",active:!0}),l()("#o-draw-toolbar").addClass("o-hidden"))}function uu(t){"draw"===t.interaction?lu(!0):(lu(!1),ru.emitToggleDraw("cancel"))}function cu(t,e){!1===e?t.removeClass(au):t.addClass(au)}function hu(t){s()(eu).forEach((function(e){e===t.tool?cu(eu[e],t.active):cu(eu[e],!1)}))}var fu={getState:function(){return iu.getState()},restoreState:function(t){t&&t.controls&&t.controls.draw&&iu.restoreState(t.controls.draw)},init:function(t){var e=t||{},n=e.options.drawTools;nu=e.viewer,"o-tools-bottom",iu.init(e),l()("#".concat("o-tools-bottom")).append('<div id="o-draw-toolbar" class="o-draw-toolbar o-toolbar o-toolbar-horizontal o-padding-horizontal-8 o-rounded-top o-hidden">\n    <button title="Punkt" id="o-draw-point" class="icon-smaller medium round light" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_place_24px"></use>\n      </svg>\n    </button>\n    <div class="o-popover-container">\n      <button title="Polygon" id="o-draw-polygon" class="icon-smaller medium round light" type="button" name="button">\n        <svg class="icon">\n          <use xlink:href="#o_polygon_24px"></use>\n        </svg>\n      </button>\n    </div>\n    <div class="o-popover-container">\n      <button title="Linje" id="o-draw-polyline" class="icon-smaller medium round light" type="button" name="button">\n        <svg class="icon">\n          <use xlink:href="#ic_timeline_24px"></use>\n        </svg>\n      </button>\n    </div>\n    <button title="Text" id="o-draw-text" class="icon-smaller medium round light" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_title_24px"></use>\n      </svg>\n    </button>\n    <button title="Stil" id="o-draw-style" class="icon-smaller medium round light" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_palette_24px"></use>\n      </svg>\n    </button>\n    <button title="Ta bort" id="o-draw-delete" class="icon-smaller medium round light" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_delete_24px"></use>\n      </svg>\n    </button>\n    <button title="StÃ¤ng" id="o-draw-close" class="icon-smaller medium round light" type="button" name="button">\n      <svg class="icon">\n        <use xlink:href="#ic_close_24px"></use>\n      </svg>\n    </button>\n  </div>'),Vl=l()("#o-draw-polygon"),Kl=l()("#o-draw-polyline"),$l=l()("#o-draw-point"),Zl=l()("#o-draw-text"),Jl=l()("#o-draw-style"),Ql=l()("#o-draw-delete"),tu=l()("#o-draw-close"),eu={Point:$l,Linje:Kl,Polygon:Vl,Text:Zl},su(n,nu),l()(document).on("enableInteraction",uu),l()(document).on("changeDraw",hu),Ql.on("click",(function(t){ru.emitToggleDraw("delete"),Ql.blur(),t.preventDefault()})),Vl.on("click",(function(t){ru.emitToggleDraw("Polygon",!0),Vl.blur(),t.preventDefault()})),Kl.on("click",(function(t){ru.emitToggleDraw("LineString"),Kl.blur(),t.preventDefault()})),$l.on("click",(function(t){ru.emitToggleDraw("Point"),$l.blur(),t.preventDefault()})),Zl.on("click",(function(t){ru.emitToggleDraw("Text"),Zl.blur(),t.preventDefault()})),Jl.on("click",(function(t){document.getElementById("o-draw-stylewindow").classList.toggle("hidden"),Jl.blur(),t.preventDefault()})),tu.on("click",(function(t){document.getElementById("o-draw-stylewindow").classList.add("hidden"),ru.emitDisableDrawInteraction(),tu.blur(),t.stopPropagation(),t.preventDefault(),document.dispatchEvent(new CustomEvent("toggleInteraction",{bubbles:!0,detail:"featureInfo"}))})),e.isActive&&(lu(!0),ru.emitEnableDrawInteraction())}};e.default=function(t){var e,n,i,o=0<arguments.length&&void 0!==t?t:{},s=o.buttonText,a=void 0===s?"Rita":s,l=o.palette;return r.a.ui.Component({name:"draw",getState:function(){return fu.getState()},onAdd:function(t){e=t.target,n=e.getControlByName("mapmenu"),i=n.MenuItem({click:function(){document.dispatchEvent(new CustomEvent("toggleInteraction",{bubbles:!0,detail:"draw"})),ru.emitEnableDrawInteraction(),n.close()},icon:"#fa-pencil",title:a}),fu.init({viewer:e,options:o});var r=Ml({target:e.getMain().getId(),palette:l});fu.restoreState(e.getUrlParams()),this.addComponent(r),this.addComponent(i),this.render()},render:function(){n.appendMenuItem(i),this.dispatch("render")}})}}]).default;